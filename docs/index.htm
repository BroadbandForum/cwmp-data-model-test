<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="description" content="TP-181 – CPE WAN Management Protocol (TR-069): CWMP Interoperability and Functionality Test Plan" />
  <title>BBF – TP-181 – CPE WAN Management Protocol (TR-069)</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
    }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
  <link rel="stylesheet" href="bbf.css" />
  <link rel="stylesheet" href="extra.css" />
  <link rel="stylesheet" href="toc.css" />
  <link rel="stylesheet" href="release.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="main-content">
<header id="title-block-header">
<h1 class="title">TP-181 – CPE WAN Management Protocol (TR-069)</h1>
<p class="subtitle">Issue: 1 Amendment 2 <span class="release"></span></p>
<p class="date">Issue Date: January 2022</p>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#sec:purpose-and-scope">1 Purpose and Scope <span><img src="permalink.png" style="width:0.8em" /></span></a>
<ul>
<li><a href="#sec:purpose">1.1 Purpose <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:scope">1.2 Scope <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:test-execution">1.3 Test Execution <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
</ul></li>
<li><a href="#sec:references-and-terminology">2 References and Terminology <span><img src="permalink.png" style="width:0.8em" /></span></a>
<ul>
<li><a href="#sec:conventions">2.1 Conventions <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:references">2.2 References <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:abbreviations">2.3 Abbreviations <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
</ul></li>
<li><a href="#sec:bbftype-impact">3 Test Plan Impact <span><img src="permalink.png" style="width:0.8em" /></span></a>
<ul>
<li><a href="#sec:energy-efficiency">3.1 Energy Efficiency <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:ipv6">3.2 IPv6 <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:security">3.3 Security <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
</ul></li>
<li><a href="#sec:test-setup">4 Test Setup <span><img src="permalink.png" style="width:0.8em" /></span></a>
<ul>
<li><a href="#sec:test-equipment">4.1 Test Equipment <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:test-setup-and-execution">4.2 Test Setup and Execution <span><img src="permalink.png" style="width:0.8em" /></span></a>
<ul>
<li><a href="#sec:common-test-setup">4.2.1 Common Test Setup <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:determine-wan-interface">4.2.2 Determine WAN Interface <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:test-execution-1">4.2.3 Test Execution <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
</ul></li>
<li><a href="#sec:cpe-test-requirements-and-prerequisites">4.3 CPE Test Requirements and Prerequisites <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:acs-test-requirements">4.4 ACS Test Requirements <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:interoperability-testing">4.5 Interoperability Testing <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:test-validation">4.6 Test Validation <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
</ul></li>
<li><a href="#sec:test-procedures">5 Test Procedures <span><img src="permalink.png" style="width:0.8em" /></span></a>
<ul>
<li><a href="#sec:basic-setup">5.1 Basic Setup <span><img src="permalink.png" style="width:0.8em" /></span></a>
<ul>
<li><a href="#sec:factory-reset">5.1.1 Factory Reset <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:time-setting-device2-only">5.1.2 Time Setting (Device:2 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:time-setting-internetgatewaydevice1-only">5.1.3 Time Setting (InternetGatewayDevice:1 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:firmware-download">5.1.4 Firmware Download <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:getrpcmethods">5.1.5 GetRPCMethods <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:configuration-backup-and-restoration">5.1.6 Configuration Backup and Restoration <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:ppp-interface-change">5.1.7 PPP Interface Change <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:dhcp-provisioning">5.1.8 DHCP Provisioning <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:spv-on-a-boolean-parameter">5.1.9 SPV on a Boolean Parameter <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:encrypted-connection">5.1.10 Encrypted Connection <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:getparameternames-vendor-specific-parameters">5.1.11 GetParameterNames Vendor Specific Parameters <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:setparametervalues-vendor-specific-parameters">5.1.12 SetParameterValues Vendor Specific Parameters <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
</ul></li>
<li><a href="#sec:diagnostics">5.2 Diagnostics <span><img src="permalink.png" style="width:0.8em" /></span></a>
<ul>
<li><a href="#sec:diagnostics-ipping">5.2.1 Diagnostics IPPing <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:download-diagnostics-over-http">5.2.2 Download Diagnostics over HTTP <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:download-diagnostics-over-ftp">5.2.3 Download Diagnostics over FTP <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:upload-diagnostics-over-http">5.2.4 Upload Diagnostics over HTTP <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:upload-diagnostics-over-ftp">5.2.5 Upload Diagnostics over FTP <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:traceroute">5.2.6 TraceRoute <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:udpecho-test">5.2.7 UDPEcho Test <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
</ul></li>
<li><a href="#sec:statistics-and-monitoring">5.3 Statistics and Monitoring <span><img src="permalink.png" style="width:0.8em" /></span></a>
<ul>
<li><a href="#sec:current-interface-configuration-device2-only">5.3.1 Current Interface Configuration (Device:2 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:connected-lan-devices-internetgatewaydevice1-only">5.3.2 Connected LAN Devices (InternetGatewayDevice:1 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:connected-lan-devices-wi-fi-device2-only">5.3.3 Connected LAN Devices – Wi-Fi (Device:2 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:connected-lan-devices-dhcp-device2-only">5.3.4 Connected LAN Devices – DHCP (Device:2 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:device-connectdisconnect-notification-test">5.3.5 Device Connect/Disconnect Notification Test <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
</ul></li>
<li><a href="#sec:port-mappings">5.4 Port Mappings <span><img src="permalink.png" style="width:0.8em" /></span></a>
<ul>
<li><a href="#sec:create-a-port-mapping-single-interface">5.4.1 Create a Port Mapping – Single Interface <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:create-a-port-mapping-all-interfaces-device2-only">5.4.2 Create a Port Mapping – All Interfaces (Device:2 only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:create-a-port-mapping-external-port-range">5.4.3 Create a Port Mapping – External Port Range <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:create-a-port-mapping-lease-duration-0">5.4.4 Create a Port Mapping – Lease Duration &gt; 0 <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:create-a-port-mapping-remote-host-restriction">5.4.5 Create a Port Mapping – Remote Host Restriction <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:create-a-port-mapping-multiple-entries-precedence-rules">5.4.6 Create a Port Mapping – Multiple Entries – Precedence Rules <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:modify-a-port-mapping">5.4.7 Modify a Port Mapping <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:delete-a-port-mapping">5.4.8 Delete a Port Mapping <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:create-a-port-mapping-tcp">5.4.9 Create a Port Mapping – TCP <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
</ul></li>
<li><a href="#sec:advanced-firewall">5.5 Advanced Firewall <span><img src="permalink.png" style="width:0.8em" /></span></a>
<ul>
<li><a href="#sec:default-policy-device2-only">5.5.1 Default Policy (Device:2 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:denyallow-outbound-protocols-device2-only">5.5.2 Deny/Allow Outbound Protocols (Device:2 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:denyallow-outbound-ports-device2-only">5.5.3 Deny/Allow Outbound Ports (Device:2 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:denyallow-source-ip-address-device2-only">5.5.4 Deny/Allow Source IP Address (Device:2 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
</ul></li>
<li><a href="#sec:wi-fi-provisioning">5.6 Wi-Fi Provisioning <span><img src="permalink.png" style="width:0.8em" /></span></a>
<ul>
<li><a href="#sec:wi-fi-setup-wep-64-internetgatewaydevice1-only">5.6.1 Wi-Fi Setup WEP 64 (InternetGatewayDevice:1 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:wi-fi-setup-wep-128-internetgatewaydevice1-only">5.6.2 Wi-Fi Setup WEP 128 (InternetGatewayDevice:1 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:wi-fi-setup-wpa-personal-internetgatewaydevice1-only">5.6.3 Wi-Fi Setup WPA Personal (InternetGatewayDevice:1 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:wi-fi-setup-wpa2-personal-internetgatewaydevice1-only">5.6.4 Wi-Fi Setup WPA2 Personal (InternetGatewayDevice:1 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:wi-fi-setup-wpa-wpa2-personal-internetgatewaydevice1-only">5.6.5 Wi-Fi Setup WPA-WPA2 Personal (InternetGatewayDevice:1 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:wi-fi-setup-wep-64-device2-only">5.6.6 Wi-Fi Setup WEP 64 (Device:2 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:wi-fi-setup-wep-128-device2-only">5.6.7 Wi-Fi Setup WEP 128 (Device:2 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:wi-fi-setup-wpa-personal-device2-only">5.6.8 Wi-Fi Setup WPA Personal (Device:2 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:wi-fi-setup-wpa-enterprise-device2-only">5.6.9 Wi-Fi Setup WPA Enterprise (Device:2 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:wi-fi-setup-wpa2-personal-device2-only">5.6.10 Wi-Fi Setup WPA2 Personal (Device:2 only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:wi-fi-setup-wpa2-enterprise-device2-only">5.6.11 Wi-Fi Setup WPA2 Enterprise (Device:2 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:wi-fi-setup-wpa-wpa2-personal-device2-only">5.6.12 Wi-Fi Setup WPA-WPA2 Personal (Device:2 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:wi-fi-setup-wpa-wpa2-enterprise-device2-only">5.6.13 Wi-Fi Setup WPA-WPA2 Enterprise (Device:2 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:wi-fi-setup-wpa3-personal-device2-only">5.6.14 Wi-Fi Setup WPA3 Personal (Device:2 only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:wi-fi-setup-wpa3-personal-transition-device2-only">5.6.15 Wi-Fi Setup WPA3-Personal-Transition (Device:2 only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:wi-fi-setup-wpa3-enterprise-device2-only">5.6.16 Wi-Fi Setup WPA3-Enterprise (Device:2 only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:wi-fi-setup-add-ssid-device2-only">5.6.17 Wi-Fi Setup – Add SSID (Device:2 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:wi-fi-setup-remove-ssid-device2-only">5.6.18 Wi-Fi Setup – Remove SSID (Device:2 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
</ul></li>
<li><a href="#sec:localized-strings">5.7 Localized Strings <span><img src="permalink.png" style="width:0.8em" /></span></a>
<ul>
<li><a href="#sec:non-printable-ascii-characters-in-setparametervalues-rpc-device2-only">5.7.1 Non-Printable ASCII Characters in SetParameterValues RPC (Device:2 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:multi-byte-encoding-in-setparametervalues-rpc-device2-only">5.7.2 Multi-Byte Encoding in SetParameterValues RPC (Device:2 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:non-ascii-characters-in-parameterkey-device2-only">5.7.3 Non-ASCII Characters in ParameterKey (Device:2 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:multi-byte-encoding-in-parameterkey-device2-only">5.7.4 Multi-Byte Encoding in ParameterKey (Device:2 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:non-ascii-characters-in-commandkey-device2-only">5.7.5 Non-ASCII Characters in CommandKey (Device:2 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:multi-byte-encoding-in-commandkey-device2-only">5.7.6 Multi-Byte Encoding in CommandKey (Device:2 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
</ul></li>
<li><a href="#sec:configuration-backup-and-restore-incorrect-backup-file">5.8 Configuration Backup and Restore – Incorrect Backup File <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:dhcp-provisioning-disable-dhcp">5.9 DHCP Provisioning – Disable DHCP <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:diagnostics-ipping-error-condition">5.10 Diagnostics IPPing – Error Condition <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:traceroute-diagnostics-error-condition">5.11 TraceRoute Diagnostics – Error Condition <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:ipping-diagnostics-periodic-inform">5.12 IPPing Diagnostics – Periodic Inform <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:denyallow-inbound-ipv6-device2-only">5.13 Deny/Allow Inbound IPv6 (Device:2 Only) <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:download-diagnostics-over-https-totalbytesreceived">5.14 Download Diagnostics over HTTPS – TotalBytesReceived <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:upload-diagnostics-over-http---totalbytessent">5.15 Upload Diagnostics over HTTP - TotalBytesSent <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
</ul></li>
<li><a href="#sec:open-issues">6 Open Issues <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
</ul>
</nav>
<h3 class="unnumbered unlisted" id="list-of-figures">List of Figures <a href="#list-of-figures" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li><a href="#fig:common-topology-for-interoperability-testing">Common Topology for Interoperability Testing</a></li>
</ol>
<h3 class="unnumbered unlisted" id="list-of-tables">List of Tables <a href="#list-of-tables" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li><a href="#tbl:required-test-equipment">Required Test Equipment</a></li>
</ol>
<h3 class="unnumbered unlisted new-page" id="sec:notice">Notice <a href="#sec:notice" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>The Broadband Forum is a non-profit corporation organized to create guidelines for broadband network system development and deployment. This Test Plan is owned and copyrighted by the Broadband Forum, and portions of this Test Plan may be owned and/or copyrighted by Broadband Forum members.</p>
<h3 class="unnumbered unlisted" id="sec:intellectual-property">Intellectual Property <a href="#sec:intellectual-property" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>Recipients of this document are requested to submit, with their comments, notification of any relevant patent claims or other intellectual property rights of which they may be aware that might be infringed by any implementation of this Test Plan, and to provide supporting documentation.</p>
<h3 class="unnumbered unlisted" id="sec:terms-of-use">Terms of Use <a href="#sec:terms-of-use" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>Recipients of this document may use it (a) for internal review and study purposes, (b) to provide to the Broadband Forum the comments and notification requested in the preceding paragraph, and (c) if the Recipient is a Broadband Forum member, to implement the Test Plan in a product or service made commercially available. Any other use of this Test Plan is expressly prohibited without the prior written consent of the Broadband Forum.</p>
<p>THIS TEST PLAN IS BEING OFFERED WITHOUT ANY WARRANTY WHATSOEVER, AND IN PARTICULAR, ANY WARRANTY OF NONINFRINGEMENT AND ANY IMPLIED WARRANTIES ARE EXPRESSLY DISCLAIMED. ANY USE OF THIS TEST PLAN SHALL BE MADE ENTIRELY AT THE USER’S OR IMPLEMENTER’S OWN RISK, AND NEITHER THE FORUM, NOR ANY OF ITS MEMBERS OR SUBMITTERS, SHALL HAVE ANY LIABILITY WHATSOEVER TO ANY USER, IMPLEMENTER OR THIRD PARTY FOR ANY DAMAGES OF ANY NATURE WHATSOEVER, DIRECTLY OR INDIRECTLY, ARISING FROM THE USE OF THIS TEST PLAN, INCLUDING BUT NOT LIMITED TO, ANY CONSEQUENTIAL, SPECIAL, PUNITIVE, INCIDENTAL AND INDIRECT DAMAGES.</p>
<p>All copies of this Test Plan (or any portion hereof) must include the notices, legends and other provisions set forth on this page.</p>
<div class="note">
<p>© 2022, The Broadband Forum. All rights reserved. This Broadband Forum document (TP-181) specifies the Test Plan on which is based the &lt;BBF.NNN&gt; Certification Program for &lt;type of product&gt; products. Through an open selection process, the Broadband Forum entered into an agreement with one or more independent Test Agencies to offer commercial testing services against this Test Plan and to confirm results to the Broadband Forum in connection with the Forum’s delivery of &lt;BBF.NNN&gt; Certification. Offering Certification testing services against this Test Plan is reserved to the Test Agencies duly authorized by the Broadband Forum. Broadband Forum members can independently test against TP-181, but may only produce limited reports which only detail where a given product has failed a test case.</p>
<p>NOTE: The right to display a Broadband Forum Certification Logo may only be granted by the Broadband Forum, and that right is available only to Broadband Forum members that have successfully passed certification testing by a duly authorized Test Agency. Further details on the Broadband Forum Certification Programs can be found at <a href="http://www.broadband-forum.org">http://www.broadband-forum.org</a>.</p>
</div>
<h3 class="unnumbered unlisted new-page" id="sec:bbfissue-history">Issue History <a href="#sec:bbfissue-history" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<div data-bbftable="bbfRevisionHistory">
<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 46%" />
</colgroup>
<thead>
<tr class="header header">
<th style="text-align: left;">Issue Number</th>
<th style="text-align: left;">Approval Date</th>
<th style="text-align: left;">Publication Date</th>
<th style="text-align: left;">Issue Editor</th>
<th style="text-align: left;">Changes</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Issue 1</td>
<td style="text-align: left;">25 January 2019</td>
<td style="text-align: left;">25 January 2019</td>
<td style="text-align: left;">Tim Winters, UNH-IOL<br />
Marion Dillon, UNH-IOL</td>
<td style="text-align: left;">Original</td>
</tr>
<tr class="even even">
<td style="text-align: left;"><a href="https://www.broadband-forum.org/technical/download/TP-181_Corrigendum-1.pdf">Issue 1 Corrigendum 1</a></td>
<td style="text-align: left;">22 September 2020</td>
<td style="text-align: left;">22 September 2020</td>
<td style="text-align: left;">Jason Walls, QA Cafe</td>
<td style="text-align: left;">Clarifications to tests 5.1.8, 5.5.1, 5.5.2, and incorrect parameter name (DestinationInterface → DestInterface)</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;"><a href="https://www.broadband-forum.org/technical/download/TP-181_Amendment-2.pdf">Issue 1 Amendment 2</a></td>
<td style="text-align: left;">27 January 2022</td>
<td style="text-align: left;">27 January 2022</td>
<td style="text-align: left;">Jason Walls, QA Cafe</td>
<td style="text-align: left;">Adds WPA3 tests<br />
Moves document to web publishing</td>
</tr>
</tbody>
</table>
</div>
<p>Comments or questions about this Broadband Forum Test Plan should be directed to <a href="mailto:info@broadband-forum.org" class="email">info@broadband-forum.org</a>.</p>
<div data-bbftable="uspRevisionHistory">

</div>
<h3 class="unnumbered unlisted" id="sec:editors">Editors <a href="#sec:editors" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<div data-bbflist="bbfEditors">
<p>Jason Walls, QA Cafe, <a href="mailto:jason@qacafe.com" class="email">jason@qacafe.com</a></p>
</div>
<div data-bbftable="uspEditors">

</div>
<h3 class="unnumbered unlisted" id="sec:broadband-user-services-work-area-directors">Broadband User Services Work Area Director(s) <a href="#sec:broadband-user-services-work-area-directors" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<div data-bbflist="bbfWADs">
<p>Jason Walls, QA Cafe<br />
John Blackford, CommScope</p>
</div>
<div data-bbftable="uspWADs">

</div>
<div data-bbflist="bbfPSLs">

</div>
<div data-bbftable="uspPSLs">

</div>
<div data-bbftable="uspAcknowledgments">

</div>
<h1 class="unnumbered unlisted new-page" id="sec:executive-summary">Executive Summary <a href="#sec:executive-summary" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h1>
<p>In order to ensure the continued growth of the TR-069 market and further the interoperability of the protocol, the Broadband Forum is creating a TR-069 Certification Program. Within this program, devices implementing a TR-069 management interface may be tested for their conformance to the TR-069 specification and various use cases. The TR-069 Certification Program started with the TR-069 Conformance Test Plan and now the CWMP Data Model Implementation Test Plan. To provide a consistent scope for this verification, BBF developed these test plans that are to be used by the testing agencies in the verification process.</p>
<p>This Test Plan provides a test plan that may be used to verify Interoperability of a CPE Device with an ACS Server through use cases.</p>
<h1 class="new-page" id="sec:purpose-and-scope">1 Purpose and Scope <a href="#sec:purpose-and-scope" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h1>
<h2 id="sec:purpose">1.1 Purpose <a href="#sec:purpose" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<p>The purpose of this document is to provide a set of use test cases, which will be used as a common testing language during Interoperability testing of a CPE Device with an ACS Server.</p>
<h2 id="sec:scope">1.2 Scope <a href="#sec:scope" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<p>The tests detailed in this document are only intended to facilitate TR-069 interoperability use case testing. The tests in this document are limited to ACSs and CWMP enabled CPE devices.</p>
<h2 id="sec:test-execution">1.3 Test Execution <a href="#sec:test-execution" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<p>The tests detailed in this document are to be run in a controlled environment. There is no specified order to the tests in this document.</p>
<h1 class="new-page" id="sec:references-and-terminology">2 References and Terminology <a href="#sec:references-and-terminology" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h1>
<h2 id="sec:conventions">2.1 Conventions <a href="#sec:conventions" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<p>In this Test Plan, several words are used to signify the requirements of the specification. These words are always capitalized. More information can be found be in RFC 2119 <span class="cite" data-citation-ids="RFC2119"><a href="#ref-RFC2119">[4]</a></span>.</p>
<table>
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="odd odd">
<td style="text-align: left;"><strong>MUST</strong></td>
<td style="text-align: left;">This word, or the terms “REQUIRED”, means that the definition is an absolute requirement of the specification.</td>
</tr>
<tr class="even even">
<td style="text-align: left;"><strong>MUST NOT</strong></td>
<td style="text-align: left;">This phrase means that the definition is an absolute prohibition of the specification.</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;"><strong>SHOULD</strong></td>
<td style="text-align: left;">This word, or the adjective “RECOMMENDED”, means that there could exist valid reasons in particular circumstances to ignore this item, but the full implications need to be understood and carefully weighed before choosing a different course.</td>
</tr>
<tr class="even even">
<td style="text-align: left;"><strong>SHOULD NOT</strong></td>
<td style="text-align: left;">This phrase, or the phrase “NOT RECOMMENDED” means that there could exist valid reasons in particular circumstances when the particular behavior is acceptable or even useful, but the full implications need to be understood and the case carefully weighed before implementing any behavior described with this label.</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;"><strong>MAY</strong></td>
<td style="text-align: left;">This word, or the adjective “OPTIONAL”, means that this item is one of an allowed set of alternatives. An implementation that does not include this option MUST be prepared to inter-operate with another implementation that does include the option.</td>
</tr>
</tbody>
</table>
<h2 id="sec:references">2.2 References <a href="#sec:references" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<p>The following references are of relevance to this Test Plan. At the time of publication, the editions indicated were valid. All references are subject to revision; users of this Test Plan are therefore encouraged to investigate the possibility of applying the most recent edition of the references listed below, including any released amendments or corrigendum materials.</p>
<p>A list of currently valid Broadband Forum Technical Reports is published at <a href="http://www.broadband-forum.org">www.broadband-forum.org</a>.</p>
<div id="refs" class="references csl-bib-body" role="doc-bibliography">
<div id="ref-IR-069i2" class="csl-entry" role="doc-biblioentry">
<div class="csl-left-margin">[1] </div><div class="csl-right-inline"><u>IR-069 Issue 2</u>, <em>TR-069 Conformance Test Plan</em>, Broadband Forum, 2016</div>
</div>
<div id="ref-OD-361" class="csl-entry" role="doc-biblioentry">
<div class="csl-left-margin">[2] </div><div class="csl-right-inline"><u>OD-361</u>, <em>CWMP Certification Program Guidelines</em>, Broadband Forum, 2016</div>
</div>
<div id="ref-REC-xml" class="csl-entry" role="doc-biblioentry">
<div class="csl-left-margin">[3] </div><div class="csl-right-inline"><a href="https://www.w3.org/TR/xml">REC-xml</a>, <em>Extensible Markup Language (XML) 1.0 (Fifth Edition)</em>, W3C, 2008</div>
</div>
<div id="ref-RFC2119" class="csl-entry" role="doc-biblioentry">
<div class="csl-left-margin">[4] </div><div class="csl-right-inline"><a href="https://www.rfc-editor.org/rfc/rfc2119.html">RFC 2119</a>, <em>Key words for use in RFCs to Indicate Requirement Levels</em>, IETF, 1997</div>
</div>
<div id="ref-RFC2131" class="csl-entry" role="doc-biblioentry">
<div class="csl-left-margin">[5] </div><div class="csl-right-inline"><a href="https://www.rfc-editor.org/rfc/rfc2131.html">RFC 2131</a>, <em>Dynamic Host Configuration Protocol</em>, IETF</div>
</div>
<div id="ref-RFC2132" class="csl-entry" role="doc-biblioentry">
<div class="csl-left-margin">[6] </div><div class="csl-right-inline"><a href="https://www.rfc-editor.org/rfc/rfc2132.html">RFC 2132</a>, <em>DHCP Options and BOOTP Vendor Extensions</em>, IETF</div>
</div>
<div id="ref-RFC3315" class="csl-entry" role="doc-biblioentry">
<div class="csl-left-margin">[7] </div><div class="csl-right-inline"><a href="https://www.rfc-editor.org/rfc/rfc3315.html">RFC 3315</a>, <em>Dynamic Host Configuration Protocol for IPv6 (DHCPv6)</em>, IETF, 2003</div>
</div>
<div id="ref-TR-069" class="csl-entry" role="doc-biblioentry">
<div class="csl-left-margin">[8] </div><div class="csl-right-inline"><a href="https://www.broadband-forum.org/technical/download/TR-069.pdf">TR-069 Amendment 6</a>, <em>CPE WAN Management Protocol</em>, Broadband Forum, 2018</div>
</div>
<div id="ref-TR-098" class="csl-entry" role="doc-biblioentry">
<div class="csl-left-margin">[9] </div><div class="csl-right-inline"><a href="https://www.broadband-forum.org/technical/download/TR-098.pdf">TR-098 Amendment 2 Corrigendum 1</a>, <em>Internet Gateway Device Data Model for TR-069</em>, Broadband Forum, 2014</div>
</div>
<div id="ref-TR-181" class="csl-entry" role="doc-biblioentry">
<div class="csl-left-margin">[10] </div><div class="csl-right-inline"><a href="https://usp-data-models.broadband-forum.org#Device:2">TR-181 Issue 2</a>, <em>Device Data Model</em>, Broadband Forum</div>
</div>
</div>
<h2 id="sec:abbreviations">2.3 Abbreviations <a href="#sec:abbreviations" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<p>This Test Plan uses the following abbreviations:</p>
<div class="borderless">
<table>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">ACS</td>
<td style="text-align: left;">Auto-Configuration Server</td>
</tr>
<tr class="even even">
<td style="text-align: left;">CN</td>
<td style="text-align: left;">Common Name</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">CPE</td>
<td style="text-align: left;">Customer Premise Equipment</td>
</tr>
<tr class="even even">
<td style="text-align: left;">CWMP</td>
<td style="text-align: left;">CPE WAN Management Protocol</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">DHCP</td>
<td style="text-align: left;">Dynamic Host Configuration Protocol</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DNS</td>
<td style="text-align: left;">Domain Name System</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">DSLAM</td>
<td style="text-align: left;">DSL Access Multiplexer</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DUT</td>
<td style="text-align: left;">Device Under Test</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">FTP</td>
<td style="text-align: left;">File transfer Protocol</td>
</tr>
<tr class="even even">
<td style="text-align: left;">HTTP</td>
<td style="text-align: left;">Hypertext Transfer Protocol</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">HTTPS</td>
<td style="text-align: left;">Hypertext Transfer Protocol over Secure Socket Layer</td>
</tr>
<tr class="even even">
<td style="text-align: left;">ID</td>
<td style="text-align: left;">Identifier</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">IP</td>
<td style="text-align: left;">Internet Protocol</td>
</tr>
<tr class="even even">
<td style="text-align: left;">IPv6</td>
<td style="text-align: left;">Internet Protocol version 6</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">LAN</td>
<td style="text-align: left;">Local Area Network</td>
</tr>
<tr class="even even">
<td style="text-align: left;">NAT</td>
<td style="text-align: left;">Network Address Translation</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">NTP</td>
<td style="text-align: left;">Network Time Protocol</td>
</tr>
<tr class="even even">
<td style="text-align: left;">RFC</td>
<td style="text-align: left;">Request for Proposal</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">RPC</td>
<td style="text-align: left;">Remote Procedure Call</td>
</tr>
<tr class="even even">
<td style="text-align: left;">SOAP</td>
<td style="text-align: left;">Simple Object Access Protocol</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">SSL</td>
<td style="text-align: left;">Secure Socket Layer</td>
</tr>
<tr class="even even">
<td style="text-align: left;">STB</td>
<td style="text-align: left;">Set Top Box</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">STUN</td>
<td style="text-align: left;">Session Traversal Utilities for NAT</td>
</tr>
<tr class="even even">
<td style="text-align: left;">TCP</td>
<td style="text-align: left;">Transmission Control Protocol</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">TFTP</td>
<td style="text-align: left;">Trivial File transfer Protocol</td>
</tr>
<tr class="even even">
<td style="text-align: left;">TLS</td>
<td style="text-align: left;">Transport Layer Security</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">TR</td>
<td style="text-align: left;">Technical Report</td>
</tr>
<tr class="even even">
<td style="text-align: left;">TTL</td>
<td style="text-align: left;">Time to Live</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">UDP</td>
<td style="text-align: left;">User Datagram Protocol,</td>
</tr>
<tr class="even even">
<td style="text-align: left;">URL</td>
<td style="text-align: left;">Universal Resource Locator</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">URN</td>
<td style="text-align: left;">Uniform Resource Name</td>
</tr>
<tr class="even even">
<td style="text-align: left;">UTC</td>
<td style="text-align: left;">Coordinated Universal Time</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">UTF</td>
<td style="text-align: left;">Universal Multiple-Octet Coded Character Set Transformation Format</td>
</tr>
<tr class="even even">
<td style="text-align: left;">UUID</td>
<td style="text-align: left;">Universally Unique Identifier</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">VoIP</td>
<td style="text-align: left;">Voice over Internet Protocol</td>
</tr>
<tr class="even even">
<td style="text-align: left;">WAN</td>
<td style="text-align: left;">Wide Area Network</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">XML</td>
<td style="text-align: left;">Extensible Markup Language</td>
</tr>
<tr class="even even">
<td style="text-align: left;">WA</td>
<td style="text-align: left;">Work Area</td>
</tr>
</tbody>
</table>
</div>
<h1 class="new-page" id="sec:bbftype-impact">3 Test Plan Impact <a href="#sec:bbftype-impact" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h1>
<h2 id="sec:energy-efficiency">3.1 Energy Efficiency <a href="#sec:energy-efficiency" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<p>TP-181 has no impact on Energy Efficiency.</p>
<h2 id="sec:ipv6">3.2 IPv6 <a href="#sec:ipv6" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<p>TP-181 intends to support the IPv6 protocol. However, in this issue of the Working Text, IPv6 specific test cases have not been identified.</p>
<h2 id="sec:security">3.3 Security <a href="#sec:security" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<p>TP-181 requires the use of authentication when connecting CPE to an ACS. Use of an HTTPS URL indicates that the CPE can establish an SSL or TLS connection to the ACS.</p>
<h1 class="new-page" id="sec:test-setup">4 Test Setup <a href="#sec:test-setup" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h1>
<h2 id="sec:test-equipment">4.1 Test Equipment <a href="#sec:test-equipment" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<p>The necessary set of test equipment to deliver reliable and repeatable test results is specified in <a href="#tbl:required-test-equipment" class="table">Table 1</a>.</p>
<div id="tbl:required-test-equipment">
<table>
<caption>Table 1: Required Test Equipment <a href="#tbl:required-test-equipment" class="headerlink" title="Permalink to this table"><img src="permalink.png" style="width:0.8em" /></a></caption>
<colgroup>
<col style="width: 14%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header header">
<th style="text-align: left;">Test Equipment</th>
<th style="text-align: left;">Description and Functional Capabilities</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">ACS</td>
<td style="text-align: left;">The ACS is an interoperability partner in this test plan</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Traffic Analyzer</td>
<td style="text-align: left;">To verify certain test metrics, Traffic Analyzers MUST be present between the CPE and ACS and between the CPE and any LAN Device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Access Node</td>
<td style="text-align: left;">For infrastructure needs, an Access Node will be provided to bridge connections between the CPE and ACS</td>
</tr>
<tr class="even even">
<td style="text-align: left;">File Server</td>
<td style="text-align: left;">The File Server MUST support HTTP PUT &amp; GET, as well as FTP PUT &amp; GET</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">CPE</td>
<td style="text-align: left;">The CPE is an interoperability partner in this test plan</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Network Router</td>
<td style="text-align: left;">There may be one or more Network Routers between the CPE &amp; ACS. If the CPE is a LAN CPE, one Network Router may be configured to provide a Network Address Translation (NAT) function</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Firewall</td>
<td style="text-align: left;">The Firewall MUST support the ability to selectively block traffic based on IP address</td>
</tr>
<tr class="even even">
<td style="text-align: left;">NTP Server</td>
<td style="text-align: left;">Two NTP Servers. Public NTP Servers such as NIST Internet Time Servers may be used</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">RADIUS Server</td>
<td style="text-align: left;">To authenticate end devices in WPA Enterprise test cases</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DHCP Server</td>
<td style="text-align: left;">To assign addresses and other provisioning information to the CPE on the WAN</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">DNS Server</td>
<td style="text-align: left;">To resolve addresses on the WAN</td>
</tr>
<tr class="even even">
<td style="text-align: left;">LAN Device</td>
<td style="text-align: left;">To connect to the LAN side of a Gateway CPE</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Wireless LAN Device</td>
<td style="text-align: left;">To connect to the LAN side of a Gateway CPE over wireless</td>
</tr>
</tbody>
</table>
</div>
<h2 id="sec:test-setup-and-execution">4.2 Test Setup and Execution <a href="#sec:test-setup-and-execution" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<p>The Interoperability test setup is shown below in <a href="#fig:common-topology-for-interoperability-testing" class="figure">Figure 1</a>. The following pieces of test equipment needs to be connected to the Internet and reachable over IP, but there is no other topology requirement: ACS, DHCP Server, DNS Server, File Server, NTP Server, RADIUS Server. The Access Node may not be required if the primary CPE connection is Ethernet.</p>
<figure>
<img src="images/common-topology-for-interoperability-testing.png" id="fig:common-topology-for-interoperability-testing" alt="Figure 1: Common Topology for Interoperability Testing " /><figcaption aria-hidden="true">Figure 1: Common Topology for Interoperability Testing <a href="#fig:common-topology-for-interoperability-testing" class="headerlink" title="Permalink to this figure"><img src="permalink.png" style="width:0.8em" /></a></figcaption>
</figure>
<h3 id="sec:common-test-setup">4.2.1 Common Test Setup <a href="#sec:common-test-setup" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>This section describes the test setup shared between all test cases. Any additional setup steps will be described in the “Test Setup” section of the test case.</p>
<ol>
<li><p>ACS is connected to the network</p></li>
<li><p>CPE is connected to the network and configured with an ACS URL that corresponds to the ACS in step 1.</p></li>
<li><p>Have a Network Analyzer to capture traffic between ACS and CPE.</p></li>
</ol>
<h3 id="sec:determine-wan-interface">4.2.2 Determine WAN Interface <a href="#sec:determine-wan-interface" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>This section describes steps to determine the WAN interface of a device. These steps are referenced in the Test Procedures.</p>
<p>For CPE that support the Device:2 data model:</p>
<ul>
<li>The ACS performs a GetParameterNames RPC on the Interface table. The interface with the WAN IP address is the WAN interface.</li>
</ul>
<p>For CPE that support the InternetGatewayDevice:1 root data model <span class="cite" data-citation-ids="TR-098"><a href="#ref-TR-098">[9]</a></span>:</p>
<ul>
<li>The ACS performs a GetParameterValues RPC on InternetGatewayDevice.Layer3Forwarding.DefaultConnectionService. This will return the WAN interface.</li>
</ul>
<h3 id="sec:test-execution-1">4.2.3 Test Execution <a href="#sec:test-execution-1" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>Each test is defined as a separate entity that can be run independent of all other test procedures. These tests, performed sequentially, may cause changes to the ACS &amp; CPE states during the course of testing.</p>
<div class="note">
<p>If a CPE returns a status of 1 in a SetParameterValuesResponse or an AddObjectResponse, the following steps MUST be followed:</p>
<ol>
<li><p>Terminate the CWMP session.</p></li>
<li><p>Configure the ACS to issue a connection request.</p></li>
<li><p>Configure the ACS to issue a GetParameterValues RPC for the changed variable(s) and verify that they are correct.</p></li>
</ol>
</div>
<h2 id="sec:cpe-test-requirements-and-prerequisites">4.3 CPE Test Requirements and Prerequisites <a href="#sec:cpe-test-requirements-and-prerequisites" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<ol>
<li><p>OD-361 section 3.4.4 <span class="cite" data-citation-ids="OD-361"><a href="#ref-OD-361">[2]</a></span> states that passing IR-069i2 <span class="cite" data-citation-ids="IR-069i2"><a href="#ref-IR-069i2">[1]</a></span> is a prerequisite for a CPE undergoing this test plan.</p></li>
<li><p>Each test case includes a References section that refers to a version of a data model definition or other standard document. For all Broadband Forum data models and Broadband Forum Technical Reports, the test case references the earliest version the CPE can support to run the test case.</p></li>
<li><p>Each test case includes a Profiles section that includes the profiles needed to run the test case. Any additional requirements are included in the Optional Features section. If the CPE supports the profile and the optional feature listed, the test case MUST be run.</p>
<ul>
<li><p><strong>Note:</strong> For test cases that require Baseline:1 or Baseline:2 support, the CPE MUST support each parameter listed in the test case, but does not need to support each parameter in the profile.</p></li>
<li><p>A list of test cases by profile is included below. Note, there may be additional parameters required or required parameter values. Refer to the test case for complete information.</p></li>
</ul></li>
</ol>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2 Profile</th>
<th style="text-align: left;">Applicable Tests</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">None</td>
<td style="text-align: left;"><a href="#sec:getrpcmethods" class="heading">5.1.5 GetRPCMethods</a><br />
<a href="#sec:encrypted-connection" class="heading">5.1.10 Encrypted Connection</a></td>
</tr>
<tr class="even even">
<td style="text-align: left;">Baseline:1</td>
<td style="text-align: left;"><a href="#sec:factory-reset" class="heading">5.1.1 Factory Reset</a><br />
<a href="#sec:firmware-download" class="heading">5.1.4 Firmware Download</a><br />
<a href="#sec:configuration-backup-and-restoration" class="heading">5.1.6 Configuration Backup and Restoration</a><br />
<a href="#sec:spv-on-a-boolean-parameter" class="heading">5.1.9 SPV on a Boolean Parameter</a><br />
<a href="#sec:non-printable-ascii-characters-in-setparametervalues-rpc-device2-only" class="heading">5.7.1 Non-Printable ASCII Characters in SetParameterValues RPC (Device:2 Only)</a><br />
<a href="#sec:multi-byte-encoding-in-setparametervalues-rpc-device2-only" class="heading">5.7.2 Multi-Byte Encoding in SetParameterValues RPC (Device:2 Only)</a><br />
<a href="#sec:non-ascii-characters-in-parameterkey-device2-only" class="heading">5.7.3 Non-ASCII Characters in ParameterKey (Device:2 Only)</a><br />
<a href="#sec:multi-byte-encoding-in-parameterkey-device2-only" class="heading">5.7.4 Multi-Byte Encoding in ParameterKey (Device:2 Only)</a><br />
<a href="#sec:non-ascii-characters-in-commandkey-device2-only" class="heading">5.7.5 Non-ASCII Characters in CommandKey (Device:2 Only)</a><br />
<a href="#sec:multi-byte-encoding-in-commandkey-device2-only" class="heading">5.7.6 Multi-Byte Encoding in CommandKey (Device:2 Only)</a></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Time:1</td>
<td style="text-align: left;"><a href="#sec:time-setting-device2-only" class="heading">5.1.2 Time Setting (Device:2 Only)</a></td>
</tr>
<tr class="even even">
<td style="text-align: left;">PPPInterface:1</td>
<td style="text-align: left;"><a href="#sec:ppp-interface-change" class="heading">5.1.7 PPP Interface Change</a></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">DHCPv4Server:1</td>
<td style="text-align: left;"><a href="#sec:dhcp-provisioning" class="heading">5.1.8 DHCP Provisioning</a></td>
</tr>
<tr class="even even">
<td style="text-align: left;">Vendor specific parameters</td>
<td style="text-align: left;"><a href="#sec:getparameternames-vendor-specific-parameters" class="heading">5.1.11 GetParameterNames Vendor Specific Parameters</a><br />
<a href="#sec:setparametervalues-vendor-specific-parameters" class="heading">5.1.12 SetParameterValues Vendor Specific Parameters</a></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">IPPing:1 OR IPPingDetailed:1</td>
<td style="text-align: left;"><a href="#sec:diagnostics-ipping" class="heading">5.2.1 Diagnostics IPPing</a></td>
</tr>
<tr class="even even">
<td style="text-align: left;">Download:1</td>
<td style="text-align: left;"><a href="#sec:download-diagnostics-over-http" class="heading">5.2.2 Download Diagnostics over HTTP</a><br />
<a href="#sec:download-diagnostics-over-ftp" class="heading">5.2.3 Download Diagnostics over FTP</a></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Upload:1</td>
<td style="text-align: left;"><a href="#sec:upload-diagnostics-over-http" class="heading">5.2.4 Upload Diagnostics over HTTP</a><br />
<a href="#sec:upload-diagnostics-over-ftp" class="heading">5.2.5 Upload Diagnostics over FTP</a></td>
</tr>
<tr class="even even">
<td style="text-align: left;">TraceRoute:1</td>
<td style="text-align: left;"><a href="#sec:traceroute" class="heading">5.2.6 TraceRoute</a></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">UDPEcho:1</td>
<td style="text-align: left;"><a href="#sec:udpecho-test" class="heading">5.2.7 UDPEcho Test</a></td>
</tr>
<tr class="even even">
<td style="text-align: left;">Baseline:2, IPInterface:1, EtherenetInterface:1, WiFiSSID:1, WiFiRadio:1</td>
<td style="text-align: left;"><a href="#sec:current-interface-configuration-device2-only" class="heading">5.3.1 Current Interface Configuration (Device:2 Only)</a></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Hosts:2</td>
<td style="text-align: left;"><a href="#sec:connected-lan-devices-wi-fi-device2-only" class="heading">5.3.3 Connected LAN Devices – Wi-Fi (Device:2 Only)</a></td>
</tr>
<tr class="even even">
<td style="text-align: left;">Hosts:2, DHCPv4ServerClientInfo:1, DHCPv6ServerClientInfo</td>
<td style="text-align: left;"><a href="#sec:connected-lan-devices-dhcp-device2-only" class="heading">5.3.4 Connected LAN Devices – DHCP (Device:2 Only)</a></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Hosts:1</td>
<td style="text-align: left;"><a href="#sec:device-connectdisconnect-notification-test" class="heading">5.3.5 Device Connect/Disconnect Notification Test</a></td>
</tr>
<tr class="even even">
<td style="text-align: left;">NAT:1</td>
<td style="text-align: left;"><a href="#sec:create-a-port-mapping-single-interface" class="heading">5.4.1 Create a Port Mapping – Single Interface</a><br />
<a href="#sec:create-a-port-mapping-all-interfaces-device2-only" class="heading">5.4.2 Create a Port Mapping – All Interfaces (Device:2 only)</a><br />
<a href="#sec:create-a-port-mapping-external-port-range" class="heading">5.4.3 Create a Port Mapping – External Port Range</a><br />
<a href="#sec:create-a-port-mapping-lease-duration-0" class="heading">5.4.4 Create a Port Mapping – Lease Duration &gt; 0</a><br />
<a href="#sec:create-a-port-mapping-remote-host-restriction" class="heading">5.4.5 Create a Port Mapping – Remote Host Restriction</a><br />
<a href="#sec:create-a-port-mapping-multiple-entries-precedence-rules" class="heading">5.4.6 Create a Port Mapping – Multiple Entries – Precedence Rules</a><br />
<a href="#sec:modify-a-port-mapping" class="heading">5.4.7 Modify a Port Mapping</a><br />
<a href="#sec:delete-a-port-mapping" class="heading">5.4.8 Delete a Port Mapping</a><br />
<a href="#sec:create-a-port-mapping-tcp" class="heading">5.4.9 Create a Port Mapping – TCP</a></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">AdvancedFirewall:1</td>
<td style="text-align: left;"><a href="#sec:default-policy-device2-only" class="heading">5.5.1 Default Policy (Device:2 Only)</a><br />
<a href="#sec:denyallow-outbound-protocols-device2-only" class="heading">5.5.2 Deny/Allow Outbound Protocols (Device:2 Only)</a><br />
<a href="#sec:denyallow-outbound-ports-device2-only" class="heading">5.5.3 Deny/Allow Outbound Ports (Device:2 Only)</a><br />
<a href="#sec:denyallow-source-ip-address-device2-only" class="heading">5.5.4 Deny/Allow Source IP Address (Device:2 Only)</a></td>
</tr>
<tr class="even even">
<td style="text-align: left;">WiFiRadio:1, WiFiSSID:1, WiFiAccessPoint:1</td>
<td style="text-align: left;"><a href="#sec:wi-fi-setup-wep-64-device2-only" class="heading">5.6.6 Wi-Fi Setup WEP 64 (Device:2 Only)</a><br />
<a href="#sec:wi-fi-setup-wep-128-device2-only" class="heading">5.6.7 Wi-Fi Setup WEP 128 (Device:2 Only)</a><br />
<a href="#sec:wi-fi-setup-wpa-personal-device2-only" class="heading">5.6.8 Wi-Fi Setup WPA Personal (Device:2 Only)</a><br />
<a href="#sec:wi-fi-setup-wpa-enterprise-device2-only" class="heading">5.6.9 Wi-Fi Setup WPA Enterprise (Device:2 Only)</a><br />
<a href="#sec:wi-fi-setup-wpa2-personal-device2-only" class="heading">5.6.10 Wi-Fi Setup WPA2 Personal (Device:2 only)</a><br />
<a href="#sec:wi-fi-setup-wpa2-enterprise-device2-only" class="heading">5.6.11 Wi-Fi Setup WPA2 Enterprise (Device:2 Only)</a><br />
<a href="#sec:wi-fi-setup-wpa-wpa2-personal-device2-only" class="heading">5.6.12 Wi-Fi Setup WPA-WPA2 Personal (Device:2 Only)</a><br />
<a href="#sec:wi-fi-setup-wpa-wpa2-enterprise-device2-only" class="heading">5.6.13 Wi-Fi Setup WPA-WPA2 Enterprise (Device:2 Only)</a><br />
<a href="#sec:wi-fi-setup-wpa3-personal-device2-only" class="heading">5.6.14 Wi-Fi Setup WPA3 Personal (Device:2 only)</a><br />
<a href="#sec:wi-fi-setup-wpa3-personal-transition-device2-only" class="heading">5.6.15 Wi-Fi Setup WPA3-Personal-Transition (Device:2 only)</a><br />
<a href="#sec:wi-fi-setup-wpa3-enterprise-device2-only" class="heading">5.6.16 Wi-Fi Setup WPA3-Enterprise (Device:2 only)</a><br />
<a href="#sec:wi-fi-setup-add-ssid-device2-only" class="heading">5.6.17 Wi-Fi Setup – Add SSID (Device:2 Only)</a><br />
<a href="#sec:wi-fi-setup-remove-ssid-device2-only" class="heading">5.6.18 Wi-Fi Setup – Remove SSID (Device:2 Only)</a></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice:1 Profile</th>
<th style="text-align: left;">Applicable Tests</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">None</td>
<td style="text-align: left;"><a href="#sec:getrpcmethods" class="heading">5.1.5 GetRPCMethods</a><br />
<a href="#sec:encrypted-connection" class="heading">5.1.10 Encrypted Connection</a></td>
</tr>
<tr class="even even">
<td style="text-align: left;">Baseline:1</td>
<td style="text-align: left;"><a href="#sec:factory-reset" class="heading">5.1.1 Factory Reset</a><br />
<a href="#sec:firmware-download" class="heading">5.1.4 Firmware Download</a><br />
<a href="#sec:configuration-backup-and-restoration" class="heading">5.1.6 Configuration Backup and Restoration</a><br />
<a href="#sec:spv-on-a-boolean-parameter" class="heading">5.1.9 SPV on a Boolean Parameter</a><br />
<a href="#sec:device-connectdisconnect-notification-test" class="heading">5.3.5 Device Connect/Disconnect Notification Test</a><br />
<a href="#sec:create-a-port-mapping-single-interface" class="heading">5.4.1 Create a Port Mapping – Single Interface</a><br />
<a href="#sec:create-a-port-mapping-external-port-range" class="heading">5.4.3 Create a Port Mapping – External Port Range</a><br />
<a href="#sec:create-a-port-mapping-lease-duration-0" class="heading">5.4.4 Create a Port Mapping – Lease Duration &gt; 0</a><br />
<a href="#sec:create-a-port-mapping-remote-host-restriction" class="heading">5.4.5 Create a Port Mapping – Remote Host Restriction</a><br />
<a href="#sec:create-a-port-mapping-multiple-entries-precedence-rules" class="heading">5.4.6 Create a Port Mapping – Multiple Entries – Precedence Rules</a><br />
<a href="#sec:modify-a-port-mapping" class="heading">5.4.7 Modify a Port Mapping</a><br />
<a href="#sec:delete-a-port-mapping" class="heading">5.4.8 Delete a Port Mapping</a><br />
<a href="#sec:create-a-port-mapping-tcp" class="heading">5.4.9 Create a Port Mapping – TCP</a></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Time:2</td>
<td style="text-align: left;"><a href="#sec:time-setting-internetgatewaydevice1-only" class="heading">5.1.3 Time Setting (InternetGatewayDevice:1 Only)</a></td>
</tr>
<tr class="even even">
<td style="text-align: left;">Baseline:2</td>
<td style="text-align: left;"><a href="#sec:ppp-interface-change" class="heading">5.1.7 PPP Interface Change</a><br />
<a href="#sec:connected-lan-devices-internetgatewaydevice1-only" class="heading">5.3.2 Connected LAN Devices (InternetGatewayDevice:1 Only)</a><br />
<a href="#sec:dhcp-provisioning" class="heading">5.1.8 DHCP Provisioning</a></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Vendor specific parameters</td>
<td style="text-align: left;"><a href="#sec:getparameternames-vendor-specific-parameters" class="heading">5.1.11 GetParameterNames Vendor Specific Parameters</a><br />
<a href="#sec:setparametervalues-vendor-specific-parameters" class="heading">5.1.12 SetParameterValues Vendor Specific Parameters</a></td>
</tr>
<tr class="even even">
<td style="text-align: left;">Baseline:1, IPPing:1</td>
<td style="text-align: left;"><a href="#sec:diagnostics-ipping" class="heading">5.2.1 Diagnostics IPPing</a></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Download:1</td>
<td style="text-align: left;"><a href="#sec:download-diagnostics-over-http" class="heading">5.2.2 Download Diagnostics over HTTP</a><br />
<a href="#sec:download-diagnostics-over-ftp" class="heading">5.2.3 Download Diagnostics over FTP</a></td>
</tr>
<tr class="even even">
<td style="text-align: left;">Upload:1</td>
<td style="text-align: left;"><a href="#sec:upload-diagnostics-over-http" class="heading">5.2.4 Upload Diagnostics over HTTP</a><br />
<a href="#sec:upload-diagnostics-over-ftp" class="heading">5.2.5 Upload Diagnostics over FTP</a></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">TraceRoute:1</td>
<td style="text-align: left;"><a href="#sec:traceroute" class="heading">5.2.6 TraceRoute</a></td>
</tr>
<tr class="even even">
<td style="text-align: left;">UDPEcho:1</td>
<td style="text-align: left;"><a href="#sec:udpecho-test" class="heading">5.2.7 UDPEcho Test</a></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">WiFiLan:1</td>
<td style="text-align: left;"><a href="#sec:wi-fi-setup-wep-64-internetgatewaydevice1-only" class="heading">5.6.1 Wi-Fi Setup WEP 64 (InternetGatewayDevice:1 Only)</a><br />
<a href="#sec:wi-fi-setup-wep-128-internetgatewaydevice1-only" class="heading">5.6.2 Wi-Fi Setup WEP 128 (InternetGatewayDevice:1 Only)</a><br />
<a href="#sec:wi-fi-setup-wpa-personal-internetgatewaydevice1-only" class="heading">5.6.3 Wi-Fi Setup WPA Personal (InternetGatewayDevice:1 Only)</a><br />
<a href="#sec:wi-fi-setup-wpa2-personal-internetgatewaydevice1-only" class="heading">5.6.4 Wi-Fi Setup WPA2 Personal (InternetGatewayDevice:1 Only)</a><br />
<a href="#sec:wi-fi-setup-wpa-wpa2-personal-internetgatewaydevice1-only" class="heading">5.6.5 Wi-Fi Setup WPA-WPA2 Personal (InternetGatewayDevice:1 Only)</a></td>
</tr>
</tbody>
</table>
<h2 id="sec:acs-test-requirements">4.4 ACS Test Requirements <a href="#sec:acs-test-requirements" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<p>The ACS MUST be configurable to include an interface that allows control of the ACS to execute the test procedures. An API SHOULD be provided to the test lab to support automation of this test plan. The ACS MUST allow its certificates to be configured.</p>
<h2 id="sec:interoperability-testing">4.5 Interoperability Testing <a href="#sec:interoperability-testing" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<p>This test plan tests the ACS/CPE system, therefore a failure may indicate a deficiency from either the ACS or CPE.</p>
<h2 id="sec:test-validation">4.6 Test Validation <a href="#sec:test-validation" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<p>A test is considered successful (or passed) when the corresponding test procedure has been completed and the specified success metrics are attained. Tests can be validated by observing functional changes in the DUTs, through feedback interfaces on the devices under test, results attained from the ACS, and via a Traffic Analyzer connected to the relevant links.</p>
<h1 class="new-page" id="sec:test-procedures">5 Test Procedures <a href="#sec:test-procedures" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h1>
<h2 id="sec:basic-setup">5.1 Basic Setup <a href="#sec:basic-setup" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h3 id="sec:factory-reset">5.1.1 Factory Reset <a href="#sec:factory-reset" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-1">5.1.1.1 Purpose: <a href="#sec:purpose-1" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can perform a Factory Reset on the CPE.</div>
<h4 id="sec:references-1">5.1.1.2 References: <a href="#sec:references-1" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice:1 <span class="cite" data-citation-ids="TR-098"><a href="#ref-TR-098">[9]</a></span><br />
Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles">5.1.1.3 Profiles: <a href="#sec:profiles" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Baseline:1</td>
<td style="text-align: left;">Baseline:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features">5.1.1.4 Optional Features: <a href="#sec:optional-features" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Factory Reset RPC</div>
<h4 id="sec:parameters">5.1.1.5 Parameters: <a href="#sec:parameters" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameter is required to be implemented for this test. CPE supports FactoryReset RPC.</div>
<div class="line-block">For CPE that support the Device:2 data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.DeviceInfo.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">ProvisioningCode</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
</tbody>
</table>
<p>For CPE that support the InternetGatewayDevice:1 <span class="cite" data-citation-ids="TR-098"><a href="#ref-TR-098">[9]</a></span> data model:</p>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.DeviceInfo.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">ProvisioningCode</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-1">5.1.1.6 Test Setup: <a href="#sec:test-setup-1" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
</ol>
<h4 id="sec:procedure">5.1.1.7 Procedure: <a href="#sec:procedure" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS performs a GetParameterValues RPC on the above parameter to determine its value.</li>
<li>ACS performs a SetParameterValues RPC on the above parameter for a value that is different than the value returned in step 1.</li>
<li>ACS performs a FactoryReset RPC to the CPE.</li>
<li>Allow the ACS to perform bootstrap procedures on the CPE, if it is configured to do so.</li>
<li>ACS performs a GetParameterValues RPC on the above parameter.</li>
</ol>
<h4 id="sec:test-metrics">5.1.1.8 Test Metrics: <a href="#sec:test-metrics" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Validate that the FactoryReset successfully occurs via FactoryResetResponse and a “0 BOOTSTRAP” Inform RPC is sent by CPE.</li>
<li>Validate that the value of the above parameter returned in step 5 is different than it was set to in Procedure step 2.</li>
</ol>
<h3 id="sec:time-setting-device2-only">5.1.2 Time Setting (Device:2 Only) <a href="#sec:time-setting-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-2">5.1.2.1 Purpose: <a href="#sec:purpose-2" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can set time configuration on the CPE.</div>
<h4 id="sec:references-2">5.1.2.2 References: <a href="#sec:references-2" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-1">5.1.2.3 Profiles: <a href="#sec:profiles-1" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Time:1</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-1">5.1.2.4 Optional Features: <a href="#sec:optional-features-1" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-1">5.1.2.5 Parameters: <a href="#sec:parameters-1" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Time.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">True</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Status</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">NTPServer1</td>
<td style="text-align: left;">&lt;IP Address of NTP Server1&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">NTPServer2</td>
<td style="text-align: left;">&lt;IP Address of NTP Server2&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">CurrentLocalTime</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">LocalTimeZone</td>
<td style="text-align: left;">&lt;Local Time Zone definition in IEEE 1003.1 (POSIX) format&gt;</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-2">5.1.2.6 Test Setup: <a href="#sec:test-setup-2" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have two NTP servers accessible on the WAN.</li>
<li>Have the ability to block data communications to the NTP Servers.</li>
</ol>
<h4 id="sec:procedure-1">5.1.2.7 Procedure: <a href="#sec:procedure-1" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS performs a SetParameterValues RPC on the NTPServer1, NTPServer2, TimeZone, and Enable parameters.</li>
<li>Test setup blocks NTPServer2 address.</li>
<li>CPE is rebooted.</li>
<li>ACS performs a GetParameterValues RPC on the Status and CurrentLocalTime parameters.</li>
<li>Test setup blocks NTPServer1 address and unblocks NTPServer2 address</li>
<li>CPE is rebooted</li>
<li>ACS performs a GetParameterValues RPC on the Status and LocalTime parameters.</li>
</ol>
<h4 id="sec:test-metrics-1">5.1.2.8 Test Metrics: <a href="#sec:test-metrics-1" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Validate that the SetParameterValuesResponse is received successfully for setting both NTPServer1 and NTPServer2.</li>
<li>After the reboot, validate that the Traffic Analyzer shows CPE communication with NTPServer1.</li>
<li>Validate that the time is set on the CPE via the GetParameterValuesResponse.</li>
<li>After the reboot, validate that the Traffic Analyzer shows CPE communication with NTPServer2.</li>
<li>Validate that the time is set on the CPE via the GetParameterValuesResponse.</li>
</ol>
<h3 id="sec:time-setting-internetgatewaydevice1-only">5.1.3 Time Setting (InternetGatewayDevice:1 Only) <a href="#sec:time-setting-internetgatewaydevice1-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-3">5.1.3.1 Purpose: <a href="#sec:purpose-3" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can set time configuration on the CPE.</div>
<h4 id="sec:references-3">5.1.3.2 References: <a href="#sec:references-3" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice:1 <span class="cite" data-citation-ids="TR-098"><a href="#ref-TR-098">[9]</a></span></div>
<h4 id="sec:profiles-2">5.1.3.3 Profiles: <a href="#sec:profiles-2" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">Time:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-2">5.1.3.4 Optional Features: <a href="#sec:optional-features-2" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-2">5.1.3.5 Parameters: <a href="#sec:parameters-2" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.Time.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">NTPServer1</td>
<td style="text-align: left;">&lt;IP Address of NTP Server1&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">NTPServer2</td>
<td style="text-align: left;">&lt;IP Address of NTP Server2&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">CurrentLocalTime</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">LocalTimeZone</td>
<td style="text-align: left;">&lt;Time Zone offset&gt;</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-3">5.1.3.6 Test Setup: <a href="#sec:test-setup-3" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have two NTP servers accessible on the WAN.</li>
<li>Have the ability to block data communications to the NTP Servers.</li>
</ol>
<h4 id="sec:procedure-2">5.1.3.7 Procedure: <a href="#sec:procedure-2" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS performs a SetParameterValues RPC on the NTPServer1, NTPServer2, and TimeZone parameters.</li>
<li>Test setup blocks NTPServer2 address.</li>
<li>CPE is rebooted.</li>
<li>ACS performs a GetParameterValues RPC on the LocalTime parameters.</li>
<li>Test setup blocks NTPServer1 address and unblocks NTPServer2 address</li>
<li>CPE is rebooted</li>
<li>ACS performs a GetParameterValues RPC on the CurrentLocalTime parameter.</li>
</ol>
<h4 id="sec:test-metrics-2">5.1.3.8 Test Metrics: <a href="#sec:test-metrics-2" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Validate that the SetParameterValuesResponse is received successfully for setting both NTPServer1 and NTPServer2.</li>
<li>After the reboot, validate that the Traffic Analyzer shows CPE communication with NTPServer1.</li>
<li>Validate that the time is set on the CPE via the GetParameterValuesResponse.</li>
<li>After the reboot, validate that the Traffic Analyzer shows CPE communication with NTPServer2.</li>
<li>Validate that the time is set on the CPE via the GetParameterValuesResponse.</li>
</ol>
<h3 id="sec:firmware-download">5.1.4 Firmware Download <a href="#sec:firmware-download" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-4">5.1.4.1 Purpose: <a href="#sec:purpose-4" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can perform a firmware download on the CPE.</div>
<h4 id="sec:references-4">5.1.4.2 References: <a href="#sec:references-4" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice:1 <span class="cite" data-citation-ids="TR-098"><a href="#ref-TR-098">[9]</a></span></div>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-3">5.1.4.3 Profiles: <a href="#sec:profiles-3" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Baseline:1</td>
<td style="text-align: left;">Baseline:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-3">5.1.4.4 Optional Features: <a href="#sec:optional-features-3" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-3">5.1.4.5 Parameters: <a href="#sec:parameters-3" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameter is required to be implemented by the CPE for this test.</div>
<div class="line-block">For CPE that support the Device:2 data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.DeviceInfo.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SoftwareVersion</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<p>For CPE that support the InternetGatewayDevice:1 data model:</p>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.DeviceInfo.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SoftwareVersion</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-4">5.1.4.6 Test Setup: <a href="#sec:test-setup-4" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have a file server accessible on the WAN with known credentials.</li>
<li>Place firmware to download on the file server.</li>
</ol>
<h4 id="sec:procedure-3">5.1.4.7 Procedure: <a href="#sec:procedure-3" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS issues a GetParameterValues RPC on the CPE SoftwareVersion parameter listed in the parameters section to learn the CPEs current software version</li>
<li>ACS issues a Download RPC to the CPE with the following arguments set</li>
</ol>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Download RPC Argument</th>
<th style="text-align: left;">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">CommandKey</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">FileType</td>
<td style="text-align: left;">“1 Firmware Upgrade Image”</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">URL</td>
<td style="text-align: left;">URL of firmware image on the file server</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Username</td>
<td style="text-align: left;">File server username</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Password</td>
<td style="text-align: left;">File server password</td>
</tr>
<tr class="even even">
<td style="text-align: left;">FileSize</td>
<td style="text-align: left;">Size of file to download in bytes</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">TargetFileName</td>
<td style="text-align: left;">Name of the firmware to download</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DelaySeconds</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">SuccessURL</td>
<td style="text-align: left;">&lt;empty&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">FailureURL</td>
<td style="text-align: left;">&lt;empty&gt;</td>
</tr>
</tbody>
</table>
<p>Allow the CPE to complete firmware download from the file server, apply the firmware, and reboot if necessary After CPE issues a “7 TRANSER COMPLETE” event code, the ACS issues a GetParameterValues RPC on the on the CPE SoftwareVersion parameter listed in the parameters section to learn the CPEs new software version</p>
<h4 id="sec:test-metrics-3">5.1.4.8 Test Metrics: <a href="#sec:test-metrics-3" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Ensure the software version reported by the CPE before the firmware download is different than the software version reported by the CPE after the firmware download.</li>
</ol>
<h3 id="sec:getrpcmethods">5.1.5 GetRPCMethods <a href="#sec:getrpcmethods" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-5">5.1.5.1 Purpose: <a href="#sec:purpose-5" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">This test is designed to verify that the ACS can schedule a GetRPCMethods RPC to a CPE and get back the correct response</div>
<h4 id="sec:references-5">5.1.5.2 References: <a href="#sec:references-5" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Section A.3.1.1/TR-069 <span class="cite" data-citation-ids="TR-069"><a href="#ref-TR-069">[8]</a></span></div>
<h4 id="sec:profiles-4">5.1.5.3 Profiles: <a href="#sec:profiles-4" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-4">5.1.5.4 Optional Features: <a href="#sec:optional-features-4" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-4">5.1.5.5 Parameters: <a href="#sec:parameters-4" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None.</div>
<h4 id="sec:test-setup-5">5.1.5.6 Test Setup: <a href="#sec:test-setup-5" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
</ol>
<h4 id="sec:procedure-4">5.1.5.7 Procedure: <a href="#sec:procedure-4" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS schedules a GetRPCMethods RPC on the CPE.</li>
<li>Allow the CPE to respond with the GetRPCMethodsResponse</li>
</ol>
<h4 id="sec:test-metrics-4">5.1.5.8 Test Metrics: <a href="#sec:test-metrics-4" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the CPE responds to the GetRPCMethods RPC</li>
<li>Verify that the GetRPCMethodsResponse contains all mandatory RPCs</li>
</ol>
<h3 id="sec:configuration-backup-and-restoration">5.1.6 Configuration Backup and Restoration <a href="#sec:configuration-backup-and-restoration" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-6">5.1.6.1 Purpose: <a href="#sec:purpose-6" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">This test is designed to verify that the ACS can schedule an upload of a CPE’s configuration and then perform a restoration of that same configuration.</div>
<h4 id="sec:references-6">5.1.6.2 References: <a href="#sec:references-6" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Section A.4.1.5/TR-069a1 or later <span class="cite" data-citation-ids="TR-069"><a href="#ref-TR-069">[8]</a></span></div>
<h4 id="sec:profiles-5">5.1.6.3 Profiles: <a href="#sec:profiles-5" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Baseline:1</td>
<td style="text-align: left;">Baseline:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-5">5.1.6.4 Optional Features: <a href="#sec:optional-features-5" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Upload RPC</div>
<h4 id="sec:parameters-5">5.1.6.5 Parameters: <a href="#sec:parameters-5" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">These arguments are for the Upload and Download RPCs. Note, if the CPE supports Upload FileType “3 Vendor Configuration File &lt;i&gt;”, the test case MUST be run using that FileType.</div>
<table>
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<thead>
<tr class="header header">
<th style="text-align: left;">Upload RPC Argument</th>
<th style="text-align: left;">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">CommandKey</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">FileType</td>
<td style="text-align: left;">“3 Vendor Configuration File &lt;i&gt;” OR “1 Vendor Configuration File”</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">URL</td>
<td style="text-align: left;">URL of firmware image on the file server</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Username</td>
<td style="text-align: left;">File server username</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Password</td>
<td style="text-align: left;">File server password</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DelaySeconds</td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Download RPC Argument</th>
<th style="text-align: left;">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">CommandKey</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">FileType</td>
<td style="text-align: left;">“3 Vendor Configuration File”</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">URL</td>
<td style="text-align: left;">URL of configuration file on the file server</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Username</td>
<td style="text-align: left;">File server username</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Password</td>
<td style="text-align: left;">File server password</td>
</tr>
<tr class="even even">
<td style="text-align: left;">FileSize</td>
<td style="text-align: left;">Size of file to download in bytes</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">TargetFileName</td>
<td style="text-align: left;">Name of the configuration file to download</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DelaySeconds</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">SuccessURL</td>
<td style="text-align: left;">&lt;empty&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">FailureURL</td>
<td style="text-align: left;">&lt;empty&gt;</td>
</tr>
</tbody>
</table>
<div class="line-block">The following parameter path is required to be implemented for this test.</div>
<div class="line-block">For CPE that support the Device:2 data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.DeviceInfo.VendorConfigFile.</th>
</tr>
</thead>

</table>
<p>For CPE that support the InternetGatewayDevice:1 data model:</p>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice. DeviceInfo.VendorConfigFile.</th>
</tr>
</thead>

</table>
<h4 id="sec:test-setup-6">5.1.6.6 Test Setup: <a href="#sec:test-setup-6" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have a file server accessible on the WAN with known credentials that can accept uploads and downloads.</li>
<li>If CPE supports “3 Vendor Configuration File &lt;i&gt;” Upload FileType, perform a GetParameterValues RPC on the partial path above to determine the correct instance number to upload.</li>
</ol>
<h4 id="sec:procedure-5">5.1.6.7 Procedure: <a href="#sec:procedure-5" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS performs a GetParameterValues RPC on PeriodicInformInterval to determine its value.</li>
<li>ACS schedules an Upload RPC on the CPE with the parameters above.</li>
<li>Allow the upload to complete.</li>
<li>ACS performs a SetParameterValues RPC on PeriodicInformInterval for a value that is different than the value returned in step 1.</li>
<li>Wait for the CPE to send 2 Periodic Informs and check the interval between them.</li>
<li>ACS schedules a download RPC on the CPE with the parameters above.</li>
<li>Allow the download to complete.</li>
<li>Wait for the CPE to send 2 Periodic Informs and check the interval between them.</li>
</ol>
<h4 id="sec:test-metrics-5">5.1.6.8 Test Metrics: <a href="#sec:test-metrics-5" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the CPE responds to the Upload RPC with an UploadResponse</li>
<li>Verify that the DUT uploaded the configuration to the server</li>
<li>Verify that the CPE sends Periodic Informs at the interval set in Step 4.</li>
<li>Verify that the CPE responds to the Download RPC with a DownloadResponse</li>
<li>Verify that the CPE sends Periodic Informs at the interval returned from the device in Step 1.</li>
</ol>
<h3 id="sec:ppp-interface-change">5.1.7 PPP Interface Change <a href="#sec:ppp-interface-change" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-7">5.1.7.1 Purpose: <a href="#sec:purpose-7" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">This test is designed to verify that the ACS can configure the PPP interface of the CPE.</div>
<h4 id="sec:references-7">5.1.7.2 References: <a href="#sec:references-7" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice:1.4</div>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-6">5.1.7.3 Profiles: <a href="#sec:profiles-6" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">PPPInterface:1</td>
<td style="text-align: left;">Baseline:2</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-6">5.1.7.4 Optional Features: <a href="#sec:optional-features-6" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-6">5.1.7.5 Parameters: <a href="#sec:parameters-6" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">This test is only applicable to CPE that use PPP to obtain an IP address. The following parameters are required to be implemented for this test.</div>
<div class="line-block">For CPE that support the Device:2 data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.PPP.Interface.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Username</td>
<td style="text-align: left;">username1, username2</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Password</td>
<td style="text-align: left;">password1, password2</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Reset</td>
<td style="text-align: left;">true</td>
</tr>
</tbody>
</table>
<p>For CPE that support the InternetGatewayDevice:1 data model:</p>
<table>
<colgroup>
<col style="width: 79%" />
<col style="width: 21%" />
</colgroup>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.WANDevice.{i}.WANConnectionDevice.{i}.WANPPPConnection.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Username</td>
<td style="text-align: left;">username1, username2</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Password</td>
<td style="text-align: left;">password1, password2</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Reset</td>
<td style="text-align: left;">true</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-7">5.1.7.6 Test Setup: <a href="#sec:test-setup-7" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Setup two valid sets of credentials on the PPP server, username1/password1 and username2/password2</li>
</ol>
<h4 id="sec:procedure-6">5.1.7.7 Procedure: <a href="#sec:procedure-6" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS determines the instance number of the PPP interface.</li>
<li>ACS performs a GetParameterValues RPC on the CPE for Username and Password.</li>
<li>Allow the CPE to respond with a GetParameterValuesResponse</li>
<li>ACS performs a SetParameterValues RPC on the CPE for Username, Password, and Reset, using the second set of valid credentials, username2/password2.</li>
<li>Allow the CPE to respond with a SetParameterValuesResponse and establish a new PPP session.</li>
<li>ACS performs a GetParameterValues RPC on the CPE for Username and Password.</li>
<li>Allow the CPE to respond with a GetParameterValuesResponse.</li>
<li>Reboot the device.</li>
<li>ACS performs a GetParameterValues RPC on the CPE for Username and Password.</li>
</ol>
<h4 id="sec:test-metrics-6">5.1.7.8 Test Metrics: <a href="#sec:test-metrics-6" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Validate that the CPE sends a GetParameterValuesResponse in step 3 containing Username=username1 and Password=&lt;empty string&gt;.</li>
<li>Validate that the CPE sends a SetParameterValuesResponse in step 5 with Status=1 and that the CWMP session is successfully ended.</li>
<li>Validate that the CPE successfully establishes a new PPP session using the new credentials.</li>
<li>Validate that the CPE sends a GetParameterValuesResponse in step 7 containing Username=username2 and Password=&lt;empty string&gt;.</li>
<li>Validate that the CPE sends a GetParameterValuesResponse in step 9 containing Username=username2 and Password=&lt;empty string&gt;.</li>
</ol>
<h3 id="sec:dhcp-provisioning">5.1.8 DHCP Provisioning <a href="#sec:dhcp-provisioning" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-8">5.1.8.1 Purpose: <a href="#sec:purpose-8" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can configure the basic DHCPv4 configuration required on a CPE device.</div>
<h4 id="sec:references-8">5.1.8.2 References: <a href="#sec:references-8" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice:1 <span class="cite" data-citation-ids="TR-098"><a href="#ref-TR-098">[9]</a></span></div>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<div class="line-block">RFC 2131 <span class="cite" data-citation-ids="RFC2131"><a href="#ref-RFC2131">[5]</a></span></div>
<div class="line-block">RFC 2132 <span class="cite" data-citation-ids="RFC2132"><a href="#ref-RFC2132">[6]</a></span></div>
<div class="line-block">RFC 3315 <span class="cite" data-citation-ids="RFC3315"><a href="#ref-RFC3315">[7]</a></span></div>
<h4 id="sec:profiles-7">5.1.8.3 Profiles: <a href="#sec:profiles-7" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">DHCPv4Server:1</td>
<td style="text-align: left;">Baseline:2</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-7">5.1.8.4 Optional Features: <a href="#sec:optional-features-7" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">DHCPLeaseTime is included in data model for CPE that support the InternetGatewayDevice:1 data model.</div>
<h4 id="sec:parameters-7">5.1.8.5 Parameters: <a href="#sec:parameters-7" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test.</div>
<div class="line-block">For CPE that support the Device:2 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.DHCPv4.Server.Pool.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">MinAddress</td>
<td style="text-align: left;">&lt;minimum address&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">MaxAddress</td>
<td style="text-align: left;">&lt;maximum address&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">LeaseTime</td>
<td style="text-align: left;">60</td>
</tr>
</tbody>
</table>
<div class="line-block">For CPE that support the InternetGatewayDevice:1 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.LANDevice.{i}.LANHostConfigManagement.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">DHCPServerConfigurable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DHCPServerEnable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">MinAddress</td>
<td style="text-align: left;">&lt;minimum address&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">MaxAddress</td>
<td style="text-align: left;">&lt;maximum address&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">DHCPLeaseTime</td>
<td style="text-align: left;">60</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-8">5.1.8.6 Test Setup: <a href="#sec:test-setup-8" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>CPE supports the appropriate DHCP parameters in the parameters section</li>
<li>Have a LAN device that can connect to the CPE via DHCP.</li>
<li>Have a Network Analyzer to capture traffic between the CPE and LAN device.</li>
<li>If the DUT implements the Device:2 root data model, determine whether or not an existing entry exists for the object specified above.</li>
</ol>
<h4 id="sec:procedure-7">5.1.8.7 Procedure: <a href="#sec:procedure-7" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>If the DUT implements the Device:2 root data model, and no entry exists for Device.DHCPv4.Server.Pool.{i}., perform an AddObject RPC on Device.Server.Pool., recording the InstanceNumber value returned in the AddObjectResponse.</li>
<li>On the ACS schedule a SetParameterValues RPC on the appropriate Configurable parameters in the Parameters Section, setting the DHCP pool’s minimum and maximum to be completely outside the existing range, if any (for example, by setting the new minimum above the current maximum).</li>
<li>Allow the end system to connect to the CPE via DHCP.</li>
<li>Perform a reboot of the CPE</li>
<li>Allow the end system to connect to the CPE via DHCP</li>
</ol>
<h4 id="sec:test-metrics-7">5.1.8.8 Test Metrics: <a href="#sec:test-metrics-7" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the SetParameterValuesResponse RPC is correct for all parameters</li>
<li>Verify that the end system connects to the CPE within the designated range.</li>
<li>Verify that that end system connects to the CPE within the designated range after the reboot</li>
</ol>
<h3 id="sec:spv-on-a-boolean-parameter">5.1.9 SPV on a Boolean Parameter <a href="#sec:spv-on-a-boolean-parameter" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-9">5.1.9.1 Purpose: <a href="#sec:purpose-9" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">This is a test case to verify that the ACS can change the Boolean on a CPE and receive the correct response.</div>
<h4 id="sec:references-9">5.1.9.2 References: <a href="#sec:references-9" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Section A.3.2.1/TR-069a1 or later <span class="cite" data-citation-ids="TR-069"><a href="#ref-TR-069">[8]</a></span></div>
<h4 id="sec:profiles-8">5.1.9.3 Profiles: <a href="#sec:profiles-8" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Baseline:1</td>
<td style="text-align: left;">Baseline:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-8">5.1.9.4 Optional Features: <a href="#sec:optional-features-8" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-8">5.1.9.5 Parameters: <a href="#sec:parameters-8" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Writable boolean parameter from the device’s data model.</div>
<h4 id="sec:test-setup-9">5.1.9.6 Test Setup: <a href="#sec:test-setup-9" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
</ol>
<h4 id="sec:procedure-8">5.1.9.7 Procedure: <a href="#sec:procedure-8" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS establishes a session</li>
<li>ACS performs a GetParameterValues RPC on the CPE on a Boolean parameter.</li>
<li>ACS schedules a SetParameterValues RPC on the CPE, to change the Boolean parameter to the opposite of the value returned in step #2.</li>
<li>Allow the CPE to respond with the SetParameterValuesResponse.</li>
<li>ACS schedules a GetParameterValues RPC on the CPE, to request the Boolean parameter.</li>
<li>Allow the CPE to respond with the GetParameterValuesResponse</li>
</ol>
<h4 id="sec:test-metrics-8">5.1.9.8 Test Metrics: <a href="#sec:test-metrics-8" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the CPE responds to the SetParameterValues RPC</li>
<li>Verify that the SetParameterValuesResponse contains status 0.</li>
<li>Verify that the GetParameterValuesResponse contains the changed value.</li>
</ol>
<h3 id="sec:encrypted-connection">5.1.10 Encrypted Connection <a href="#sec:encrypted-connection" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-10">5.1.10.1 Purpose: <a href="#sec:purpose-10" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS and CPE can interoperate using Encryption protocols.</div>
<h4 id="sec:references-10">5.1.10.2 References: <a href="#sec:references-10" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Section 3.3/TR-069a1 <span class="cite" data-citation-ids="TR-069"><a href="#ref-TR-069">[8]</a></span></div>
<h4 id="sec:profiles-9">5.1.10.3 Profiles: <a href="#sec:profiles-9" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-9">5.1.10.4 Optional Features: <a href="#sec:optional-features-9" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Secure CWMP</div>
<h4 id="sec:parameters-9">5.1.10.5 Parameters: <a href="#sec:parameters-9" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Readable Parameter from the device’s data model.</div>
<h4 id="sec:test-setup-10">5.1.10.6 Test Setup: <a href="#sec:test-setup-10" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Load the appropriate Certificate of Authentication onto the CPE.</li>
<li>Have the private portion of the certificate on the ACS.</li>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
</ol>
<h4 id="sec:procedure-9">5.1.10.7 Procedure: <a href="#sec:procedure-9" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Allow the CPE to establish an encrypted CWMP session with the ACS.</li>
<li>On the ACS schedule a GetParametersValues RPC on the CPE.</li>
<li>Allow the CPE to respond with the GetParametersValuesResponse containing the requested parameters.</li>
</ol>
<h4 id="sec:test-metrics-9">5.1.10.8 Test Metrics: <a href="#sec:test-metrics-9" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the CWMP session is encrypted.</li>
<li>Verify that the GetParameterValuesResponse is valid.</li>
</ol>
<h3 id="sec:getparameternames-vendor-specific-parameters">5.1.11 GetParameterNames Vendor Specific Parameters <a href="#sec:getparameternames-vendor-specific-parameters" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-11">5.1.11.1 Purpose: <a href="#sec:purpose-11" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that vendor specific CPE objects and parameters can be read and processed in an ACS.</div>
<h4 id="sec:references-11">5.1.11.2 References: <a href="#sec:references-11" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Vendor supplied vendor-specific parameters</div>
<h4 id="sec:profiles-10">5.1.11.3 Profiles: <a href="#sec:profiles-10" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Vendor specific parameters</td>
<td style="text-align: left;">Vendor specific parameters</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-10">5.1.11.4 Optional Features: <a href="#sec:optional-features-10" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-10">5.1.11.5 Parameters: <a href="#sec:parameters-10" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Vendor supplied vendor specific parameter, type, and purpose. Vendor supplied vendor specific object and purpose.</div>
<h4 id="sec:test-setup-11">5.1.11.6 Test Setup: <a href="#sec:test-setup-11" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Obtain a list of vendor specific parameters from the vendor</li>
</ol>
<h4 id="sec:procedure-10">5.1.11.7 Procedure: <a href="#sec:procedure-10" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Allow the CPE to establish an CWMP session with the ACS</li>
<li>Schedule a GetParameterNames RPC on the CPE entire data model.</li>
</ol>
<h4 id="sec:test-metrics-10">5.1.11.8 Test Metrics: <a href="#sec:test-metrics-10" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the ACS can process all vendor specific parameters and objects.</li>
</ol>
<h3 id="sec:setparametervalues-vendor-specific-parameters">5.1.12 SetParameterValues Vendor Specific Parameters <a href="#sec:setparametervalues-vendor-specific-parameters" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-12">5.1.12.1 Purpose: <a href="#sec:purpose-12" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that vendor specific CPE parameter can be written by an ACS.</div>
<h4 id="sec:references-12">5.1.12.2 References: <a href="#sec:references-12" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Vendor supplied technical survey containing vendor specific information.</div>
<h4 id="sec:profiles-11">5.1.12.3 Profiles: <a href="#sec:profiles-11" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Vendor specific parameters</td>
<td style="text-align: left;">Vendor specific parameters</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-11">5.1.12.4 Optional Features: <a href="#sec:optional-features-11" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-11">5.1.12.5 Parameters: <a href="#sec:parameters-11" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Vendor supplied vendor-specific parameter, type, and purpose.</div>
<h4 id="sec:test-setup-12">5.1.12.6 Test Setup: <a href="#sec:test-setup-12" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<p>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps. Obtain a writable vendor specific parameter, parameter type, and parameter purpose from the vendor.</p>
<h4 id="sec:procedure-11">5.1.12.7 Procedure: <a href="#sec:procedure-11" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS performs a GetParameterValues RPC on the parameter in Test Setup #3.</li>
<li>ACS performs a SetParameterValues RPC on the parameter in Test Setup #3 for a value that is different than the value returned in Step 1.</li>
<li>ACS performs a GetParameterValues RPC on the parameter in Test Setup #3.</li>
<li>Reboot the device.</li>
<li>ACS performs a GetParameterValues RPC on the parameter in Test Setup #3.</li>
</ol>
<h4 id="sec:test-metrics-11">5.1.12.8 Test Metrics: <a href="#sec:test-metrics-11" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the SetParameterValues RPC in Step 2 completes and the CPE responds with a correct SetParameterValuesResponse RPC.</li>
<li>Verify that the GetParametersValues RPC in Step 3 completes and the CPE responds with a correct GetParameterValuesResponse RPC.</li>
<li>Verify that the value in the GetParameterValues in Step 3 matches the value set in Step 2.</li>
<li>Verify that the value in the GetParameterValues in Step 5 matches the value set in Step 2.</li>
</ol>
<h2 id="sec:diagnostics">5.2 Diagnostics <a href="#sec:diagnostics" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h3 id="sec:diagnostics-ipping">5.2.1 Diagnostics IPPing <a href="#sec:diagnostics-ipping" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-13">5.2.1.1 Purpose: <a href="#sec:purpose-13" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can perform an IP Ping Diagnostics test on the CPE.</div>
<h4 id="sec:references-13">5.2.1.2 References: <a href="#sec:references-13" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice:1 <span class="cite" data-citation-ids="TR-098"><a href="#ref-TR-098">[9]</a></span></div>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-12">5.2.1.3 Profiles: <a href="#sec:profiles-12" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">IPPing:1 OR IPPingDetailed:1</td>
<td style="text-align: left;">IPPing:1, Baseline:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-12">5.2.1.4 Optional Features: <a href="#sec:optional-features-12" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-12">5.2.1.5 Parameters: <a href="#sec:parameters-12" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test.</div>
<div class="line-block">For CPE that implement the Device:2 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.IP.Diagnostics.IPPing.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">Requested</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Host</td>
<td style="text-align: left;">&lt;IP address&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">NumberOfRepetitions</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Timeout</td>
<td style="text-align: left;">1000</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DataBlockSize</td>
<td style="text-align: left;">128</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">DSCP</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even even">
<td style="text-align: left;">SuccessCount</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">FailureCount</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Device.IP.Interface.</td>
<td style="text-align: left;">Device.IP.Interface.</td>
</tr>
</tbody>
</table>
<div class="line-block">For CPE that implement the InternetGatewayDevice:1 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.IPPingDiagnostics.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">Requested</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Host</td>
<td style="text-align: left;">&lt;IP address&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">NumberOfRepetitions</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Timeout</td>
<td style="text-align: left;">1000</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DataBlockSize</td>
<td style="text-align: left;">128</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">DSCP</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even even">
<td style="text-align: left;">SuccessCount</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">FailureCount</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.Layer3Forwarding.DefaultConnectionService</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">DefaultConnectionService</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-13">5.2.1.6 Test Setup: <a href="#sec:test-setup-13" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have a host on the WAN network that can answer pings.</li>
<li>Refer to <a href="#sec:determine-wan-interface" class="heading">Determine WAN Interface</a> to determine the WAN interface. This will be used for the Interface parameter.</li>
</ol>
<h4 id="sec:procedure-12">5.2.1.7 Procedure: <a href="#sec:procedure-12" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS performs a SetParameterValues RPC on the ping diagnostics parameters in the parameter section above.</li>
<li>ACS performs a GetParameterValues on the InternetGatewayDevice.IPPingDiagnostics or Device.IP.Diagnostics.IPPing to determine results of ping test</li>
</ol>
<h4 id="sec:test-metrics-12">5.2.1.8 Test Metrics: <a href="#sec:test-metrics-12" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the CPE transmitted 3 ICMP Echo Requests to the target Host.</li>
<li>Validate that the CPE sends an Inform RPC to the ACS with Event Code “8 DIAGNOSTICS COMPLETE”.</li>
<li>Validate that the DiagnosticsState is set to “Complete”.</li>
<li>Verify that the SuccessCount and FailureCount match what is seen on the network capture.</li>
</ol>
<h3 id="sec:download-diagnostics-over-http">5.2.2 Download Diagnostics over HTTP <a href="#sec:download-diagnostics-over-http" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-14">5.2.2.1 Purpose: <a href="#sec:purpose-14" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS and CPE can interoperate while performing the download diagnostics function over HTTP. This test will be run if supported on the CPE.</div>
<h4 id="sec:references-14">5.2.2.2 References: <a href="#sec:references-14" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice.1.3</div>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-13">5.2.2.3 Profiles: <a href="#sec:profiles-13" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Download:1</td>
<td style="text-align: left;">Download:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-13">5.2.2.4 Optional Features: <a href="#sec:optional-features-13" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-13">5.2.2.5 Parameters: <a href="#sec:parameters-13" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test:</div>
<div class="line-block">For CPE that implement the Device:2 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.IP.Diagnostics.DownloadDiagnostics.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">Requested</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">DownloadURL</td>
<td style="text-align: left;">&lt;URL of file on HTTP server&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">TestBytesReceived</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">TotalBytesReceived</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DownloadTransports</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<div class="line-block">For CPE that implement the InternetGatewayDevice:1 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.DownloadDiagnostics.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">Requested</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">DownloadURL</td>
<td style="text-align: left;">&lt;URL of file on HTTP server&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">TestBytesReceived</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">TotalBytesReceived</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.Capabilities.PerformanceDiagnostics.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">DownloadTransports</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<div class="line-block">The DownloadTransports parameter MUST include HTTP for this test to be executed.</div>
<h4 id="sec:test-setup-14">5.2.2.6 Test Setup: <a href="#sec:test-setup-14" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have an HTTP server and file to perform the download. The file should be big enough for the file transfer to last at least 30 seconds.</li>
</ol>
<h4 id="sec:procedure-13">5.2.2.7 Procedure: <a href="#sec:procedure-13" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>On the ACS schedule a SetParameterValues RPC on the Interface, DownloadURL and DiagnosticsState parameters listed in the parameters section.</li>
<li>Allow the CPE to perform the specific diagnostic tests and send an Inform message with an event code of “8 DIAGNOSTICS COMPLETE”.</li>
<li>On the ACS schedule a GetParameterValues RPC on the DownloadDiagnostics object.</li>
<li>Perform a reboot of the CPE.</li>
<li>On the ACS schedule a GetParameterValues RPC on the DownloadDiagnostics object.</li>
</ol>
<h4 id="sec:test-metrics-13">5.2.2.8 Test Metrics: <a href="#sec:test-metrics-13" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the SetParameterValuesResponse RPC is correct</li>
<li>Verify that an Inform message is received with an event code of “8 DIAGNOSTICS COMPLETE”</li>
<li>Verify that the GetParameterValuesResponse contains a valid value for the DiagnosticsState parameter.</li>
<li>Verify that TestBytesReceived is correct.</li>
<li>Verify that EOMTime – BOMTime is within 1 second of the time that the file server reports the transfer took.</li>
<li>Verify that the GetParameterValuesResponse contains a valid value for the DiagnosticsState parameter.
<ol>
<li>If the value is “Completed” verify that the values in the DownloadDiagnostic object are the same as they were before the reboot.</li>
<li>Verify that TotalBytesReceived is within 1% of the measured traffic.</li>
</ol></li>
</ol>
<h3 id="sec:download-diagnostics-over-ftp">5.2.3 Download Diagnostics over FTP <a href="#sec:download-diagnostics-over-ftp" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-15">5.2.3.1 Purpose: <a href="#sec:purpose-15" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS and CPE can inter-operate while performing the download diagnostics function over FTP. This test will be run if supported on the CPE.</div>
<h4 id="sec:references-15">5.2.3.2 References: <a href="#sec:references-15" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice.1.3</div>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-14">5.2.3.3 Profiles: <a href="#sec:profiles-14" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Download:1</td>
<td style="text-align: left;">Download:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-14">5.2.3.4 Optional Features: <a href="#sec:optional-features-14" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">DownloadTransports includes FTP</div>
<h4 id="sec:parameters-14">5.2.3.5 Parameters: <a href="#sec:parameters-14" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test:</div>
<div class="line-block">For CPE that implement the Device:2 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.IP.Diagnostics.DownloadDiagnostics.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">Requested</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">DownloadURL</td>
<td style="text-align: left;">&lt;URL of file on FTP server&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">TestBytesReceived</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">DownloadTransports</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
<div class="line-block">For CPE that implement the InternetGatewayDevice:1 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.DownloadDiagnostics.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">Requested</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">DownloadURL</td>
<td style="text-align: left;">&lt;URL of file on FTP server&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">TestBytesReceived</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">TotalBytesReceived</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.Capabilities.PerformanceDiagnostics.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">DownloadTransports</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<div class="line-block">The DownloadTransports parameter MUST include FTP for this test to be executed.</div>
<h4 id="sec:test-setup-15">5.2.3.6 Test Setup: <a href="#sec:test-setup-15" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have an FTP server and file to perform the download. The file should be big enough for the file transfer to last at least 30 seconds.</li>
</ol>
<h4 id="sec:procedure-14">5.2.3.7 Procedure: <a href="#sec:procedure-14" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>On the ACS schedule a SetParameterValues RPC on the Interface, DownloadURL and DiagnosticsState parameters listed in the parameters section.</li>
<li>Allow the CPE to perform the specific diagnostic tests and send an Inform message with an event code of “8 DIAGNOSTICS COMPLETE”.</li>
<li>On the ACS schedule a GetParameterValues RPC on the DownloadDiagnostics object.</li>
<li>Perform a reboot of the CPE.</li>
<li>On the ACS schedule a GetParameterValues RPC on the DownloadDiagnostics object.</li>
</ol>
<h4 id="sec:test-metrics-14">5.2.3.8 Test Metrics: <a href="#sec:test-metrics-14" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the SetParameterValuesResponse RPC is correct</li>
<li>Verify that an Inform message is received with an event code of “8 DIAGNOSTICS COMPLETE”</li>
<li>Verify that the GetParameterValuesResponse contains a valid value for the DiagnosticsState parameter.</li>
<li>Verify that TestBytesReceived is correct.</li>
<li>Verify that EOMTime – BOMTime is within 1 second of the time that the file server reports the transfer took.</li>
<li>Verify that the GetParameterValuesResponse contains a valid value for the DiagnosticsState parameter.
<ol>
<li>If the value is “Completed” verify that the values in the DownloadDiagnostic object are the same as they were before the reboot.</li>
</ol></li>
</ol>
<h3 class="new-page" id="sec:upload-diagnostics-over-http">5.2.4 Upload Diagnostics over HTTP <a href="#sec:upload-diagnostics-over-http" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-16">5.2.4.1 Purpose: <a href="#sec:purpose-16" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS and CPE can inter-operate while performing the upload diagnostics function over HTTP. This test will be run if supported on the CPE.</div>
<h4 id="sec:references-16">5.2.4.2 References: <a href="#sec:references-16" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice.1.3</div>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-15">5.2.4.3 Profiles: <a href="#sec:profiles-15" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Upload:1</td>
<td style="text-align: left;">Upload:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-15">5.2.4.4 Optional Features: <a href="#sec:optional-features-15" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-15">5.2.4.5 Parameters: <a href="#sec:parameters-15" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test:</div>
<div class="line-block">For CPE that implement the Device:2 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.IP.Diagnostics.UploadDiagnostics.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">Requested</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">UploadURL</td>
<td style="text-align: left;">&lt;URL of HTTP server&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">TestFileLength</td>
<td style="text-align: left;">&lt;value long enough for the upload to last 30 seconds&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">TotalBytesSent</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">UploadTransports</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<div class="line-block">For CPE that implement the InternetGatewayDevice:1 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.UploadDiagnostics.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">Requested</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">UploadURL</td>
<td style="text-align: left;">&lt;URL of HTTP server&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">TestFileLength</td>
<td style="text-align: left;">&lt;value long enough for the upload to last 30 seconds&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">TotalBytesSent</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.Capabilities.PerformanceDiagnostics.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">UploadTransports</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<div class="line-block">The UploadTransports parameter MUST include HTTP for this test to be executed.</div>
<h4 id="sec:test-setup-16">5.2.4.6 Test Setup: <a href="#sec:test-setup-16" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have an HTTP server to perform the Upload.</li>
<li>Wireshark running between ACS and CPE.</li>
</ol>
<h4 id="sec:procedure-15">5.2.4.7 Procedure: <a href="#sec:procedure-15" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>On the ACS schedule a SetParameterValues RPC on the Interface, UploadURL and DiagnosticsState parameters listed in the parameters section.</li>
<li>Allow the CPE to perform the specific diagnostic tests and send an Inform message with an event code of “8 DIAGNOSTICS COMPLETE”.</li>
<li>On the ACS schedule a GetParameterValues RPC on the UploadDiagnostics object.</li>
<li>Perform a reboot of the CPE</li>
<li>On the ACS schedule a GetParameterValues RPC on the UploadDiagnostics object.</li>
</ol>
<h4 id="sec:test-metrics-15">5.2.4.8 Test Metrics: <a href="#sec:test-metrics-15" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the SetParameterValuesResponse RPC is correct</li>
<li>Verify that an Inform message is received with an event code of “8 DIAGNOSTICS COMPLETE”</li>
<li>Verify that the GetParameterValuesResponse contains a valid value for the DiagnosticsState parameter.</li>
<li>Verify that the test server received a file of TestLengthBytes size.</li>
<li>Verify that EOMTime – BOMTime is within 1 second of the time that the file server reports the transfer took.</li>
<li>Verify that the GetParameterValuesResponse contains a valid value for the DiagnosticsState parameter.
<ol>
<li>If the value is “Completed” verify that the values in the UploadDiagnostic object are the same as they were before the reboot.</li>
<li>Verify that TotalBytesSent is within 1% of the measured traffic.</li>
</ol></li>
</ol>
<h3 id="sec:upload-diagnostics-over-ftp">5.2.5 Upload Diagnostics over FTP <a href="#sec:upload-diagnostics-over-ftp" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-17">5.2.5.1 Purpose: <a href="#sec:purpose-17" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS and CPE can inter-operate while performing the upload diagnostics function over FTP. This test will be run if supported on the CPE.</div>
<h4 id="sec:references-17">5.2.5.2 References: <a href="#sec:references-17" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice.1.3</div>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-16">5.2.5.3 Profiles: <a href="#sec:profiles-16" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Upload:1</td>
<td style="text-align: left;">Upload:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-16">5.2.5.4 Optional Features: <a href="#sec:optional-features-16" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">UploadTransports includes FTP</div>
<h4 id="sec:parameters-16">5.2.5.5 Parameters: <a href="#sec:parameters-16" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters within the InternetGatewayDevice.UploadDiagnostics table (for devices that implement the InternetGatewayDevice:1 root data model) and Device.IP.Diagnostics.UpLoadDiagnostics table (for devices that implement the Device:2 root data model) are required to be implemented for this test:</div>
<div class="line-block">For CPE that implement the Device:2 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.IP.Diagnostics.UploadDiagnostics.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">Requested</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">UploadURL</td>
<td style="text-align: left;">&lt;URL of FTP server&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">TestFileLength</td>
<td style="text-align: left;">&lt;value long enough for the upload to last 30 seconds&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">UploadTransports</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<div class="line-block">For CPE that implement the InternetGatewayDevice:1 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.UploadDiagnostics.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">Requested</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">UploadURL</td>
<td style="text-align: left;">&lt;URL of FTP server&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">TestFileLength</td>
<td style="text-align: left;">&lt;value long enough for the upload to last 30 seconds&gt;</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.Capabilities.PerformanceDiagnostics.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">UploadTransports</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<div class="line-block">The UploadTransports parameter MUST include FTP for this test to be executed.</div>
<h4 id="sec:test-setup-17">5.2.5.6 Test Setup: <a href="#sec:test-setup-17" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have an FTP server to perform the Upload.</li>
</ol>
<h4 id="sec:procedure-16">5.2.5.7 Procedure: <a href="#sec:procedure-16" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>On the ACS schedule a SetParameterValues RPC on the Interface, UploadURL and DiagnosticsState parameters listed in the parameters section.</li>
<li>Allow the CPE to perform the specific diagnostic tests and send an Inform message with an event code of “8 DIAGNOSTICS COMPLETE”.</li>
<li>On the ACS schedule a GetParameterValues RPC on the UploadDiagnostics object.</li>
<li>Perform a reboot of the CPE</li>
<li>On the ACS schedule a GetParameterValues RPC on the UploadDiagnostics object.</li>
</ol>
<h4 id="sec:test-metrics-16">5.2.5.8 Test Metrics: <a href="#sec:test-metrics-16" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the SetParameterValuesResponse RPC is correct</li>
<li>Verify that an Inform message is received with an event code of “8 DIAGNOSTICS COMPLETE”</li>
<li>Verify that the GetParameterValuesResponse contains a valid value for the DiagnosticsState parameter.</li>
<li>Verify that the test server received a file of TestLengthBytes size.</li>
<li>Verify that EOMTime – BOMTime is within 1 second of the time that the file server reports the transfer took.</li>
<li>Verify that the GetParameterValuesResponse contains a valid value for the DiagnosticsState parameter.
<ol>
<li>If the value is “Completed” verify that the values in the UploadDiagnostic object are the same as they were before the reboot.</li>
</ol></li>
</ol>
<h3 id="sec:traceroute">5.2.6 TraceRoute <a href="#sec:traceroute" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-18">5.2.6.1 Purpose: <a href="#sec:purpose-18" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">This test is designed to validate that the CPE supports TraceRoute diagnostics test and reports results appropriately to the ACS.</div>
<h4 id="sec:references-18">5.2.6.2 References: <a href="#sec:references-18" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice:1.4</div>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-17">5.2.6.3 Profiles: <a href="#sec:profiles-17" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">TraceRoute:1</td>
<td style="text-align: left;">TraceRoute:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-17">5.2.6.4 Optional Features: <a href="#sec:optional-features-17" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-17">5.2.6.5 Parameters: <a href="#sec:parameters-17" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test:</div>
<div class="line-block">For CPE that implement the Device:2 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.IP.Diagnostics.TraceRoute.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">Requested</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Host</td>
<td style="text-align: left;">&lt;IP address&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">NumberOfTries</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Timeout</td>
<td style="text-align: left;">5000</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DataBlockSize</td>
<td style="text-align: left;">128</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">DSCP</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even even">
<td style="text-align: left;">MaxHopCount</td>
<td style="text-align: left;">30</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.IP.Interface.</th>
<th style="text-align: left;"></th>
</tr>
</thead>

</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.IP.Diagnostics.TraceRoute.RouteHops.</th>
<th style="text-align: left;"></th>
</tr>
</thead>

</table>
<div class="line-block">For CPE that implement the InternetGatewayDevice:1 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.TraceRouteDiagnostics.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">Requested</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Host</td>
<td style="text-align: left;">&lt;IP address&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">NumberOfTries</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Timeout</td>
<td style="text-align: left;">5000</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DataBlockSize</td>
<td style="text-align: left;">128</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">DSCP</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even even">
<td style="text-align: left;">MaxHopCount</td>
<td style="text-align: left;">30</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.Layer3Forwarding.DefaultConnectionService</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">DefaultConnectionService</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.TraceRouteDiagnostics.RouteHops.</th>
<th style="text-align: left;"></th>
</tr>
</thead>

</table>
<h4 id="sec:test-setup-18">5.2.6.6 Test Setup: <a href="#sec:test-setup-18" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have a host on the WAN network that can answer the CPE’s traceroute mechanism.</li>
</ol>
<h4 id="sec:procedure-17">5.2.6.7 Procedure: <a href="#sec:procedure-17" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Establish a CWMP session between the CWMP Analyzer and DUT with successful Inform exchanges.</li>
<li>Schedule a GetParameterValues RPC on the current WAN interface.</li>
<li>Schedule a SetParameterValues RPC on the DUT on the trace route diagnostic parameters listed above.</li>
<li>Schedule a GetParameterValues RPC on the DUT on Diagnostic State.</li>
<li>Schedule a GetParameterValues RPC on the CPE on the RouteHops table.</li>
</ol>
<h4 id="sec:test-metrics-17">5.2.6.8 Test Metrics: <a href="#sec:test-metrics-17" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>The DUT can properly respond to the GetParameterValues request on WAN interface.</li>
<li>The DUT is able to properly respond to the SetParameterValues for diagnostics parameter.</li>
<li>Verify that the CPE performed the TraceRoute test on the target Host.</li>
<li>Validate that the CPE sends an Inform RPC to the ACS with Event Code “8 DIAGNOSTICS COMPLETE”.</li>
<li>Validate that the DiagnosticsState is set to “Complete”.</li>
<li>Validate that the Entries in the RouteHops table match the traceroute traffic on the WAN.</li>
</ol>
<h3 id="sec:udpecho-test">5.2.7 UDPEcho Test <a href="#sec:udpecho-test" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-19">5.2.7.1 Purpose: <a href="#sec:purpose-19" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">This test is designed to verify that the ACS can configure the UDPEcho service on the CPE and that the CPE implements that service correctly.</div>
<h4 id="sec:references-19">5.2.7.2 References: <a href="#sec:references-19" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice:1.3</div>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-18">5.2.7.3 Profiles: <a href="#sec:profiles-18" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">UDPEcho:1</td>
<td style="text-align: left;">UDPEcho:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-18">5.2.7.4 Optional Features: <a href="#sec:optional-features-18" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-18">5.2.7.5 Parameters: <a href="#sec:parameters-18" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test:</div>
<div class="line-block">For CPE that implement the Device:2 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.IP.Diagnostics.UDPEchoConfig</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">&lt;boolean&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">&lt;empty string&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">SourceIPAddress</td>
<td style="text-align: left;">&lt;IP Address of UDP Client&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">UDPPort</td>
<td style="text-align: left;">&lt;port&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">PacketsReceived</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">PacketsResponded</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<div class="line-block">For CPE that implement the InternetGatewayDevice:1 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.UDPEchoConfig.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">&lt;boolean&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">&lt;empty string&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">SourceIPAddress</td>
<td style="text-align: left;">&lt;IP Address of UDP Client&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">UDPPort</td>
<td style="text-align: left;">&lt;port&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">PacketsReceived</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">PacketsResponded</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-19">5.2.7.6 Test Setup: <a href="#sec:test-setup-19" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>UDP client available at source to send UDPEcho packets</li>
</ol>
<h4 id="sec:procedure-18">5.2.7.7 Procedure: <a href="#sec:procedure-18" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS schedules a SetParameterValues RPC on the CPE, setting Enable to false.</li>
<li>Allow the CPE to respond with the SetParameterValuesResponse</li>
<li>Orderly terminate the session</li>
<li>Use the UDP client at source to send n UDP Echo packets to the CPE</li>
<li>ACS schedules a SetParameterValues RPC on the CPE, setting the SourceIPAddress and UDPPort that will be used, and setting Enable to true.</li>
<li>Allow the CPE to respond with the SetParameterValuesResponse</li>
<li>ACS schedules a GetParameterValues RPC on the CPE, reading PacketsReceived and PacketsResponded.</li>
<li>Allow the CPE to respond with the GetParameterValuesResponse</li>
<li>Orderly terminate the session</li>
<li>Use the UDP client at source to send n UDP Echo packets to the CPE</li>
<li>ACS schedules a GetParameterValues RPC on the CPE, reading PacketsReceived and PacketsResponded.</li>
<li>Allow the CPE to respond with the GetParameterValuesResponse</li>
</ol>
<h4 id="sec:test-metrics-18">5.2.7.8 Test Metrics: <a href="#sec:test-metrics-18" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>CPE responds correctly to the various RPCs</li>
<li>During step 4, the UPD client receives no response packet</li>
<li>During step 7, the counters read have a value of zero</li>
<li>During step 10, the UPD client receives n response packets (no loss expected in the closed test network)</li>
<li>During step 12, PacketsReceived and PacketsResponded are both n.</li>
</ol>
<h2 id="sec:statistics-and-monitoring">5.3 Statistics and Monitoring <a href="#sec:statistics-and-monitoring" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h3 id="sec:current-interface-configuration-device2-only">5.3.1 Current Interface Configuration (Device:2 Only) <a href="#sec:current-interface-configuration-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-20">5.3.1.1 Purpose: <a href="#sec:purpose-20" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">This test is designed to verify that the ACS can determine the current configuration of the interfaces on the CPE.</div>
<h4 id="sec:references-20">5.3.1.2 References: <a href="#sec:references-20" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Section 4/TR-181i2</div>
<h4 id="sec:profiles-19">5.3.1.3 Profiles: <a href="#sec:profiles-19" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<colgroup>
<col style="width: 75%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Baseline:2, IPInterface:1, EtherenetInterface:1, WiFiSSID:1, WiFiRadio:1</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-19">5.3.1.4 Optional Features: <a href="#sec:optional-features-19" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-19">5.3.1.5 Parameters: <a href="#sec:parameters-19" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.InterfaceStack.</th>
<th style="text-align: left;"></th>
</tr>
</thead>

</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.IP.Interface.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">LowerLayers</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.IP.Interface.{i}.IPv4Address.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">IPAddress</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">SubnetMask</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Ethernet.Interface.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">MACAddress</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Ethernet.Link.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">MACAddress</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">LowerLayers</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.SSID.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">MACAddress</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">LowerLayers</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.Radio.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-20">5.3.1.6 Test Setup: <a href="#sec:test-setup-20" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
</ol>
<h4 id="sec:procedure-19">5.3.1.7 Procedure: <a href="#sec:procedure-19" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>On the ACS schedule a GetParameterValues RPC for the InterfaceStack on the CPE.</li>
<li>Allow the CPE to respond with a GetParameterValuesResponse</li>
<li>On the ACS schedule a GetParameterValues on each interface returned in the InterfaceStack.</li>
</ol>
<h4 id="sec:test-metrics-19">5.3.1.8 Test Metrics: <a href="#sec:test-metrics-19" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the CPE responds to the GetParameterValues RPC.</li>
<li>Verify that the InterfaceStack table refers to objects that exist.</li>
<li>Verify that each entry in the InterfaceStack table corresponds to the correct LowerLayer.</li>
<li>Verify Enable, IPAddress and SubnetMask or MACAddress from all Interface objects.</li>
</ol>
<h3 id="sec:connected-lan-devices-internetgatewaydevice1-only">5.3.2 Connected LAN Devices (InternetGatewayDevice:1 Only) <a href="#sec:connected-lan-devices-internetgatewaydevice1-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-21">5.3.2.1 Purpose: <a href="#sec:purpose-21" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">This test is designed to verify that the ACS can determine the current connected LAN devices on the CPE and get back the correct response</div>
<h4 id="sec:references-21">5.3.2.2 References: <a href="#sec:references-21" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice:1.4</div>
<h4 id="sec:profiles-20">5.3.2.3 Profiles: <a href="#sec:profiles-20" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">Baseline:2</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-20">5.3.2.4 Optional Features: <a href="#sec:optional-features-20" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-20">5.3.2.5 Parameters: <a href="#sec:parameters-20" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.LANDevice.{i}.Hosts.Host.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">IPAddress</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">AddressSource</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">LeaseTimeRemaining</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">MACAddress</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Layer2Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">HostName</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">InterfaceType</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Active</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-21">5.3.2.6 Test Setup: <a href="#sec:test-setup-21" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have one LAN device connected on each interface that the CPE supports.</li>
<li>Have a Network Analyzer to capture traffic between the CPE and each LAN device.</li>
</ol>
<h4 id="sec:procedure-20">5.3.2.7 Procedure: <a href="#sec:procedure-20" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Connect each LAN device so it is configured with an address.</li>
<li>On the ACS schedule a GetParameterValues RPC for InternetGatewayDevice.LANDevice. on the CPE.</li>
<li>Allow the CPE to respond with the GetParameterValues</li>
</ol>
<h4 id="sec:test-metrics-20">5.3.2.8 Test Metrics: <a href="#sec:test-metrics-20" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the CPE responds to the GetParameterValues RPC</li>
<li>Verify that the Layer2Interface parameter matches the InterfaceType parameter.</li>
<li>Verify that the values of the above parameters returned match each LAN device connected to the CPE.</li>
<li>Verify that the Active parameter is set to “true”.</li>
</ol>
<h3 id="sec:connected-lan-devices-wi-fi-device2-only">5.3.3 Connected LAN Devices – Wi-Fi (Device:2 Only) <a href="#sec:connected-lan-devices-wi-fi-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-22">5.3.3.1 Purpose: <a href="#sec:purpose-22" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">This test is designed to verify that the ACS can determine the current connected LAN devices on the CPE and get back the correct response</div>
<h4 id="sec:references-22">5.3.3.2 References: <a href="#sec:references-22" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Device:2.2</div>
<h4 id="sec:profiles-21">5.3.3.3 Profiles: <a href="#sec:profiles-21" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Hosts:2</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-21">5.3.3.4 Optional Features: <a href="#sec:optional-features-21" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-21">5.3.3.5 Parameters: <a href="#sec:parameters-21" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test:</div>
<div class="line-block">For CPE that implement the Device:2 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Hosts.Host.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">PhysAddress</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">AssociatedDevice</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Layer1Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Layer3Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">HostName</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Active</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Hosts.Host.{i}.IPv4Address.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">IPAddress</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Hosts.Host.{i}.IPv6Address.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">IPAddress</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.AccessPoint.{i}.AssociatedDevice.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">MACAddress</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">SignalStrength</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Retransmissions</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<div class="line-block">Other AssociatedDevice tables if implemented</div>
<h4 id="sec:test-setup-22">5.3.3.6 Test Setup: <a href="#sec:test-setup-22" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have one LAN device connected on the Wi-Fi interface of the CPE.</li>
<li>Have a Network Analyzer to capture traffic between the CPE and the LAN device.</li>
</ol>
<h4 id="sec:procedure-21">5.3.3.7 Procedure: <a href="#sec:procedure-21" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Connect the LAN device so it is configured with an address.</li>
<li>On the ACS schedule a GetParameterValues RPC for Device.Hosts. on the CPE.</li>
<li>Allow the CPE to respond</li>
<li>On the ACS schedule a GetParameterValues RPC for the AssociatedDevice returned.</li>
<li>Allow the CPE to respond</li>
</ol>
<h4 id="sec:test-metrics-21">5.3.3.8 Test Metrics: <a href="#sec:test-metrics-21" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the CPE responds to the GetParameterValues RPC</li>
<li>Verify that the values of the above parameters returned match the LAN device</li>
<li>Verify that the Active parameter is set to “true”</li>
<li>Verify that the value of SignalStrength is within the valid range</li>
<li>Verify that the value of Retransmissions is within the valid range</li>
</ol>
<h3 id="sec:connected-lan-devices-dhcp-device2-only">5.3.4 Connected LAN Devices – DHCP (Device:2 Only) <a href="#sec:connected-lan-devices-dhcp-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-23">5.3.4.1 Purpose: <a href="#sec:purpose-23" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">This test is designed to verify that the ACS can determine the current connected LAN devices on the CPE and get back the correct response</div>
<h4 id="sec:references-23">5.3.4.2 References: <a href="#sec:references-23" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Device:2.2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<div class="line-block">RFC 2131 <span class="cite" data-citation-ids="RFC2131"><a href="#ref-RFC2131">[5]</a></span></div>
<div class="line-block">RFC 2132 <span class="cite" data-citation-ids="RFC2132"><a href="#ref-RFC2132">[6]</a></span></div>
<div class="line-block">RFC 3315 <span class="cite" data-citation-ids="RFC3315"><a href="#ref-RFC3315">[7]</a></span></div>
<h4 id="sec:profiles-22">5.3.4.3 Profiles: <a href="#sec:profiles-22" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Hosts:2, DHCPv4ServerClientInfo:1, DHCPv6ServerClientInfo:1</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-22">5.3.4.4 Optional Features: <a href="#sec:optional-features-22" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-22">5.3.4.5 Parameters: <a href="#sec:parameters-22" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test:</div>
<div class="line-block">For CPE that implement the Device:2 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Hosts.Host.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">PhysAddress</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DHCPClient</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">AssociatedDevice</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Layer1Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Layer3Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">HostName</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Active</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Hosts.Host.{i}.IPv4Address.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">IPAddress</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Hosts.Host.{i}.IPv6Address.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">IPAddress</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.AccessPoint.{i}.AssociatedDevice.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SignalStrength</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Retransmissions</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.DHCPv4.Server.Pool.{i}.Client.{i}.IPv4Address.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">LeaseTimeRemaining</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.DHCPv4.Server.Pool.{i}.Client.{i}.Option.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Tag</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Value</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.DHCPv6.Server.Pool.{i}.Client.{i}.IPv6Address.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">ValidLifetime</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<div class="line-block">Other AssociatedDevice tables if implemented</div>
<h4 id="sec:test-setup-23">5.3.4.6 Test Setup: <a href="#sec:test-setup-23" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have one LAN device connected to the CPE.</li>
<li>Have a Network Analyzer to capture traffic between the CPE and the LAN device.</li>
</ol>
<h4 id="sec:procedure-22">5.3.4.7 Procedure: <a href="#sec:procedure-22" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Connect each LAN device so it is configured to use DHCP for its addressing information</li>
<li>On the ACS schedule a GetParameterValues RPC for Device.Hosts. on the CPE</li>
<li>Allow the CPE to respond</li>
<li>On the ACS schedule a GetParameterValues RPC for all the AssociatedDevices returned</li>
<li>Allow the CPE to respond</li>
<li>On the ACS schedule a GetParameterValues RPC for all the DHCPClient values returned</li>
</ol>
<h4 id="sec:test-metrics-22">5.3.4.8 Test Metrics: <a href="#sec:test-metrics-22" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the CPE responds to the GetParameterValues RPC</li>
<li>Verify that the values of the above parameters returned match the LAN device</li>
<li>Verify that Option Tag 61 is the DHCP client id</li>
<li>Verify that the Active parameter is set to “true”</li>
</ol>
<h3 id="sec:device-connectdisconnect-notification-test">5.3.5 Device Connect/Disconnect Notification Test <a href="#sec:device-connectdisconnect-notification-test" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-24">5.3.5.1 Purpose: <a href="#sec:purpose-24" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">This test is designed to verify that the ACS can determine when the set of LAN devices on the CPE changes and get back the correct response</div>
<h4 id="sec:references-24">5.3.5.2 References: <a href="#sec:references-24" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<div class="line-block">InternetGatewayDevice:1 <span class="cite" data-citation-ids="TR-098"><a href="#ref-TR-098">[9]</a></span></div>
<h4 id="sec:profiles-23">5.3.5.3 Profiles: <a href="#sec:profiles-23" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Hosts:1</td>
<td style="text-align: left;">Baseline:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-23">5.3.5.4 Optional Features: <a href="#sec:optional-features-23" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-23">5.3.5.5 Parameters: <a href="#sec:parameters-23" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test:</div>
<div class="line-block">For CPE that implement the Device:2 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Hosts.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">HostNumberOfEntries</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Hosts.Hosts.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Active</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<div class="line-block">For CPE that implement the InternetGatewayDevice:1 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.LANDevice.{i}.Hosts.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">HostNumberOfEntries</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.LANDevice.{i}.Hosts.Host.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Active</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-24">5.3.5.6 Test Setup: <a href="#sec:test-setup-24" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have one device connectable on each interface that the CPE supports.</li>
<li>Have a Network Analyzer to capture traffic between the CPE and each LAN device.</li>
</ol>
<h4 id="sec:procedure-23">5.3.5.7 Procedure: <a href="#sec:procedure-23" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>On the ACS schedule a SetParameterAttributes RPC with active notification on the CPE for HostNumberOfEntries</li>
<li>Connect a device to the CPE on each interface the CPE supports.</li>
<li>Verify that the ACS receives a notification containing the HostNumberOfEntries parameter.</li>
<li>On the ACS schedule a SetParameterAttributes RPC with active notification on the CPE for each host object’s active parameter (Host.{i}.Active).</li>
<li>Disconnect a device from the CPE</li>
<li>Verify that the ACS receives a notification containing the Active parameter.</li>
<li>Schedule a GetParameterNames RPC on the CPE for Host.</li>
</ol>
<h4 id="sec:test-metrics-23">5.3.5.8 Test Metrics: <a href="#sec:test-metrics-23" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the CPE responds to the SetParameterAttributes RPC</li>
<li>Verify the CPE sends an Inform containing a “4 VALUE CHANGE” for each device that is connected to the CPE. Verify the ParameterList includes the HostNumberOfEntries parameter.</li>
<li>Verify the CPE sends an Inform containing a “4 VALUE CHANGE” when the device is disconnected from the CPE. Verify the ParameterList includes the Host.{i}.Active parameter. If the CPE does not list inactive host, verify that the GetParameterNames does not include the Host instance of the inactive device.</li>
</ol>
<h2 id="sec:port-mappings">5.4 Port Mappings <a href="#sec:port-mappings" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h3 id="sec:create-a-port-mapping-single-interface">5.4.1 Create a Port Mapping – Single Interface <a href="#sec:create-a-port-mapping-single-interface" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-25">5.4.1.1 Purpose: <a href="#sec:purpose-25" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can create a port mapping, the CPE can create the port mapping that the ACS requested, and that internet traffic can traverse the port mapping.</div>
<h4 id="sec:references-25">5.4.1.2 References: <a href="#sec:references-25" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice:1 <span class="cite" data-citation-ids="TR-098"><a href="#ref-TR-098">[9]</a></span></div>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-24">5.4.1.3 Profiles: <a href="#sec:profiles-24" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">NAT:1</td>
<td style="text-align: left;">Baseline:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-24">5.4.1.4 Optional Features: <a href="#sec:optional-features-24" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-24">5.4.1.5 Parameters: <a href="#sec:parameters-24" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<p>The following parameters are required to be implemented by the CPE for this test:</p>
<p>For devices that support the Device:2 root data model:</p>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.NAT.PortMapping.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">LeaseDuration</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even even">
<td style="text-align: left;">ExternalPort</td>
<td style="text-align: left;">1400</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">InternalPort</td>
<td style="text-align: left;">1401</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Protocol</td>
<td style="text-align: left;">UDP</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">InternalClient</td>
<td style="text-align: left;">&lt;IP Address of the End Device (laptop)&gt;</td>
</tr>
</tbody>
</table>
<p>For devices that support the InternetGatewayDevice:1 root data model:</p>
<table>
<colgroup>
<col style="width: 39%" />
<col style="width: 61%" />
</colgroup>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.WANDevice.{i}.WANConnectionDevice.{i}.WANIPConnection.{i}.PortMapping.{i}.<br />
OR<br />
InternetGatewayDevice.WANDevice.{i}.WANConnectionDevice.{i}.WANPPPConnection.{i}.PortMapping.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">PortMappingEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">PortMappingLeaseDuration</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">ExternalPort</td>
<td style="text-align: left;">1400</td>
</tr>
<tr class="even even">
<td style="text-align: left;">InternalPort</td>
<td style="text-align: left;">1401</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">PortMappingProtocol</td>
<td style="text-align: left;">UDP</td>
</tr>
<tr class="even even">
<td style="text-align: left;">InternalClient</td>
<td style="text-align: left;">&lt;IP Address of the End Device (laptop)&gt;</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-25">5.4.1.6 Test Setup: <a href="#sec:test-setup-25" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have a LAN device connected to the LAN side of the CPE</li>
<li>Have a device connected on the WAN side of the CPE that can send UDP traffic.</li>
<li>ACS ensures that the port mapping being created doesn’t already exist by retrieving all instances of the PortMapping table via a GetParamterValues RPC
<ol>
<li>If PortMapping already exists, remove it via the DeleteObject RPC</li>
<li>Refer to <a href="#sec:determine-wan-interface" class="heading">Determine WAN Interface</a> to determine the WAN interface.</li>
<li>Have a Network Analyzer to capture traffic between the CPE and the LAN device.</li>
</ol></li>
</ol>
<h4 id="sec:procedure-24">5.4.1.7 Procedure: <a href="#sec:procedure-24" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS performs an AddObject RPC to create a new PortMapping instance.</li>
<li>ACS performs a SetParameterValues RPC on the parameters above using the returned PortMapping instance number.</li>
<li>ACS performs a GetParameterValues RPC on the PortMapping instance.</li>
<li>Reboot the CPE.</li>
<li>ACS performs a GetParameterValues RPC on the PortMapping instance.</li>
<li>Send UDP traffic to the CPE’s IP Address with destination port 1400 from the WAN side of the CPE.</li>
</ol>
<h4 id="sec:test-metrics-24">5.4.1.8 Test Metrics: <a href="#sec:test-metrics-24" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Validate that the values of the PortMapping instance match the values that were set.</li>
<li>Validate that the CPE retains the PortMapping instance and configuration across a reboot.</li>
<li>Validate that the UDP traffic is forwarded to the LAN Device’s IP address, port 1401.</li>
</ol>
<h3 id="sec:create-a-port-mapping-all-interfaces-device2-only">5.4.2 Create a Port Mapping – All Interfaces (Device:2 only) <a href="#sec:create-a-port-mapping-all-interfaces-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-26">5.4.2.1 Purpose: <a href="#sec:purpose-26" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can create a port mapping, the CPE can create the port mapping that the ACS requested, and that internet traffic can traverse the port mapping.</div>
<h4 id="sec:references-26">5.4.2.2 References: <a href="#sec:references-26" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-25">5.4.2.3 Profiles: <a href="#sec:profiles-25" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">NAT:1</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-25">5.4.2.4 Optional Features: <a href="#sec:optional-features-25" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-25">5.4.2.5 Parameters: <a href="#sec:parameters-25" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<p>The following parameters are required to be implemented by the CPE for this test:</p>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.NAT.PortMapping.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">AllInterfaces</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">LeaseDuration</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even even">
<td style="text-align: left;">ExternalPort</td>
<td style="text-align: left;">1400</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">InternalPort</td>
<td style="text-align: left;">1401</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Protocol</td>
<td style="text-align: left;">UDP</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">InternalClient</td>
<td style="text-align: left;">&lt;IP Address of the End Device (laptop)&gt;</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-26">5.4.2.6 Test Setup: <a href="#sec:test-setup-26" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps. Have a LAN device connected to the LAN side of the CPE Have a device connected on the WAN side of the CPE that can send UDP traffic. ACS ensures that the port mapping being created doesn’t already exist by retrieving all instances of the PortMapping table via a GetParamterValues RPC
<ol>
<li>If PortMapping already exists, remove it via the DeleteObject RPC</li>
<li>Have a Network Analyzer to capture traffic between the CPE and the LAN device.</li>
</ol></li>
</ol>
<h4 id="sec:procedure-25">5.4.2.7 Procedure: <a href="#sec:procedure-25" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS performs an AddObject RPC to create a new PortMapping instance.</li>
<li>ACS performs a SetParameterValues RPC on the parameters above using the returned PortMapping instance number.</li>
<li>ACS performs a GetParameterValues RPC on the PortMapping instance.</li>
<li>Send UDP traffic to the CPE’s IP Address with destination port 1400 from the WAN side of the CPE.</li>
</ol>
<h4 id="sec:test-metrics-25">5.4.2.8 Test Metrics: <a href="#sec:test-metrics-25" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Validate that the values of the PortMapping instance match the values that were set.</li>
<li>Validate that the UDP traffic is forwarded to the LAN Device’s IP address, port 1401.</li>
</ol>
<h3 id="sec:create-a-port-mapping-external-port-range">5.4.3 Create a Port Mapping – External Port Range <a href="#sec:create-a-port-mapping-external-port-range" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-27">5.4.3.1 Purpose: <a href="#sec:purpose-27" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can create a port mapping, the CPE can create the port mapping that the ACS requested, and that internet traffic can traverse the port mapping.</div>
<h4 id="sec:references-27">5.4.3.2 References: <a href="#sec:references-27" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice:1.4</div>
<div class="line-block">and Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-26">5.4.3.3 Profiles: <a href="#sec:profiles-26" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">NAT:1</td>
<td style="text-align: left;">Baseline:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-26">5.4.3.4 Optional Features: <a href="#sec:optional-features-26" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">ExternalPortEndRange is included in Data Model</div>
<h4 id="sec:parameters-26">5.4.3.5 Parameters: <a href="#sec:parameters-26" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters required to be implemented for this test:</div>
<p>For devices that support the Device:2 root data model:</p>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.NAT.PortMapping.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">LeaseDuration</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even even">
<td style="text-align: left;">ExternalPort</td>
<td style="text-align: left;">1400</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">ExternalPortEndRange</td>
<td style="text-align: left;">1405</td>
</tr>
<tr class="even even">
<td style="text-align: left;">InternalPort</td>
<td style="text-align: left;">1401</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Protocol</td>
<td style="text-align: left;">UDP</td>
</tr>
<tr class="even even">
<td style="text-align: left;">InternalClient</td>
<td style="text-align: left;">&lt;IP Address of the End Device&gt;</td>
</tr>
</tbody>
</table>
<p>For devices that support the InternetGatewayDevice:1 root data model:</p>
<table>
<colgroup>
<col style="width: 45%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.WANDevice.{i}.WANConnectionDevice.{i}.WANIPConnection.{i}.PortMapping.{i}.<br />
OR<br />
InternetGatewayDevice.WANDevice.{i}.WANConnectionDevice.{i}.WANPPPConnection.{i}.PortMapping.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">PortMappingEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">PortMappingLeaseDuration</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">ExternalPort</td>
<td style="text-align: left;">1400</td>
</tr>
<tr class="even even">
<td style="text-align: left;">ExternalPortEndRange</td>
<td style="text-align: left;">1405</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">InternalPort</td>
<td style="text-align: left;">1401</td>
</tr>
<tr class="even even">
<td style="text-align: left;">PortMappingProtocol</td>
<td style="text-align: left;">UDP</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">InternalClient</td>
<td style="text-align: left;">&lt;IP Address of the End Device&gt;</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-27">5.4.3.6 Test Setup: <a href="#sec:test-setup-27" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have a LAN device connected to the LAN side of the CPE</li>
<li>Have a device connected on the WAN side of the CPE that can send UDP traffic.</li>
<li>ACS ensures that the port mapping being created doesn’t already exist by retrieving all instances of the PortMapping table via a GetParamterValues RPC
<ol>
<li>If PortMapping already exists, remove it via the DeleteObject RPC.</li>
<li>Refer to <a href="#sec:determine-wan-interface" class="heading">Determine WAN Interface</a> to determine the WAN interface.</li>
<li>Have a Network Analyzer to capture traffic between the CPE and the LAN device.</li>
</ol></li>
</ol>
<h4 id="sec:procedure-26">5.4.3.7 Procedure: <a href="#sec:procedure-26" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS performs an AddObject RPC to create a new PortMapping instance.</li>
<li>ACS performs a SetParameterValues RPC on the parameters above using the returned PortMapping instance number.</li>
<li>ACS performs a GetParameterValues RPC on the PortMapping instance.</li>
<li>Send UDP traffic to the CPE’s IP Address with destination port 1400 from the WAN side of the CPE.</li>
<li>Send UDP traffic to the CPE’s IP Address with destination port 1403 from the WAN side of the CPE.</li>
</ol>
<h4 id="sec:test-metrics-26">5.4.3.8 Test Metrics: <a href="#sec:test-metrics-26" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Validate that the values of the PortMapping instance match the values that were set.</li>
<li>Validate that the UDP traffic to port 1400 is forwarded to the LAN Device’s IP address, port 1401.</li>
<li>Validate that the UDP traffic to port 1403 is forwarded to the LAN Device’s IP address, port 1401.</li>
</ol>
<h3 id="sec:create-a-port-mapping-lease-duration-0">5.4.4 Create a Port Mapping – Lease Duration &gt; 0 <a href="#sec:create-a-port-mapping-lease-duration-0" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-28">5.4.4.1 Purpose: <a href="#sec:purpose-28" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can create a port mapping, the CPE can create the port mapping that the ACS requested, and that internet traffic can traverse the port mapping.</div>
<h4 id="sec:references-28">5.4.4.2 References: <a href="#sec:references-28" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice:1 <span class="cite" data-citation-ids="TR-098"><a href="#ref-TR-098">[9]</a></span></div>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-27">5.4.4.3 Profiles: <a href="#sec:profiles-27" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">NAT:1</td>
<td style="text-align: left;">Baseline:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-27">5.4.4.4 Optional Features: <a href="#sec:optional-features-27" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">LeaseDuration or PoerMappingLeaseDuration supports non-zero value</div>
<h4 id="sec:parameters-27">5.4.4.5 Parameters: <a href="#sec:parameters-27" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters required to be implemented for this test:</div>
<p>For devices that support the Device:2 root data model:</p>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.NAT.PortMapping.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">LeaseDuration</td>
<td style="text-align: left;">120</td>
</tr>
<tr class="even even">
<td style="text-align: left;">ExternalPort</td>
<td style="text-align: left;">1400</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">InternalPort</td>
<td style="text-align: left;">1401</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Protocol</td>
<td style="text-align: left;">UDP</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">InternalClient</td>
<td style="text-align: left;">&lt;IP Address of the End Device&gt;</td>
</tr>
</tbody>
</table>
<p>For devices that support the InternetGatewayDevice:1 root data model:</p>
<table>
<colgroup>
<col style="width: 45%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.WANDevice.{i}.WANConnectionDevice.{i}.WANIPConnection.{i}.PortMapping.{i}.<br />
OR<br />
InternetGatewayDevice.WANDevice.{i}.WANConnectionDevice.{i}.WANPPPConnection.{i}.PortMapping.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">PortMappingEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">PortMappingLeaseDuration</td>
<td style="text-align: left;">120</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">ExternalPort</td>
<td style="text-align: left;">1400</td>
</tr>
<tr class="even even">
<td style="text-align: left;">InternalPort</td>
<td style="text-align: left;">1401</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">PortMappingProtocol</td>
<td style="text-align: left;">UDP</td>
</tr>
<tr class="even even">
<td style="text-align: left;">InternalClient</td>
<td style="text-align: left;">&lt;IP Address of the End Device&gt;</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-28">5.4.4.6 Test Setup: <a href="#sec:test-setup-28" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have a LAN device connected to the LAN side of the CPE</li>
<li>Have a device connected on the WAN side of the CPE that can send UDP traffic.</li>
<li>ACS ensures that the port mapping being created doesn’t already exist by retrieving all instances of the PortMapping table via a GetParamterValues RPC
<ol>
<li>If PortMapping already exists, remove it via the DeleteObject RPC.</li>
</ol></li>
<li>Refer to <a href="#sec:determine-wan-interface" class="heading">Determine WAN Interface</a> to determine the WAN interface.</li>
<li>Have a Network Analyzer to capture traffic between the CPE and the LAN device.</li>
</ol>
<h4 id="sec:procedure-27">5.4.4.7 Procedure: <a href="#sec:procedure-27" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS performs an AddObject RPC to create a new PortMapping instance.</li>
<li>ACS performs a SetParameterValues RPC on the parameters above using the returned PortMapping instance number.</li>
<li>ACS performs a GetParameterValues RPC on the PortMapping instance.</li>
<li>Send UDP traffic to the CPE’s IP Address with destination port 1400 from the WAN side of the CPE.</li>
<li>Wait for the PortMapping Instance to expire.</li>
<li>Send UDP traffic to the CPE’s IP Address with destination port 1400 from the WAN side of the CPE.</li>
</ol>
<h4 id="sec:test-metrics-27">5.4.4.8 Test Metrics: <a href="#sec:test-metrics-27" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Validate that the values of the PortMapping instance match the values that were set.</li>
<li>Validate that the UDP traffic to port 1400 is forwarded to the LAN Device’s IP address, port 1401.</li>
<li>Validate that the UDP traffic to port 1400 is NOT forwarded to the LAN Device after the PortMapping Instance expires.</li>
</ol>
<h3 id="sec:create-a-port-mapping-remote-host-restriction">5.4.5 Create a Port Mapping – Remote Host Restriction <a href="#sec:create-a-port-mapping-remote-host-restriction" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-29">5.4.5.1 Purpose: <a href="#sec:purpose-29" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can create a port mapping, the CPE can create the port mapping that the ACS requested, and that internet traffic can traverse the port mapping.</div>
<h4 id="sec:references-29">5.4.5.2 References: <a href="#sec:references-29" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice:1 <span class="cite" data-citation-ids="TR-098"><a href="#ref-TR-098">[9]</a></span></div>
<div class="line-block">and Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-28">5.4.5.3 Profiles: <a href="#sec:profiles-28" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">NAT:1</td>
<td style="text-align: left;">Baseline:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-28">5.4.5.4 Optional Features: <a href="#sec:optional-features-28" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">RemoteHost supports a non-empty string</div>
<h4 id="sec:parameters-28">5.4.5.5 Parameters: <a href="#sec:parameters-28" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters required to be implemented for this test:</div>
<p>For devices that support the Device:2 root data model:</p>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.NAT.PortMapping.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">LeaseDuration</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even even">
<td style="text-align: left;">RemoteHost</td>
<td style="text-align: left;">&lt;IP Address of Telnet Client1&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">ExternalPort</td>
<td style="text-align: left;">1400</td>
</tr>
<tr class="even even">
<td style="text-align: left;">InternalPort</td>
<td style="text-align: left;">1401</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Protocol</td>
<td style="text-align: left;">UDP</td>
</tr>
<tr class="even even">
<td style="text-align: left;">InternalClient</td>
<td style="text-align: left;">&lt;IP Address of the End Device&gt;</td>
</tr>
</tbody>
</table>
<p>For devices that support the InternetGatewayDevice:1 root data model:</p>
<table>
<colgroup>
<col style="width: 45%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.WANDevice.{i}.WANConnectionDevice.{i}.WANIPConnection.{i}.PortMapping.{i}.<br />
OR<br />
InternetGatewayDevice.WANDevice.{i}.WANConnectionDevice.{i}.WANPPPConnection.{i}.PortMapping.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">PortMappingEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">PortMappingLeaseDuration</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">RemoteHost</td>
<td style="text-align: left;">&lt;IP Address of one WANDevice1&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">ExternalPort</td>
<td style="text-align: left;">1400</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">InternalPort</td>
<td style="text-align: left;">1401</td>
</tr>
<tr class="even even">
<td style="text-align: left;">PortMappingProtocol</td>
<td style="text-align: left;">UDP</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">InternalClient</td>
<td style="text-align: left;">&lt;IP Address of the End Device&gt;</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-29">5.4.5.6 Test Setup: <a href="#sec:test-setup-29" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have a LAN device connected to the LAN side of the CPE</li>
<li>Have devices connected on the WAN side of the CPE: WANDevice1, and WANDevice2 that can both send UDP traffic.</li>
<li>ACS ensures that the port mapping being created doesn’t already exist by retrieving all instances of the PortMapping table via a GetParamterValues RPC
<ol>
<li>If PortMapping already exists, remove it via the DeleteObject RPC.</li>
<li>Refer to <a href="#sec:determine-wan-interface" class="heading">Determine WAN Interface</a> to determine the WAN interface.</li>
<li>Have a Network Analyzer to capture traffic between the CPE and the LAN device.</li>
</ol></li>
</ol>
<h4 id="sec:procedure-28">5.4.5.7 Procedure: <a href="#sec:procedure-28" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS performs an AddObject RPC to create a new PortMapping instance.</li>
<li>ACS performs a SetParameterValues RPC on the parameters above using the returned PortMapping instance number.</li>
<li>ACS performs a GetParameterValues RPC on the PortMapping instance.</li>
<li>Send UDP traffic to the CPE’s IP Address with destination port 1400 from WANDevice1.</li>
<li>Send UDP traffic to the CPE’s IP Address with destination port 1400 from WANDevice2</li>
</ol>
<h4 id="sec:test-metrics-28">5.4.5.8 Test Metrics: <a href="#sec:test-metrics-28" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Validate that the values of the PortMapping instance match the values that were set.</li>
<li>Validate that the UDP traffic to port 1400 from WANDevice1 is forwarded to the LAN Device’s IP address, port 1401.</li>
<li>Validate that the UDP traffic to port 1400 from WANDevice2 is NOT forwarded to the LAN Device.</li>
</ol>
<h3 id="sec:create-a-port-mapping-multiple-entries-precedence-rules">5.4.6 Create a Port Mapping – Multiple Entries – Precedence Rules <a href="#sec:create-a-port-mapping-multiple-entries-precedence-rules" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-30">5.4.6.1 Purpose: <a href="#sec:purpose-30" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can create a port mapping, the CPE can create the port mapping that the ACS requested, and that internet traffic can traverse the port mapping.</div>
<h4 id="sec:references-30">5.4.6.2 References: <a href="#sec:references-30" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice:1 <span class="cite" data-citation-ids="TR-098"><a href="#ref-TR-098">[9]</a></span></div>
<div class="line-block">and Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-29">5.4.6.3 Profiles: <a href="#sec:profiles-29" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">NAT:1</td>
<td style="text-align: left;">Baseline:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-29">5.4.6.4 Optional Features: <a href="#sec:optional-features-29" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-29">5.4.6.5 Parameters: <a href="#sec:parameters-29" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters required to be implemented for this test:</div>
<p>For devices that support the Device:2 root data model:</p>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.NAT.PortMapping.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">LeaseDuration</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even even">
<td style="text-align: left;">ExternalPort</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">InternalPort</td>
<td style="text-align: left;">1401</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Protocol</td>
<td style="text-align: left;">UDP</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">InternalClient</td>
<td style="text-align: left;">&lt;IP Address of the End Device&gt;</td>
</tr>
</tbody>
</table>
<p>For devices that support the InternetGatewayDevice:1 root data model:</p>
<table>
<colgroup>
<col style="width: 45%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.WANDevice.{i}.WANConnectionDevice.{i}.WANIPConnection.{i}.PortMapping.{i}.<br />
OR<br />
InternetGatewayDevice.WANDevice.{i}.WANConnectionDevice.{i}.WANPPPConnection.{i}.PortMapping.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">PortMappingEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">PortMappingLeaseDuration</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">ExternalPort</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even even">
<td style="text-align: left;">InternalPort</td>
<td style="text-align: left;">1401</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">PortMappingProtocol</td>
<td style="text-align: left;">UDP</td>
</tr>
<tr class="even even">
<td style="text-align: left;">InternalClient</td>
<td style="text-align: left;">&lt;IP Address of the End Device&gt;</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-30">5.4.6.6 Test Setup: <a href="#sec:test-setup-30" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have a LAN device connected to the LAN side of the CPE</li>
<li>Have two devices connected on the WAN side of the CPE: WANDevice1, and WANDevice2 that can both send UDP traffic.</li>
<li>ACS ensures that the port mapping being created doesn’t already exist by retrieving all instances of the PortMapping table via a GetParamterValues RPC
<ol>
<li>If PortMapping already exists, remove it via the DeleteObject RPC.</li>
<li>Refer to <a href="#sec:determine-wan-interface" class="heading">Determine WAN Interface</a> to determine the WAN interface.</li>
<li>Have a Network Analyzer to capture traffic between the CPE and the LAN device.</li>
</ol></li>
</ol>
<h4 id="sec:procedure-29">5.4.6.7 Procedure: <a href="#sec:procedure-29" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS performs an AddObject RPC to create a new PortMapping instance.</li>
<li>ACS performs a SetParameterValues RPC on the parameters above using the returned PortMapping instance number. ExternalPort is 0, InternalPort is 1401.</li>
<li>ACS performs an AddObject RPC to create a new PortMapping instance.</li>
<li>ACS performs a SetParameterValues RPC on the parameters above using the returned PortMapping instance number. ExternalPort is 1400, InternalPort is 1402.</li>
<li>ACS performs a GetParameterValues RPC on the PortMapping instance.</li>
<li>Send UDP traffic to the CPE’s IP Address with destination port 1399 from WANDevice1.</li>
<li>Send UDP traffic to the CPE’s IP Address with destination port 1400 from WANDevice2.</li>
</ol>
<h4 id="sec:test-metrics-29">5.4.6.8 Test Metrics: <a href="#sec:test-metrics-29" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Validate that the values of the PortMapping instance match the values that were set.</li>
<li>Validate that the UDP traffic to port 1399 from WANDevice1 is forwarded to the LAN Device’s IP address, port 1401.</li>
<li>Validate that the UDP traffic to port 1400 from WANDevice2 is forwarded to the LAN Device’s IP address, port 1402.</li>
</ol>
<h3 id="sec:modify-a-port-mapping">5.4.7 Modify a Port Mapping <a href="#sec:modify-a-port-mapping" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-31">5.4.7.1 Purpose: <a href="#sec:purpose-31" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can change a port mapping, the CPE can change the port mapping in the way that the ACS requested, and that internet traffic can traverse the altered port mapping.</div>
<h4 id="sec:references-31">5.4.7.2 References: <a href="#sec:references-31" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice:1 <span class="cite" data-citation-ids="TR-098"><a href="#ref-TR-098">[9]</a></span></div>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-30">5.4.7.3 Profiles: <a href="#sec:profiles-30" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">NAT:1</td>
<td style="text-align: left;">Baseline:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-30">5.4.7.4 Optional Features: <a href="#sec:optional-features-30" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-30">5.4.7.5 Parameters: <a href="#sec:parameters-30" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters required to be implemented for this test:</div>
<p>For devices that support the Device:2 root data model:</p>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.NAT.PortMapping.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">LeaseDuration</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even even">
<td style="text-align: left;">ExternalPort</td>
<td style="text-align: left;">1400</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">InternalPort</td>
<td style="text-align: left;">1401</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Protocol</td>
<td style="text-align: left;">UDP</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">InternalClient</td>
<td style="text-align: left;">&lt;IP Address of the End Device&gt;</td>
</tr>
</tbody>
</table>
<p>For devices that support the InternetGatewayDevice:1 root data model:</p>
<table>
<colgroup>
<col style="width: 45%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.WANDevice.{i}.WANConnectionDevice.{i}.WANIPConnection.{i}.PortMapping.{i}.<br />
OR<br />
InternetGatewayDevice.WANDevice.{i}.WANConnectionDevice.{i}.WANPPPConnection.{i}.PortMapping.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">PortMappingEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">PortMappingLeaseDuration</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">ExternalPort</td>
<td style="text-align: left;">1400</td>
</tr>
<tr class="even even">
<td style="text-align: left;">InternalPort</td>
<td style="text-align: left;">1401</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">PortMappingProtocol</td>
<td style="text-align: left;">UDP</td>
</tr>
<tr class="even even">
<td style="text-align: left;">InternalClient</td>
<td style="text-align: left;">&lt;IP Address of the End Device&gt;</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-31">5.4.7.6 Test Setup: <a href="#sec:test-setup-31" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have a LAN device connected to the LAN side of the CPE</li>
<li>Have a device connected on the WAN side of the CPE that can send UDP traffic.</li>
<li>ACS ensures that the port mapping being created doesn’t already exist by retrieving all instances of the PortMapping table via a GetParamterValues RPC
<ol>
<li>If PortMapping already exists, remove it via the DeleteObject RPC.</li>
<li>Refer to <a href="#sec:determine-wan-interface" class="heading">Determine WAN Interface</a> to determine the WAN interface.</li>
<li>Have a Network Analyzer to capture traffic between the CPE and the LAN device.</li>
</ol></li>
</ol>
<h4 id="sec:procedure-30">5.4.7.7 Procedure: <a href="#sec:procedure-30" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS performs an AddObject RPC to create a new PortMapping instance.</li>
<li>ACS performs a SetParameterValues RPC on the parameters above using the returned PortMapping instance number. ExternalPort is 1400, InternalPort is 1401.</li>
<li>Send UDP traffic to the CPE’s IP Address with destination port 1400 from the WAN side of the CPE.</li>
<li>ACS performs a SetParameterValues RPC on the parameters above using the returned PortMapping instance number. ExternalPort is 1401, InternalPort is 1402.</li>
<li>ACS performs a GetParameterValues RPC on the PortMapping instance.</li>
<li>Send UDP traffic to the CPE’s IP Address with destination port 1401 from the WAN side of the CPE.</li>
</ol>
<h4 id="sec:test-metrics-30">5.4.7.8 Test Metrics: <a href="#sec:test-metrics-30" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Validate that the UDP traffic to port 1400 is forwarded to the LAN Device’s IP address, port 1401.</li>
<li>Validate that the values of the PortMapping instance match the values that were set.</li>
<li>Validate that the UDP traffic to port 1401 is forwarded to the LAN Device’s IP address, port 1402.</li>
</ol>
<h3 id="sec:delete-a-port-mapping">5.4.8 Delete a Port Mapping <a href="#sec:delete-a-port-mapping" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-32">5.4.8.1 Purpose: <a href="#sec:purpose-32" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can remove a port mapping, the CPE can remove the port mapping that the ACS requested, and that internet traffic will not traverse the across the removed port mapping.</div>
<h4 id="sec:references-32">5.4.8.2 References: <a href="#sec:references-32" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice:1 <span class="cite" data-citation-ids="TR-098"><a href="#ref-TR-098">[9]</a></span></div>
<div class="line-block"> and Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-31">5.4.8.3 Profiles: <a href="#sec:profiles-31" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">NAT:1</td>
<td style="text-align: left;">Baseline:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-31">5.4.8.4 Optional Features: <a href="#sec:optional-features-31" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-31">5.4.8.5 Parameters: <a href="#sec:parameters-31" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<p>The following parameters are required to be implemented by the CPE for this test:</p>
<p>For devices that support the Device:2 root data model:</p>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.NAT.PortMapping.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">LeaseDuration</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even even">
<td style="text-align: left;">ExternalPort</td>
<td style="text-align: left;">1400</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">InternalPort</td>
<td style="text-align: left;">1401</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Protocol</td>
<td style="text-align: left;">UDP</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">InternalClient</td>
<td style="text-align: left;">&lt;IP Address of the End Device (laptop)&gt;</td>
</tr>
</tbody>
</table>
<p>For devices that support the InternetGatewayDevice:1 root data model:</p>
<table>
<colgroup>
<col style="width: 39%" />
<col style="width: 61%" />
</colgroup>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.WANDevice.{i}.WANConnectionDevice.{i}.WANIPConnection.{i}.PortMapping.{i}.<br />
OR<br />
InternetGatewayDevice.WANDevice.{i}.WANConnectionDevice.{i}.WANPPPConnection.{i}.PortMapping.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">PortMappingEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">PortMappingLeaseDuration</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">ExternalPort</td>
<td style="text-align: left;">1400</td>
</tr>
<tr class="even even">
<td style="text-align: left;">InternalPort</td>
<td style="text-align: left;">1401</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">PortMappingProtocol</td>
<td style="text-align: left;">UDP</td>
</tr>
<tr class="even even">
<td style="text-align: left;">InternalClient</td>
<td style="text-align: left;">&lt;IP Address of the End Device (laptop)&gt;</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-32">5.4.8.6 Test Setup: <a href="#sec:test-setup-32" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have a LAN device connected to the LAN side of the CPE</li>
<li>Have a device connected on the WAN side of the CPE that can send UDP traffic.</li>
<li>ACS ensures that the port mapping being altered already exists by retrieving all instances of the PortMapping table via a GetParamterValues RPC
<ol>
<li>If PortMapping does NOT already exist, add it via the DeleteObject/SetParameterValues RPC: see “Create a PortMapping (single interface)” test for procedures</li>
<li>Have a Network Analyzer to capture traffic between the CPE and the LAN device.</li>
</ol></li>
</ol>
<h4 id="sec:procedure-31">5.4.8.7 Procedure: <a href="#sec:procedure-31" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Send UDP traffic to the CPE’s IP Address with destination port 1400 from the WAN side of the CPE.</li>
<li>ACS performs a DeleteObject RPC on the PortMapping Instance.</li>
<li>ACS validates that the PortMapping entry no longer exists by retrieving all instances of the PortMapping table via a GetParamterValues RPC</li>
<li>Send UDP traffic to the CPE’s IP Address with destination port 1400 from the WAN side of the CPE.</li>
</ol>
<h4 id="sec:test-metrics-31">5.4.8.8 Test Metrics: <a href="#sec:test-metrics-31" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Validate that the UDP traffic to port 1400 is forwarded to the LAN Device’s IP address, port 1401.</li>
<li>Validate that the PortMapping Instance no longer exists in the table.</li>
<li>Validate that the UDP traffic to port 1400 is NOT forwarded to the LAN Device after the PortMapping has been deleted.</li>
</ol>
<h3 class="new-page" id="sec:create-a-port-mapping-tcp">5.4.9 Create a Port Mapping – TCP <a href="#sec:create-a-port-mapping-tcp" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-33">5.4.9.1 Purpose: <a href="#sec:purpose-33" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can create a port mapping, the CPE can create the port mapping that the ACS requested, and that internet traffic can traverse the port mapping.</div>
<h4 id="sec:references-33">5.4.9.2 References: <a href="#sec:references-33" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice:1 <span class="cite" data-citation-ids="TR-098"><a href="#ref-TR-098">[9]</a></span></div>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-32">5.4.9.3 Profiles: <a href="#sec:profiles-32" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">NAT:1</td>
<td style="text-align: left;">Baseline:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-32">5.4.9.4 Optional Features: <a href="#sec:optional-features-32" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-32">5.4.9.5 Parameters: <a href="#sec:parameters-32" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<p>The following parameters are required to be implemented by the CPE for this test:</p>
<p>For devices that support the Device:2 root data model:</p>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.NAT.PortMapping.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">LeaseDuration</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even even">
<td style="text-align: left;">ExternalPort</td>
<td style="text-align: left;">1400</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">InternalPort</td>
<td style="text-align: left;">1401</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Protocol</td>
<td style="text-align: left;">TCP</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">InternalClient</td>
<td style="text-align: left;">&lt;IP Address of the End Device (laptop)&gt;</td>
</tr>
</tbody>
</table>
<p>For devices that support the InternetGatewayDevice:1 root data model:</p>
<table>
<colgroup>
<col style="width: 39%" />
<col style="width: 61%" />
</colgroup>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.WANDevice.{i}.WANConnectionDevice.{i}.WANIPConnection.{i}.PortMapping.{i}.<br />
OR<br />
InternetGatewayDevice.WANDevice.{i}.WANConnectionDevice.{i}.WANPPPConnection.{i}.PortMapping.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">PortMappingEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">PortMappingLeaseDuration</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">ExternalPort</td>
<td style="text-align: left;">1400</td>
</tr>
<tr class="even even">
<td style="text-align: left;">InternalPort</td>
<td style="text-align: left;">1401</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">PortMappingProtocol</td>
<td style="text-align: left;">TCP</td>
</tr>
<tr class="even even">
<td style="text-align: left;">InternalClient</td>
<td style="text-align: left;">&lt;IP Address of the End Device (laptop)&gt;</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-33">5.4.9.6 Test Setup: <a href="#sec:test-setup-33" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have a LAN device connected to the LAN side of the CPE</li>
<li>Have a device connected on the WAN side of the CPE that can send TCP traffic.</li>
<li>ACS ensures that the port mapping being created doesn’t already exist by retrieving all instances of the PortMapping table via a GetParamterValues RPC
<ol>
<li>If PortMapping already exists, remove it via the DeleteObject RPC</li>
<li>Refer to <a href="#sec:determine-wan-interface" class="heading">Determine WAN Interface</a> to determine the WAN interface.</li>
<li>Have a Network Analyzer to capture traffic between the CPE and the LAN device.</li>
</ol></li>
</ol>
<h4 id="sec:procedure-32">5.4.9.7 Procedure: <a href="#sec:procedure-32" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS performs an AddObject RPC to create a new PortMapping instance.</li>
<li>ACS performs a SetParameterValues RPC on the parameters above using the returned PortMapping instance number.</li>
<li>ACS performs a GetParameterValues RPC on the PortMapping instance.</li>
<li>Reboot the CPE.</li>
<li>ACS performs a GetParameterValues RPC on the PortMapping instance.</li>
<li>Send TCP traffic to the CPE’s IP Address with destination port 1400 from the WAN side of the CPE.</li>
</ol>
<h4 id="sec:test-metrics-32">5.4.9.8 Test Metrics: <a href="#sec:test-metrics-32" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Validate that the values of the PortMapping instance match the values that were set.</li>
<li>Validate that the CPE retains the PortMapping instance and configuration across a reboot.</li>
<li>Validate that the TCP traffic is forwarded to the LAN Device’s IP address, port 1401.</li>
</ol>
<h2 id="sec:advanced-firewall">5.5 Advanced Firewall <a href="#sec:advanced-firewall" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h3 id="sec:default-policy-device2-only">5.5.1 Default Policy (Device:2 Only) <a href="#sec:default-policy-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-34">5.5.1.1 Purpose: <a href="#sec:purpose-34" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify the ACS can configure a firewall with a default policy on the CPE.</div>
<h4 id="sec:references-34">5.5.1.2 References: <a href="#sec:references-34" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Device:2.2</div>
<h4 id="sec:profiles-33">5.5.1.3 Profiles: <a href="#sec:profiles-33" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">AdvancedFirewall:1</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-33">5.5.1.4 Optional Features: <a href="#sec:optional-features-33" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-33">5.5.1.5 Parameters: <a href="#sec:parameters-33" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Config</td>
<td style="text-align: left;">Advanced</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">AdvancedLevel</td>
<td style="text-align: left;">Device.Firewall.Level.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Level.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Chain</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DefaultPolicy</td>
<td style="text-align: left;">Accept</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.Rule.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Target</td>
<td style="text-align: left;">Drop</td>
</tr>
<tr class="even even">
<td style="text-align: left;">SourceIP</td>
<td style="text-align: left;">&lt;Unused IP Address&gt;</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-34">5.5.1.6 Test Setup: <a href="#sec:test-setup-34" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have a device that can send and receive TCP and UDP connections connected to the LAN side of the CPE (End Device)</li>
<li>Have a device that can send and receive TCP and UDP connections connected on the WAN side of the CPE (WAN Device)</li>
<li>Have a Network Analyzer to capture traffic between the CPE and the End Device.</li>
</ol>
<h4 id="sec:procedure-33">5.5.1.7 Procedure: <a href="#sec:procedure-33" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li><p>Configure ACS to send an AddObject RPC for Device.Firewall.Level and record the returned instance number.</p></li>
<li><p>Configure ACS to send a GetParameterValues RPC for Device.Firewall.Level.{i}.Chain.</p></li>
<li><p>Configure ACS to send an AddObject RPC for Device.Firewall.Chain.{i}.Rule using the path returned in step 2 and record the returned instance number.</p></li>
<li><p>ACS performs a SetParameterValues RPC on the parameters above except Device.Firewall.Enable using the returned instance numbers from steps 1-3.</p></li>
<li><p>ACS enables the Firewall by sending a SetParameterValues RPC for Device.Firewall.Enable with the value set to “true.”</p></li>
<li><p>End Device attempts to open a TCP connection with WAN Device.</p></li>
<li><p>WAN Device attempts to open a TCP connection with End Device.</p></li>
<li><p>ACS configures the Firewall by sending a SetParameterValues RPC with following Name/Value pairs:</p>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Level.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">DefaultPolicy</td>
<td style="text-align: left;">Drop</td>
</tr>
</tbody>
</table></li>
<li><p>End Device attempts to open a TCP connection WAN Device.</p></li>
<li><p>WAN Device attempts to open a TCP connection with End Device.</p></li>
</ol>
<h4 id="sec:test-metrics-33">5.5.1.8 Test Metrics: <a href="#sec:test-metrics-33" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>In Step 6, CPE forwards traffic to the WAN side.</li>
<li>In Step 7, CPE forwards traffic to the LAN side.</li>
<li>In Step 9, CPE does not forward traffic to the WAN side.</li>
<li>In Step 10, CPE does not forward traffic to the LAN side.</li>
</ol>
<h3 id="sec:denyallow-outbound-protocols-device2-only">5.5.2 Deny/Allow Outbound Protocols (Device:2 Only) <a href="#sec:denyallow-outbound-protocols-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-35">5.5.2.1 Purpose: <a href="#sec:purpose-35" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify the ACS can configure a firewall on the CPE that denies or allows specific outbound protocols.</div>
<h4 id="sec:references-35">5.5.2.2 References: <a href="#sec:references-35" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Device:2.2</div>
<h4 id="sec:profiles-34">5.5.2.3 Profiles: <a href="#sec:profiles-34" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">AdvancedFirewall:1</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-34">5.5.2.4 Optional Features: <a href="#sec:optional-features-34" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-34">5.5.2.5 Parameters: <a href="#sec:parameters-34" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Config</td>
<td style="text-align: left;">Advanced</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">AdvancedLevel</td>
<td style="text-align: left;">Device.Firewall.Level.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Level.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Chain</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DefaultPolicy</td>
<td style="text-align: left;">Drop</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.Rule.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Target</td>
<td style="text-align: left;">Accept</td>
</tr>
<tr class="even even">
<td style="text-align: left;">SourceIP</td>
<td style="text-align: left;">&lt;Unused IP Address&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">DestInterface</td>
<td style="text-align: left;">Default WAN Interface</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Protocol</td>
<td style="text-align: left;">6 (TCP), 17 (UDP)</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-35">5.5.2.6 Test Setup: <a href="#sec:test-setup-35" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Refer to <a href="#sec:determine-wan-interface" class="heading">Determine WAN Interface</a> to determine the WAN interface.</li>
<li>Device that can send and receive TCP and UDP connections connected to the LAN side of the CPE (End Device)</li>
<li>Device that can send and receive TCP and UDP connections connected on the WAN side of the CPE (WAN Device)</li>
<li>Have a Network Analyzer to capture traffic between the CPE and the End Device.</li>
</ol>
<h4 id="sec:procedure-34">5.5.2.7 Procedure: <a href="#sec:procedure-34" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li><p>Configure ACS to send an AddObject RPC for Device.Firewall.Level and record the returned instance number.</p></li>
<li><p>Configure ACS to send a GetParameterValues RPC for Device.Firewall.Level.{i}.Chain.</p></li>
<li><p>Configure ACS to send an AddObject RPC for Device.Firewall.Chain.{i}.Rule using the path returned in step 2 and record the returned instance number.</p></li>
<li><p>ACS performs a SetParameterValues RPC on the following parameters using the instance numbers returned in steps 1-3.</p>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Config</td>
<td style="text-align: left;">Advanced</td>
</tr>
<tr class="even even">
<td style="text-align: left;">AdvancedLevel</td>
<td style="text-align: left;">Device.Firewall.Level.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Level.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Chain</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DefaultPolicy</td>
<td style="text-align: left;">Drop</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.Rule.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Target</td>
<td style="text-align: left;">Accept</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DestIP</td>
<td style="text-align: left;">&lt;Unused IP Address&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">SourceIP</td>
<td style="text-align: left;">&lt;Unused IP Address&gt;</td>
</tr>
</tbody>
</table></li>
<li><p>ACS enables the Firewall by sending a SetParameterValues RPC for Device.Firewall.Enable with the value set to “true.”</p></li>
<li><p>End Device attempts to open a TCP connection with WAN Device.</p></li>
<li><p>End Device attempts to open a UDP connection with WAN Device.</p></li>
<li><p>Configure ACS to send an AddObject RPC for Device.Firewall.Chain.{i}.Rule. and record the returned instance number.</p></li>
<li><p>ACS Configures the new Firewall Rule by sending a SetParameterValues RPC with the following name/value pairs using the instance number returned in step 8.</p>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.Rule.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Target</td>
<td style="text-align: left;">Accept</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DestInterface</td>
<td style="text-align: left;">Default WAN Interface</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Protocol</td>
<td style="text-align: left;">6 (TCP)</td>
</tr>
</tbody>
</table></li>
<li><p>End Device attempts to open a TCP connection with WAN Device.</p></li>
<li><p>End Device attempts to open a UDP connection with WAN Device.</p></li>
<li><p>Configure ACS to send an AddObject RPC for Device.Firewall.Chain.{i}.Rule. and record the returned instance number.</p></li>
<li><p>ACS Configures the new Firewall Rule by sending a SetParameterValues RPC with the following name/value pairs using the instance number returned in step 12.</p>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.Rule.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Target</td>
<td style="text-align: left;">Accept</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DestInterface</td>
<td style="text-align: left;">Default WAN Interface</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Protocol</td>
<td style="text-align: left;">17 (UDP)</td>
</tr>
</tbody>
</table></li>
<li><p>End Device attempts to open a TCP connection with WAN Device.</p></li>
<li><p>End Device attempts to open a UDP connection with WAN Device.</p></li>
</ol>
<h4 id="sec:test-metrics-34">5.5.2.8 Test Metrics: <a href="#sec:test-metrics-34" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>In Step 6, CPE does not forward TCP traffic to the WAN side.</li>
<li>In Step 7, CPE does not forward UDP traffic to the WAN side.</li>
<li>In Step 10, CPE forwards TCP traffic to the WAN side.</li>
<li>In Step 11, CPE does not forward UDP traffic to the WAN side.</li>
<li>In Step 14, CPE forwards TCP traffic to the WAN side.</li>
<li>In Step 15, CPE forwards UDP traffic to the WAN side.</li>
</ol>
<h3 id="sec:denyallow-outbound-ports-device2-only">5.5.3 Deny/Allow Outbound Ports (Device:2 Only) <a href="#sec:denyallow-outbound-ports-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-36">5.5.3.1 Purpose: <a href="#sec:purpose-36" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify the ACS can configure a firewall on the CPE that denies or allows specific outbound ports.</div>
<h4 id="sec:references-36">5.5.3.2 References: <a href="#sec:references-36" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Device:2.2</div>
<h4 id="sec:profiles-35">5.5.3.3 Profiles: <a href="#sec:profiles-35" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">AdvancedFirewall:1</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-35">5.5.3.4 Optional Features: <a href="#sec:optional-features-35" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-35">5.5.3.5 Parameters: <a href="#sec:parameters-35" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Config</td>
<td style="text-align: left;">Advanced</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">AdvancedLevel</td>
<td style="text-align: left;">Device.Firewall.Level.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Level.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Chain</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DefaultPolicy</td>
<td style="text-align: left;">Drop</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.Rule.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Target</td>
<td style="text-align: left;">Accept</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DestInterface</td>
<td style="text-align: left;">Default WAN Interface</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">DestIP</td>
<td style="text-align: left;">&lt;Unused IP Address&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">SourceIP</td>
<td style="text-align: left;">&lt;Unused IP Address&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Protocol</td>
<td style="text-align: left;">6 (TCP), 17 (UDP)</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DestPort</td>
<td style="text-align: left;">int[-1:65535]</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-36">5.5.3.6 Test Setup: <a href="#sec:test-setup-36" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Refer to <a href="#sec:determine-wan-interface" class="heading">Determine WAN Interface</a> to determine the WAN interface.</li>
<li>Device that can send and receive TCP and UDP connections connected to the LAN side of the CPE (End Device)</li>
<li>Device that can send and receive TCP and UDP connections connected on the WAN side of the CPE (WAN Device)</li>
<li>Have a Network Analyzer to capture traffic between the CPE and the End Device.</li>
</ol>
<h4 id="sec:procedure-35">5.5.3.7 Procedure: <a href="#sec:procedure-35" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li><p>Configure ACS to send an AddObject RPC for Device.Firewall.Level and record the returned instance number.</p></li>
<li><p>Configure ACS to send a GetParameterValues RPC for Device.Firewall.Level.{i}.Chain.</p></li>
<li><p>Configure ACS to send an AddObject RPC for Device.Firewall.Chain.{i}.Rule using the path returned in step 2 and record the returned instance number.</p></li>
<li><p>ACS performs a SetParameterValues RPC on the following parameters using the instance numbers returned in steps 1-3.</p>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Config</td>
<td style="text-align: left;">Advanced</td>
</tr>
<tr class="even even">
<td style="text-align: left;">AdvancedLevel</td>
<td style="text-align: left;">Device.Firewall.Level.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Level.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Chain</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DefaultPolicy</td>
<td style="text-align: left;">Drop</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.Rule.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Target</td>
<td style="text-align: left;">Accept</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DestIP</td>
<td style="text-align: left;">&lt;Unused IP Address&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">SourceIP</td>
<td style="text-align: left;">&lt;Unused IP Address&gt;</td>
</tr>
</tbody>
</table></li>
<li><p>ACS enables the Firewall by sending a SetParameterValues RPC for Device.Firewall.Enable with the value set to “true.”</p></li>
<li><p>End Device attempts to open a TCP connection, destination port 80, with WAN Device.</p></li>
<li><p>End Device attempts to open a TCP connection, destination port 443, with WAN Device.</p></li>
<li><p>Configure ACS to send an AddObject RPC for Device.Firewall.Chain.{i}.Rule and record the returned instance number.</p></li>
<li><p>ACS Configures the new Firewall Rule by sending a SetParameterValues RPC with the following name/value pairs using the instance number returned in step 8.</p>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.Rule.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Target</td>
<td style="text-align: left;">Accept</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DestInterface</td>
<td style="text-align: left;">Default WAN Interface</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Protocol</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even even">
<td style="text-align: left;">DestPort</td>
<td style="text-align: left;">80</td>
</tr>
</tbody>
</table></li>
<li><p>End Device attempts to open a TCP connection, destination port 80, with WAN Device.</p></li>
<li><p>End Device attempts to open a TCP connection, destination port 443, with WAN Device.</p></li>
<li><p>Configure ACS to send an AddObject RPC for Device.Firewall.Chain.{i}.Rule and record the returned instance number.</p></li>
<li><p>ACS Configures the new Firewall Rule by sending a SetParameterValues RPC with the following name/value pairs using the instance number returned in step 12.</p>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.Rule.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Target</td>
<td style="text-align: left;">Accept</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DestInterface</td>
<td style="text-align: left;">Default WAN Interface</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Protocol</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even even">
<td style="text-align: left;">DestPort</td>
<td style="text-align: left;">443</td>
</tr>
</tbody>
</table></li>
<li><p>End Device attempts to open a TCP connection, destination port 80, with WAN Device.</p></li>
<li><p>End Device attempts to open a TCP connection, destination port 443, with WAN Device.</p></li>
</ol>
<h4 id="sec:test-metrics-35">5.5.3.8 Test Metrics: <a href="#sec:test-metrics-35" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>In Step 6, CPE does not forward TCP traffic with destination port 80 to the WAN side.</li>
<li>In Step 7, CPE does not forward TCP traffic with destination port 443 to the WAN side.</li>
<li>In Step 10, CPE forwards TCP traffic with destination port 80 to the WAN side.</li>
<li>In Step 11, CPE does not forward TCP traffic with destination port 443to the WAN side.</li>
<li>In Step 14, CPE forwards TCP traffic with destination port 80 to the WAN side.</li>
<li>In Step 15, CPE forwards TCP traffic with destination port 443 to the WAN side.</li>
</ol>
<h3 id="sec:denyallow-source-ip-address-device2-only">5.5.4 Deny/Allow Source IP Address (Device:2 Only) <a href="#sec:denyallow-source-ip-address-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-37">5.5.4.1 Purpose: <a href="#sec:purpose-37" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify the ACS can configure a firewall on the CPE that denies or allows specific outbound ports.</div>
<h4 id="sec:references-37">5.5.4.2 References: <a href="#sec:references-37" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Device:2.2</div>
<h4 id="sec:profiles-36">5.5.4.3 Profiles: <a href="#sec:profiles-36" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">AdvancedFirewall:1</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-36">5.5.4.4 Optional Features: <a href="#sec:optional-features-36" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-36">5.5.4.5 Parameters: <a href="#sec:parameters-36" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Config</td>
<td style="text-align: left;">Advanced</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">AdvancedLevel</td>
<td style="text-align: left;">Device.Firewall.Level.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Level.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Chain</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DefaultPolicy</td>
<td style="text-align: left;">Drop</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.Rule.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Target</td>
<td style="text-align: left;">Accept</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DestInterface</td>
<td style="text-align: left;">Default WAN Interface</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">DestIP</td>
<td style="text-align: left;">&lt;Unused IP Address&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">SourceIP</td>
<td style="text-align: left;">&lt;Unused IP Address&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Protocol</td>
<td style="text-align: left;">6 (TCP), 17 (UDP)</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DestPort</td>
<td style="text-align: left;">int[-1:65535]</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-37">5.5.4.6 Test Setup: <a href="#sec:test-setup-37" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Refer to <a href="#sec:determine-wan-interface" class="heading">Determine WAN Interface</a> to determine the WAN interface.</li>
<li>Two Devices that can send and receive TCP and UDP connections connected to the LAN side of the CPE (End Device 1 and End Device 2)</li>
<li>Device that can send and receive TCP and UDP connections connected on the WAN side of the CPE (WAN Device)</li>
<li>Have a Network Analyzer to capture traffic between the CPE and the End Device.</li>
</ol>
<h4 id="sec:procedure-36">5.5.4.7 Procedure: <a href="#sec:procedure-36" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li><p>Configure ACS to send an AddObject RPC for Device.Firewall.Level and record the returned instance number.</p></li>
<li><p>Configure ACS to send a GetParameterValues RPC for Device.Firewall.Level.{i}.Chain.</p></li>
<li><p>Configure ACS to send an AddObject RPC for Device.Firewall.Chain.{i}.Rule using the path returned in step 2 and record the returned instance number.</p></li>
<li><p>ACS performs a SetParameterValues RPC on the following parameters using the instance numbers returned in steps 1-3.</p>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Config</td>
<td style="text-align: left;">Advanced</td>
</tr>
<tr class="even even">
<td style="text-align: left;">AdvancedLevel</td>
<td style="text-align: left;">Device.Firewall.Level.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Level.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Chain</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DefaultPolicy</td>
<td style="text-align: left;">Drop</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.Rule.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Target</td>
<td style="text-align: left;">Accept</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DestIP</td>
<td style="text-align: left;">&lt;Unused IP Address&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">SourceIP</td>
<td style="text-align: left;">&lt;Unused IP Address&gt;</td>
</tr>
</tbody>
</table></li>
<li><p>ACS enables the Firewall by sending a SetParameterValues RPC for Device.Firewall.Enable with the value set to “true.”</p></li>
<li><p>End Device 1 attempts to open a TCP connection, destination port 80, with WAN Device.</p></li>
<li><p>End Device 2 attempts to open a TCP connection, destination port 80, with WAN Device.</p></li>
<li><p>Configure ACS to send an AddObject RPC for Device.Firewall.Chain.{i}.Rule and record the returned instance number.</p></li>
<li><p>ACS Configures the new Firewall Rule by sending a SetParameterValues RPC with the following name/value pairs using the instance number returned in step 8.</p>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.Rule.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Target</td>
<td style="text-align: left;">Accept</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DestInterface</td>
<td style="text-align: left;">Default WAN Interface</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Protocol</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even even">
<td style="text-align: left;">DestPort</td>
<td style="text-align: left;">80</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">SourceIP</td>
<td style="text-align: left;">End Device1 IP</td>
</tr>
</tbody>
</table></li>
<li><p>End Device 1 attempts to open a TCP connection, destination port 80, with WAN Device.</p></li>
<li><p>End Device 2 attempts to open a TCP connection, destination port 80, with WAN Device.</p></li>
<li><p>Configure ACS to send an AddObject RPC for Device.Firewall.Chain.{i}.Rule and record the returned instance number.</p></li>
<li><p>ACS Configures the new Firewall Rule by sending a SetParameterValues RPC with the following name/value pairs using the instance number returned in step 12.</p>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.Rule.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Target</td>
<td style="text-align: left;">Accept</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DestInterface</td>
<td style="text-align: left;">Default WAN Interface</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Protocol</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even even">
<td style="text-align: left;">DestPort</td>
<td style="text-align: left;">80</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">SourceIP</td>
<td style="text-align: left;">End Device2 IP</td>
</tr>
</tbody>
</table></li>
<li><p>End Device 1 attempts to open a TCP connection, destination port 80, with WAN Device.</p></li>
<li><p>End Device 2 attempts to open a TCP connection, destination port 80 with WAN Device.</p></li>
</ol>
<h4 id="sec:test-metrics-36">5.5.4.8 Test Metrics: <a href="#sec:test-metrics-36" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>In Step 6, CPE does not forward TCP traffic from End Device 1 to the WAN side.</li>
<li>In Step 7, CPE does not forward TCP traffic from End Device 2 to the WAN side.</li>
<li>In Step 10, CPE forwards TCP traffic from End Device 1 to the WAN side.</li>
<li>In Step 11, CPE does not forward TCP traffic from End Device 2 to the WAN side.</li>
<li>In Step 14, CPE forwards TCP traffic from End Device 1 to the WAN side.</li>
<li>In Step 15, CPE forwards TCP traffic from End Device 2 to the WAN side.</li>
</ol>
<h2 id="sec:wi-fi-provisioning">5.6 Wi-Fi Provisioning <a href="#sec:wi-fi-provisioning" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h3 id="sec:wi-fi-setup-wep-64-internetgatewaydevice1-only">5.6.1 Wi-Fi Setup WEP 64 (InternetGatewayDevice:1 Only) <a href="#sec:wi-fi-setup-wep-64-internetgatewaydevice1-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-38">5.6.1.1 Purpose: <a href="#sec:purpose-38" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can set a valid wireless LAN configuration on the CPE using WEP 64 encryption.</div>
<h4 id="sec:references-38">5.6.1.2 References: <a href="#sec:references-38" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice:1.4</div>
<h4 id="sec:profiles-37">5.6.1.3 Profiles: <a href="#sec:profiles-37" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">WiFiLan:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-37">5.6.1.4 Optional Features: <a href="#sec:optional-features-37" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">WEPEncryptionLevel includes “40-bit”</div>
<h4 id="sec:parameters-37">5.6.1.5 Parameters: <a href="#sec:parameters-37" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test. A CPE MUST support WEP-64 encryption in order to run this test.</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.LANDevice.{i}.WLANConfiguration.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">RadioEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">SSID</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Channel</td>
<td style="text-align: left;">&lt;unsignedint&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">BeaconType</td>
<td style="text-align: left;">Basic</td>
</tr>
<tr class="even even">
<td style="text-align: left;">BeaconAdvertisementEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">BasicEncryptionModes</td>
<td style="text-align: left;">WEPEncryption</td>
</tr>
<tr class="even even">
<td style="text-align: left;">WEPEncryptionLevel</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">BasicAuthenticationMode</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.LANDevice.{i}.WLANConfiguration.{i}.WEPKey.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">WEPKey</td>
<td style="text-align: left;">5-character hexadecimal string</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-38">5.6.1.6 Test Setup: <a href="#sec:test-setup-38" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have an End Device with the ability to connect to wireless networks.</li>
</ol>
<h4 id="sec:procedure-37">5.6.1.7 Procedure: <a href="#sec:procedure-37" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Perform a GetParameterValues on the WLANConfiguration partial path listed in the parameters section to learn the existing stack hierarchy.</li>
<li>Configure the wireless LAN settings on the CPE using a single SetParameterValues.</li>
<li>Reboot the CPE.</li>
<li>The End Device connects to the CPE’s newly created wireless LAN access point.</li>
<li>Stimulate network traffic across the wireless LAN connection</li>
</ol>
<h4 id="sec:test-metrics-37">5.6.1.8 Test Metrics: <a href="#sec:test-metrics-37" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that WEPEncryptionLevel includes “40-bit”.</li>
<li>Verify that the SetParameterValuesResponse is valid.</li>
<li>Settings persist across reboot.</li>
<li>The End Device can connect to the wireless LAN connection.</li>
<li>The End Device has appropriate network access through the wireless LAN connection.</li>
</ol>
<h3 id="sec:wi-fi-setup-wep-128-internetgatewaydevice1-only">5.6.2 Wi-Fi Setup WEP 128 (InternetGatewayDevice:1 Only) <a href="#sec:wi-fi-setup-wep-128-internetgatewaydevice1-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-39">5.6.2.1 Purpose: <a href="#sec:purpose-39" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can set a valid wireless LAN configuration on the CPE using WEP 128 encryption.</div>
<h4 id="sec:references-39">5.6.2.2 References: <a href="#sec:references-39" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice:1.4</div>
<h4 id="sec:profiles-38">5.6.2.3 Profiles: <a href="#sec:profiles-38" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">WiFiLan:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-38">5.6.2.4 Optional Features: <a href="#sec:optional-features-38" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">WEPEncryptionLevel includes “104-bit”</div>
<h4 id="sec:parameters-38">5.6.2.5 Parameters: <a href="#sec:parameters-38" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test. A CPE MUST support WEP-128 encryption in order to run this test.</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.LANDevice.{i}.WLANConfiguration.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">RadioEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">SSID</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Channel</td>
<td style="text-align: left;">&lt;unsignedint&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">BeaconType</td>
<td style="text-align: left;">Basic</td>
</tr>
<tr class="even even">
<td style="text-align: left;">BeaconAdvertisementEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">BasicEncryptionModes</td>
<td style="text-align: left;">WEPEncryption</td>
</tr>
<tr class="even even">
<td style="text-align: left;">WEPEncryptionLevel</td>
<td style="text-align: left;">Returned from Device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">BasicAuthenticationMode</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.LANDevice.{i}.WLANConfiguration.{i}.WEPKey.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">WEPKey</td>
<td style="text-align: left;">13-character hexadecimal string</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-39">5.6.2.6 Test Setup: <a href="#sec:test-setup-39" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have an End Device with the ability to connect to wireless networks.</li>
</ol>
<h4 id="sec:procedure-38">5.6.2.7 Procedure: <a href="#sec:procedure-38" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Perform a GetParameterValues on the WLANConfiguration partial path listed in the parameters section to learn the existing stack hierarchy.</li>
<li>Configure the wireless LAN settings on the CPE using a single SetParameterValues.</li>
<li>Reboot the CPE.</li>
<li>The End Device connects to the CPE’s newly created wireless LAN access point.</li>
<li>Stimulate network traffic across the wireless LAN connection</li>
</ol>
<h4 id="sec:test-metrics-38">5.6.2.8 Test Metrics: <a href="#sec:test-metrics-38" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that WEPEncryptionLevel includes “104-bit”.</li>
<li>Verify that the SetParameterValuesResponse is valid.</li>
<li>Settings persist across reboot.</li>
<li>The End Device can connect to the wireless LAN connection.</li>
<li>The End Device has appropriate network access through the wireless LAN connection.</li>
</ol>
<h3 id="sec:wi-fi-setup-wpa-personal-internetgatewaydevice1-only">5.6.3 Wi-Fi Setup WPA Personal (InternetGatewayDevice:1 Only) <a href="#sec:wi-fi-setup-wpa-personal-internetgatewaydevice1-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-40">5.6.3.1 Purpose: <a href="#sec:purpose-40" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can set a valid Wireless LAN configuration on the CPE using WPA Personal encryption.</div>
<h4 id="sec:references-40">5.6.3.2 References: <a href="#sec:references-40" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice:1.4</div>
<h4 id="sec:profiles-39">5.6.3.3 Profiles: <a href="#sec:profiles-39" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">WiFiLan:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-39">5.6.3.4 Optional Features: <a href="#sec:optional-features-39" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">BeaconType supports “WPA”</div>
<h4 id="sec:parameters-39">5.6.3.5 Parameters: <a href="#sec:parameters-39" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test.</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.LANDevice.{i}.WLANConfiguration.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">RadioEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">SSID</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Channel</td>
<td style="text-align: left;">&lt;unsignedint&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">BeaconType</td>
<td style="text-align: left;">WPA</td>
</tr>
<tr class="even even">
<td style="text-align: left;">BeaconAdvertisementEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">WPAEncryptionModes</td>
<td style="text-align: left;">AESEncryption</td>
</tr>
<tr class="even even">
<td style="text-align: left;">WPAAuthenticationMode</td>
<td style="text-align: left;">PSKAuthentication</td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 79%" />
<col style="width: 21%" />
</colgroup>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.LANDevice.{i}.WLANConfiguration.{i}.PreSharedKey.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">PreSharedKey</td>
<td style="text-align: left;">Hexadecimal string</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-40">5.6.3.6 Test Setup: <a href="#sec:test-setup-40" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have an End Device with the ability to connect to wireless networks.</li>
</ol>
<h4 id="sec:procedure-39">5.6.3.7 Procedure: <a href="#sec:procedure-39" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Perform a GetParameterValues on the WLANConfiguration partial path listed in the parameters section to learn the existing stack hierarchy.</li>
<li>Configure the wireless LAN settings on the CPE using a single SetParameterValues.</li>
<li>Reboot the CPE.</li>
<li>The End Device connects to the CPE’s newly created wireless LAN access point.</li>
<li>Stimulate network traffic across the wireless LAN connection</li>
</ol>
<h4 id="sec:test-metrics-39">5.6.3.8 Test Metrics: <a href="#sec:test-metrics-39" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the SetParameterValuesResponse is valid.</li>
<li>Settings persist across reboot.</li>
<li>The End Device can connect to the wifi connection.</li>
<li>The End Device has appropriate network access through the wifi connection.</li>
</ol>
<h3 id="sec:wi-fi-setup-wpa2-personal-internetgatewaydevice1-only">5.6.4 Wi-Fi Setup WPA2 Personal (InternetGatewayDevice:1 Only) <a href="#sec:wi-fi-setup-wpa2-personal-internetgatewaydevice1-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-41">5.6.4.1 Purpose: <a href="#sec:purpose-41" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can set a valid Wireless LAN configuration on the CPE using WPA2-Personal encryption.</div>
<h4 id="sec:references-41">5.6.4.2 References: <a href="#sec:references-41" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice:1.4</div>
<h4 id="sec:profiles-40">5.6.4.3 Profiles: <a href="#sec:profiles-40" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">WiFiLan:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-40">5.6.4.4 Optional Features: <a href="#sec:optional-features-40" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">BeaconType supports “11i”</div>
<h4 id="sec:parameters-40">5.6.4.5 Parameters: <a href="#sec:parameters-40" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test.</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.LANDevice.{i}.WLANConfiguration.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">RadioEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">SSID</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Channel</td>
<td style="text-align: left;">&lt;unsignedint&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">BeaconType</td>
<td style="text-align: left;">11i</td>
</tr>
<tr class="even even">
<td style="text-align: left;">BeaconAdvertisementEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">IEEE11iEncryptionModes</td>
<td style="text-align: left;">AESEncryption</td>
</tr>
<tr class="even even">
<td style="text-align: left;">IEEE11iAuthenticationMode</td>
<td style="text-align: left;">PSKAuthentication</td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 79%" />
<col style="width: 21%" />
</colgroup>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.LANDevice.{i}.WLANConfiguration.{i}.PreSharedKey.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">PreSharedKey</td>
<td style="text-align: left;">Hexadecimal string</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-41">5.6.4.6 Test Setup: <a href="#sec:test-setup-41" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have an End Device with the ability to connect to wireless networks</li>
</ol>
<h4 id="sec:procedure-40">5.6.4.7 Procedure: <a href="#sec:procedure-40" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Perform a GetParameterValues on the WLANConfiguration partial path listed in the parameters section to learn the existing stack hierarchy.</li>
<li>Configure the wireless LAN settings on the CPE using a single SetParameterValues.</li>
<li>Reboot the CPE.</li>
<li>The End Device connects to the CPE’s newly created wireless LAN access point.</li>
<li>Stimulate network traffic across the wireless LAN connection</li>
</ol>
<h4 id="sec:test-metrics-40">5.6.4.8 Test Metrics: <a href="#sec:test-metrics-40" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the SetParameterValuesResponse is valid.</li>
<li>Settings persist across reboot.</li>
<li>The End Device can connect to the wifi connection.</li>
<li>The End Device has appropriate network access through the wifi connection.</li>
</ol>
<h3 id="sec:wi-fi-setup-wpa-wpa2-personal-internetgatewaydevice1-only">5.6.5 Wi-Fi Setup WPA-WPA2 Personal (InternetGatewayDevice:1 Only) <a href="#sec:wi-fi-setup-wpa-wpa2-personal-internetgatewaydevice1-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-42">5.6.5.1 Purpose: <a href="#sec:purpose-42" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can set a valid Wireless LAN configuration on the CPE using WPA-WPA2-Personal encryption.</div>
<h4 id="sec:references-42">5.6.5.2 References: <a href="#sec:references-42" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice:1.4</div>
<h4 id="sec:profiles-41">5.6.5.3 Profiles: <a href="#sec:profiles-41" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">WiFiLan:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-41">5.6.5.4 Optional Features: <a href="#sec:optional-features-41" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">BeaconType includes “WPAand11i”</div>
<h4 id="sec:parameters-41">5.6.5.5 Parameters: <a href="#sec:parameters-41" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test.</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.LANDevice.{i}.WLANConfiguration.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">RadioEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">SSID</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Channel</td>
<td style="text-align: left;">&lt;unsignedint&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">BeaconType</td>
<td style="text-align: left;">WPAand11i</td>
</tr>
<tr class="even even">
<td style="text-align: left;">BeaconAdvertisementEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">IEEEEncryptionModes</td>
<td style="text-align: left;">AESEncryption</td>
</tr>
<tr class="even even">
<td style="text-align: left;">IEEEAuthenticationMode</td>
<td style="text-align: left;">PSKAuthentication</td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 79%" />
<col style="width: 21%" />
</colgroup>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.LANDevice.{i}.WLANConfiguration.{i}.PreSharedKey.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">PreSharedKey</td>
<td style="text-align: left;">Hexadecimal string</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-42">5.6.5.6 Test Setup: <a href="#sec:test-setup-42" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have an End Device with the ability to connect to wireless networks.</li>
</ol>
<h4 id="sec:procedure-41">5.6.5.7 Procedure: <a href="#sec:procedure-41" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Perform a GetParameterValues on the WLANConfiguration partial path listed in the parameters section to learn the existing stack hierarchy.</li>
<li>Configure the wireless LAN settings on the CPE using a single SetParameterValues.</li>
<li>Reboot the CPE.</li>
<li>The End Device connects to the CPE’s newly created wireless LAN access point.</li>
<li>Stimulate network traffic across the wireless LAN connection</li>
</ol>
<h4 id="sec:test-metrics-41">5.6.5.8 Test Metrics: <a href="#sec:test-metrics-41" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the SetParameterValuesResponse is valid.</li>
<li>Settings persist across reboot.</li>
<li>The End Device can connect to the wifi connection.</li>
<li>The End Device has appropriate network access through the wifi connection.</li>
</ol>
<h3 id="sec:wi-fi-setup-wep-64-device2-only">5.6.6 Wi-Fi Setup WEP 64 (Device:2 Only) <a href="#sec:wi-fi-setup-wep-64-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-43">5.6.6.1 Purpose: <a href="#sec:purpose-43" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can set a valid wireless LAN configuration on the CPE using WEP 64 encryption.</div>
<h4 id="sec:references-43">5.6.6.2 References: <a href="#sec:references-43" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-42">5.6.6.3 Profiles: <a href="#sec:profiles-42" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">WiFiRadio:1, WiFiSSID:1, WiFiAccessPoint:1</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-42">5.6.6.4 Optional Features: <a href="#sec:optional-features-42" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">ModesSupported includes “WEP-64”</div>
<h4 id="sec:parameters-42">5.6.6.5 Parameters: <a href="#sec:parameters-42" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test. A CPE MUST support WEP-64 encryption in order to run this test.</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.Radio.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Channel</td>
<td style="text-align: left;">&lt;unsignedInt&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">OperatingFrequencyBand</td>
<td style="text-align: left;">2.4GHz or 5GHz</td>
</tr>
<tr class="even even">
<td style="text-align: left;">OperatingStandards</td>
<td style="text-align: left;">&lt;appropriate setting&gt;</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.SSID.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SSID</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">LowerLayers</td>
<td style="text-align: left;">Device.WiFi.Radio.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.AccessPoint.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SSIDAdvertisementEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">SSIDReference</td>
<td style="text-align: left;">Device.WiFi.SSID.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.AccessPoint.{i}.Security.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">ModeEnabled</td>
<td style="text-align: left;">WEP-64</td>
</tr>
<tr class="even even">
<td style="text-align: left;">ModesSupported</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">WEPKey</td>
<td style="text-align: left;">5-character hexadecimal string</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.Radio.{i}.Stats.</th>
<th style="text-align: left;"></th>
</tr>
</thead>

</table>
<h4 id="sec:test-setup-43">5.6.6.6 Test Setup: <a href="#sec:test-setup-43" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have an End Device with the ability to connect to wireless networks.</li>
</ol>
<h4 id="sec:procedure-42">5.6.6.7 Procedure: <a href="#sec:procedure-42" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Perform a GetParameterValues on the root partial path listed in the parameters section to learn the existing stack hierarchy.</li>
<li>If no SSID objects exist, perform an AddObject RPC on the Device.Wifi.SSID. partial path.
<ol>
<li>Record the instance number received in the AddObjectResponse.</li>
<li>If no AccessPoint objects exist, perform an AddObject RPC on the Device.Wifi.AccessPoint. partial path</li>
<li>Record the instance number received in the AddObjectResponse</li>
<li>Configure the Wifi settings on the CPE using a single SetParameterValues.</li>
<li>Reboot the CPE.</li>
<li>Perform a GetParameterValues on the Stats object listed in the Parameters section and note the values.</li>
<li>The End Device connects to the CPE’s newly created wifi access point.</li>
<li>Stimulate network traffic across the Wifi connection</li>
<li>Perform a GetParameterValues on the Stats object listed in the Parameters section and note the values.</li>
</ol></li>
</ol>
<h4 id="sec:test-metrics-42">5.6.6.8 Test Metrics: <a href="#sec:test-metrics-42" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the SetParameterValuesResponse is valid.</li>
<li>Settings persist across reboot.</li>
<li>The End Device can connect to the wireless LAN connection.</li>
<li>The End Device has appropriate network access through the wireless LAN connection.</li>
<li>The Stats object has updated to reflect the network traffic across the wireless LAN connection.</li>
</ol>
<h3 id="sec:wi-fi-setup-wep-128-device2-only">5.6.7 Wi-Fi Setup WEP 128 (Device:2 Only) <a href="#sec:wi-fi-setup-wep-128-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-44">5.6.7.1 Purpose: <a href="#sec:purpose-44" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can set a valid Wi-Fi configuration on the CPE using WEP 128 encryption.</div>
<h4 id="sec:references-44">5.6.7.2 References: <a href="#sec:references-44" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-43">5.6.7.3 Profiles: <a href="#sec:profiles-43" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">WiFiRadio:1, WiFiSSID:1, WiFiAccessPoint:1</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-43">5.6.7.4 Optional Features: <a href="#sec:optional-features-43" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">ModesSupported includes “WEP-128”</div>
<h4 id="sec:parameters-43">5.6.7.5 Parameters : <a href="#sec:parameters-43" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test. A CPE MUST support WEP-128 encryption in order to run this test.</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.Radio.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Channel</td>
<td style="text-align: left;">&lt;unsignedInt&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">OperatingFrequencyBand</td>
<td style="text-align: left;">2.4GHz or 5GHz</td>
</tr>
<tr class="even even">
<td style="text-align: left;">OperatingStandards</td>
<td style="text-align: left;">Auto</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.SSID.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SSID</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">LowerLayers</td>
<td style="text-align: left;">Device.WiFi.Radio.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.AccessPoint.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SSIDAdvertisementEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">SSIDReference</td>
<td style="text-align: left;">Device.WiFi.SSID.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.AccessPoint.{i}.Security.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">ModeEnabled</td>
<td style="text-align: left;">WEP-128</td>
</tr>
<tr class="even even">
<td style="text-align: left;">ModesSupported</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">WEPKey</td>
<td style="text-align: left;">13-character hexadecimal string</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.Radio.{i}.Stats.</th>
<th style="text-align: left;"></th>
</tr>
</thead>

</table>
<h4 id="sec:test-setup-44">5.6.7.6 Test Setup: <a href="#sec:test-setup-44" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have an End Device with the ability to connect to wireless networks.</li>
</ol>
<h4 id="sec:procedure-43">5.6.7.7 Procedure: <a href="#sec:procedure-43" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Perform a GetParameterValues on the root partial path listed in the parameters section to learn the existing stack hierarchy.</li>
<li>If no SSID objects exist, perform an AddObject RPC on the Device.Wifi.SSID. partial path.
<ol>
<li>Record the instance number received in the AddObjectResponse.</li>
<li>If no AccessPoint objects exist, perform an AddObject RPC on the Device.Wifi.AccessPoint. partial path</li>
<li>Record the instance number received in the AddObjectResponse</li>
<li>Configure the Wifi settings on the CPE using a single SetParameterValues.</li>
<li>Reboot the CPE.</li>
<li>Perform a GetParameterValues on the Stats object listed in the Parameters section and note the values.</li>
<li>The End Device connects to the CPE’s newly created wifi access point.</li>
<li>Stimulate network traffic across the Wifi connection</li>
<li>Perform a GetParameterValues on the Stats object listed in the Parameters section and note the values.</li>
</ol></li>
</ol>
<h4 id="sec:test-metrics-43">5.6.7.8 Test Metrics: <a href="#sec:test-metrics-43" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the SetParameterValuesResponse is valid.</li>
<li>Settings persist across reboot.</li>
<li>The End Device can connect to the wifi connection.</li>
<li>The End Device has appropriate network access through the wifi connection.</li>
<li>The Stats object has updated to reflect the network traffic across the wifi connection.</li>
</ol>
<h3 id="sec:wi-fi-setup-wpa-personal-device2-only">5.6.8 Wi-Fi Setup WPA Personal (Device:2 Only) <a href="#sec:wi-fi-setup-wpa-personal-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-45">5.6.8.1 Purpose: <a href="#sec:purpose-45" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can set a valid Wi-Fi configuration on the CPE using WPA Personal Encryption.</div>
<h4 id="sec:references-45">5.6.8.2 References: <a href="#sec:references-45" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-44">5.6.8.3 Profiles: <a href="#sec:profiles-44" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">WiFiRadio:1, WiFiSSID:1, WiFiAccessPoint:1</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-44">5.6.8.4 Optional Features: <a href="#sec:optional-features-44" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">ModesSupported includes “WPA-Personal”</div>
<h4 id="sec:parameters-44">5.6.8.5 Parameters: <a href="#sec:parameters-44" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test.</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.Radio.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Channel</td>
<td style="text-align: left;">&lt;unsignedInt&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">OperatingFrequencyBand</td>
<td style="text-align: left;">2.4GHz or 5GHz</td>
</tr>
<tr class="even even">
<td style="text-align: left;">OperatingStandards</td>
<td style="text-align: left;">Auto</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.SSID.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SSID</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">LowerLayers</td>
<td style="text-align: left;">Device.WiFi.Radio.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.AccessPoint.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SSIDAdvertisementEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">SSIDReference</td>
<td style="text-align: left;">Device.WiFi.SSID.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.AccessPoint.{i}.Security.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">ModeEnabled</td>
<td style="text-align: left;">WPA-Personal</td>
</tr>
<tr class="even even">
<td style="text-align: left;">ModesSupported</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">PreSharedKey</td>
<td style="text-align: left;">hexadecimal string</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.Radio.{i}.Stats.</th>
<th style="text-align: left;"></th>
</tr>
</thead>

</table>
<h4 id="sec:test-setup-45">5.6.8.6 Test Setup: <a href="#sec:test-setup-45" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have an End Device with the ability to connect to wireless networks.</li>
</ol>
<h4 id="sec:procedure-44">5.6.8.7 Procedure: <a href="#sec:procedure-44" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<p>Perform a GetParameterValues on the root partial path listed in the parameters section to learn the existing stack hierarchy. If no SSID objects exist, perform an AddObject RPC on the Device.Wifi.SSID. partial path. #. Record the instance number received in the AddObjectResponse. #. If no AccessPoint objects exist, perform an AddObject RPC on the Device.Wifi.AccessPoint. partial path #. Record the instance number received in the AddObjectResponse #. Configure the Wifi settings on the CPE using a single SetParameterValues. #. Reboot the CPE. #. Perform a GetParameterValues on the Stats object listed in the Parameters section and note the values. #. The End Device connects to the CPE’s newly created wifi access point. #. Stimulate network traffic across the Wifi connection #. Perform a GetParameterValues on the Stats object listed in the Parameters section and note the values.</p>
<h4 id="sec:test-metrics-44">5.6.8.8 Test Metrics: <a href="#sec:test-metrics-44" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the SetParameterValuesResponse to be valid.</li>
<li>Settings persist across reboot.</li>
<li>The End Device can connect to the wifi connection.</li>
<li>The End Device has appropriate network access through the wifi connection.</li>
<li>The Stats object has updated to reflect the network traffic across the wifi connection.</li>
</ol>
<h3 id="sec:wi-fi-setup-wpa-enterprise-device2-only">5.6.9 Wi-Fi Setup WPA Enterprise (Device:2 Only) <a href="#sec:wi-fi-setup-wpa-enterprise-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-46">5.6.9.1 Purpose: <a href="#sec:purpose-46" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can set a valid Wi-Fi configuration on the CPE using WPA Enterprise Encryption.</div>
<h4 id="sec:references-46">5.6.9.2 References: <a href="#sec:references-46" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-45">5.6.9.3 Profiles: <a href="#sec:profiles-45" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">WiFiRadio:1, WiFiSSID:1, WiFiAccessPoint:1</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-45">5.6.9.4 Optional Features: <a href="#sec:optional-features-45" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">ModesSupported includes “WPA-Enterprise”</div>
<h4 id="sec:parameters-45">5.6.9.5 Parameters: <a href="#sec:parameters-45" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test.</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.Radio.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Channel</td>
<td style="text-align: left;">&lt;unsignedInt&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">OperatingFrequencyBand</td>
<td style="text-align: left;">2.4GHz or 5GHz</td>
</tr>
<tr class="even even">
<td style="text-align: left;">OperatingStandards</td>
<td style="text-align: left;">Auto</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.SSID.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SSID</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">LowerLayers</td>
<td style="text-align: left;">Device.WiFi.Radio.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.AccessPoint.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SSIDAdvertisementEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">SSIDReference</td>
<td style="text-align: left;">Device.WiFi.SSID.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.AccessPoint.{i}.Security.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">ModeEnabled</td>
<td style="text-align: left;">WPA-Enterprise</td>
</tr>
<tr class="even even">
<td style="text-align: left;">RadiusServerIPAddr</td>
<td style="text-align: left;">&lt;IP address of RADIUS server&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">RadiusServerPort</td>
<td style="text-align: left;">&lt;Port of RADIUS Server&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">RadiusSecret</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.Radio.{i}.Stats.</th>
<th style="text-align: left;"></th>
</tr>
</thead>

</table>
<h4 id="sec:test-setup-46">5.6.9.6 Test Setup: <a href="#sec:test-setup-46" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have a RADIUS Server set up configured with a secret and a user account with a known username and password.</li>
<li>Have an End Device with the ability to connect to wireless networks.</li>
</ol>
<h4 id="sec:procedure-45">5.6.9.7 Procedure: <a href="#sec:procedure-45" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Perform a GetParameterValues on the root partial path listed in the parameters section to learn the existing stack hierarchy.</li>
<li>If no SSID objects exist, perform an AddObject RPC on the Device.Wifi.SSID. partial path.
<ol>
<li>Record the instance number received in the AddObjectResponse.</li>
<li>If no AccessPoint objects exist, perform an AddObject RPC on the Device.Wifi.AccessPoint. partial path</li>
<li>Record the instance number received in the AddObjectResponse</li>
<li>Configure the Wifi settings on the CPE using a single SetParameterValues.</li>
<li>Reboot the CPE.</li>
<li>Perform a GetParameterValues on the Stats object listed in the Parameters section and note the values.</li>
<li>The End Device connects to the CPE’s newly created wifi access point, authenticated from the RADIUS Server.</li>
<li>Stimulate network traffic across the Wifi connection</li>
<li>Perform a GetParameterValues on the Stats object listed in the Parameters section and note the values.</li>
</ol></li>
</ol>
<h4 id="sec:test-metrics-45">5.6.9.8 Test Metrics: <a href="#sec:test-metrics-45" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the SetParameterValuesResponse is valid.</li>
<li>Settings persist across reboot.</li>
<li>Verify CPE sends a Radius request on End Device connection to the Radius server and receives a valid response.</li>
<li>The End Device can connect to the wifi connection.</li>
<li>The End Device has appropriate network access through the wifi connection.</li>
<li>The Stats object has updated to reflect the network traffic across the wifi connection.</li>
</ol>
<h3 id="sec:wi-fi-setup-wpa2-personal-device2-only">5.6.10 Wi-Fi Setup WPA2 Personal (Device:2 only) <a href="#sec:wi-fi-setup-wpa2-personal-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-47">5.6.10.1 Purpose: <a href="#sec:purpose-47" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can set a valid Wi-Fi configuration on the CPE using WPA2-Personal encryption.</div>
<h4 id="sec:references-47">5.6.10.2 References: <a href="#sec:references-47" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-46">5.6.10.3 Profiles: <a href="#sec:profiles-46" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">WiFiRadio:1, WiFiSSID:1, WiFiAccessPoint:1</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-46">5.6.10.4 Optional Features: <a href="#sec:optional-features-46" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">ModesSupported includes “WPA2-Personal”</div>
<h4 id="sec:parameters-46">5.6.10.5 Parameters: <a href="#sec:parameters-46" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test.</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.Radio.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Channel</td>
<td style="text-align: left;">&lt;unsignedInt&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">OperatingFrequencyBand</td>
<td style="text-align: left;">2.4GHz or 5GHz</td>
</tr>
<tr class="even even">
<td style="text-align: left;">OperatingStandards</td>
<td style="text-align: left;">Auto</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.SSID.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SSID</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">LowerLayers</td>
<td style="text-align: left;">Device.WiFi.Radio.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.AccessPoint.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SSIDAdvertisementEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">SSIDReference</td>
<td style="text-align: left;">Device.WiFi.SSID.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.AccessPoint.{i}.Security.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">ModeEnabled</td>
<td style="text-align: left;">WPA2-Personal</td>
</tr>
<tr class="even even">
<td style="text-align: left;">ModesSupported</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">PreSharedKey</td>
<td style="text-align: left;">hexadecimal string</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.Radio.{i}.Stats.</th>
<th style="text-align: left;"></th>
</tr>
</thead>

</table>
<h4 id="sec:test-setup-47">5.6.10.6 Test Setup: <a href="#sec:test-setup-47" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have an End Device with the ability to connect to wireless networks.</li>
</ol>
<h4 id="sec:procedure-46">5.6.10.7 Procedure: <a href="#sec:procedure-46" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Perform a GetParameterValues on the root partial path listed in the parameters section to learn the existing stack hierarchy.</li>
<li>If no SSID objects exist, perform an AddObject RPC on the Device.Wifi.SSID. partial path.
<ol>
<li>Record the instance number received in the AddObjectResponse.</li>
<li>If no AccessPoint objects exist, perform an AddObject RPC on the Device.Wifi.AccessPoint. partial path</li>
<li>Record the instance number received in the AddObjectResponse</li>
<li>Configure the Wifi settings on the CPE using a single SetParameterValues.</li>
<li>Reboot the CPE.</li>
<li>Perform a GetParameterValues on the Stats object listed in the Parameters section and note the values.</li>
<li>The End Device connects to the CPE’s newly created wifi access point.</li>
<li>Stimulate network traffic across the Wifi connection</li>
<li>Perform a GetParameterValues on the Stats object listed in the Parameters section and note the values.</li>
</ol></li>
</ol>
<h4 id="sec:test-metrics-46">5.6.10.8 Test Metrics: <a href="#sec:test-metrics-46" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the SetParameterValuesResponse is valid.</li>
<li>Settings persist across reboot.</li>
<li>The End Device can connect to the wifi connection.</li>
<li>The End Device has appropriate network access through the wifi connection.</li>
<li>The Stats object has updated to reflect the network traffic across the wifi connection.</li>
</ol>
<h3 id="sec:wi-fi-setup-wpa2-enterprise-device2-only">5.6.11 Wi-Fi Setup WPA2 Enterprise (Device:2 Only) <a href="#sec:wi-fi-setup-wpa2-enterprise-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-48">5.6.11.1 Purpose: <a href="#sec:purpose-48" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can set a valid Wi-Fi configuration on the CPE using WPA2-Enterprise Encryption.</div>
<h4 id="sec:references-48">5.6.11.2 References: <a href="#sec:references-48" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-47">5.6.11.3 Profiles: <a href="#sec:profiles-47" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">WiFiRadio:1, WiFiSSID:1, WiFiAccessPoint:1</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-47">5.6.11.4 Optional Features: <a href="#sec:optional-features-47" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">ModesSupported includes “WPA2-Enterprise”</div>
<h4 id="sec:parameters-47">5.6.11.5 Parameters: <a href="#sec:parameters-47" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test.</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.Radio.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Channel</td>
<td style="text-align: left;">&lt;unsignedInt&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">OperatingFrequencyBand</td>
<td style="text-align: left;">2.4GHz or 5GHz</td>
</tr>
<tr class="even even">
<td style="text-align: left;">OperatingStandards</td>
<td style="text-align: left;">Auto</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.SSID.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SSID</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">LowerLayers</td>
<td style="text-align: left;">Device.WiFi.Radio.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.AccessPoint.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SSIDAdvertisementEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">SSIDReference</td>
<td style="text-align: left;">Device.WiFi.SSID.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.AccessPoint.{i}.Security.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">ModeEnabled</td>
<td style="text-align: left;">WPA2-Enterprise</td>
</tr>
<tr class="even even">
<td style="text-align: left;">RadiusServerIPAddr</td>
<td style="text-align: left;">&lt;IP address of RADIUS server&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">RadiusServerPort</td>
<td style="text-align: left;">&lt;Port of RADIUS Server&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">RadiusSecret</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.Radio.{i}.Stats.</th>
<th style="text-align: left;"></th>
</tr>
</thead>

</table>
<h4 id="sec:test-setup-48">5.6.11.6 Test Setup: <a href="#sec:test-setup-48" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have a RADIUS Server set up configured with a secret and a user account with a known username and password.</li>
<li>Have an End Device with the ability to connect to wireless networks.</li>
</ol>
<h4 id="sec:procedure-47">5.6.11.7 Procedure: <a href="#sec:procedure-47" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Perform a GetParameterValues on the root partial path listed in the parameters section to learn the existing stack hierarchy.</li>
<li>If no SSID objects exist, perform an AddObject RPC on the Device.Wifi.SSID. partial path.
<ol>
<li>Record the instance number received in the AddObjectResponse.</li>
<li>If no AccessPoint objects exist, perform an AddObject RPC on the Device.Wifi.AccessPoint. partial path</li>
<li>Record the instance number received in the AddObjectResponse</li>
<li>Configure the Wifi settings on the CPE using a single SetParameterValues.</li>
<li>Reboot the CPE.</li>
<li>Perform a GetParameterValues on the Stats object listed in the Parameters section and note the values.</li>
<li>The End Device connects to the CPE’s newly created wifi access point, authenticated from the RADIUS Server.</li>
<li>Stimulate network traffic across the Wifi connection</li>
<li>Perform a GetParameterValues on the Stats object listed in the Parameters section and note the values.</li>
</ol></li>
</ol>
<h4 id="sec:test-metrics-47">5.6.11.8 Test Metrics: <a href="#sec:test-metrics-47" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the SetParameterValuesResponse is valid.</li>
<li>Settings persist across reboot.</li>
<li>Verify CPE sends a Radius request on End Device connection to the Radius server and receives a valid response.</li>
<li>The End Device can connect to the wifi connection.</li>
<li>The End Device has appropriate network access through the wifi connection.</li>
<li>The Stats object has updated to reflect the network traffic across the wifi connection.</li>
</ol>
<h3 id="sec:wi-fi-setup-wpa-wpa2-personal-device2-only">5.6.12 Wi-Fi Setup WPA-WPA2 Personal (Device:2 Only) <a href="#sec:wi-fi-setup-wpa-wpa2-personal-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-49">5.6.12.1 Purpose: <a href="#sec:purpose-49" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can set a valid Wi-Fi configuration on the CPE using WPA-WPA2-Personal encryption.</div>
<h4 id="sec:references-49">5.6.12.2 References: <a href="#sec:references-49" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-48">5.6.12.3 Profiles: <a href="#sec:profiles-48" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">WiFiRadio:1, WiFiSSID:1, WiFiAccessPoint:1</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-48">5.6.12.4 Optional Features: <a href="#sec:optional-features-48" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">ModesSupported includes “WPA-WPA2-Personal”</div>
<h4 id="sec:parameters-48">5.6.12.5 Parameters: <a href="#sec:parameters-48" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test.</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.Radio.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Channel</td>
<td style="text-align: left;">&lt;unsignedInt&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">OperatingFrequencyBand</td>
<td style="text-align: left;">2.4GHz or 5GHz</td>
</tr>
<tr class="even even">
<td style="text-align: left;">OperatingStandards</td>
<td style="text-align: left;">Auto</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.SSID.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SSID</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">LowerLayers</td>
<td style="text-align: left;">Device.WiFi.Radio.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.AccessPoint.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SSIDAdvertisementEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">SSIDReference</td>
<td style="text-align: left;">Device.WiFi.SSID.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.AccessPoint.{i}.Security.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">ModeEnabled</td>
<td style="text-align: left;">WPA-WPA2-Personal</td>
</tr>
<tr class="even even">
<td style="text-align: left;">ModesSupported</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">PreSharedKey</td>
<td style="text-align: left;">hexadecimal string</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.Radio.{i}.Stats.</th>
<th style="text-align: left;"></th>
</tr>
</thead>

</table>
<h4 id="sec:test-setup-49">5.6.12.6 Test Setup: <a href="#sec:test-setup-49" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have an End Device with the ability to connect to wireless networks.</li>
</ol>
<h4 id="sec:procedure-48">5.6.12.7 Procedure: <a href="#sec:procedure-48" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Perform a GetParameterValues on the root partial path listed in the parameters section to learn the existing stack hierarchy.</li>
<li>If no SSID objects exist, perform an AddObject RPC on the Device.Wifi.SSID. partial path.
<ol>
<li>Record the instance number received in the AddObjectResponse.</li>
<li>If no AccessPoint objects exist, perform an AddObject RPC on the Device.Wifi.AccessPoint. partial path</li>
<li>Record the instance number received in the AddObjectResponse</li>
<li>Configure the Wifi settings on the CPE using a single SetParameterValues.</li>
<li>Reboot the CPE.</li>
<li>Perform a GetParameterValues on the Stats object listed in the Parameters section and note the values.</li>
<li>The End Device connects to the CPE’s newly created wifi access point.</li>
<li>Stimulate network traffic across the Wifi connection</li>
<li>Perform a GetParameterValues on the Stats object listed in the Parameters section and note the values.</li>
</ol></li>
</ol>
<h4 id="sec:test-metrics-48">5.6.12.8 Test Metrics: <a href="#sec:test-metrics-48" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the SetParameterValuesResponse is valid.</li>
<li>Settings persist across reboot.</li>
<li>The End Device can connect to the wifi connection.</li>
<li>The End Device has appropriate network access through the wifi connection.</li>
<li>The Stats object has updated to reflect the network traffic across the wifi connection.</li>
</ol>
<h3 id="sec:wi-fi-setup-wpa-wpa2-enterprise-device2-only">5.6.13 Wi-Fi Setup WPA-WPA2 Enterprise (Device:2 Only) <a href="#sec:wi-fi-setup-wpa-wpa2-enterprise-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-50">5.6.13.1 Purpose: <a href="#sec:purpose-50" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can set a valid Wi-Fi configuration on the CPE using WPA-WPA2-Enterprise Encryption.</div>
<h4 id="sec:references-50">5.6.13.2 References: <a href="#sec:references-50" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-49">5.6.13.3 Profiles: <a href="#sec:profiles-49" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">WiFiRadio:1, WiFiSSID:1, WiFiAccessPoint:1</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-49">5.6.13.4 Optional Features: <a href="#sec:optional-features-49" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">ModesSupported includes “WPA-WPA2-Enterprise”</div>
<h4 id="sec:parameters-49">5.6.13.5 Parameters: <a href="#sec:parameters-49" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test.</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.Radio.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Channel</td>
<td style="text-align: left;">&lt;unsignedInt&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">OperatingFrequencyBand</td>
<td style="text-align: left;">2.4GHz or 5GHz</td>
</tr>
<tr class="even even">
<td style="text-align: left;">OperatingStandards</td>
<td style="text-align: left;">Auto</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.SSID.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SSID</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">LowerLayers</td>
<td style="text-align: left;">Device.WiFi.Radio.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.AccessPoint.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SSIDAdvertisementEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">SSIDReference</td>
<td style="text-align: left;">Device.WiFi.SSID.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.AccessPoint.{i}.Security.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">ModeEnabled</td>
<td style="text-align: left;">WPA-WPA2-Enterprise</td>
</tr>
<tr class="even even">
<td style="text-align: left;">ModesSupported</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">RadiusServerIPAddr</td>
<td style="text-align: left;">&lt;IP address of RADIUS server&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">RadiusServerPort</td>
<td style="text-align: left;">&lt;Port of RADIUS Server&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">RadiusSecret</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.Radio.{i}.Stats.</th>
<th style="text-align: left;"></th>
</tr>
</thead>

</table>
<h4 id="sec:test-setup-50">5.6.13.6 Test Setup: <a href="#sec:test-setup-50" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have a RADIUS Server set up configured with a secret and a user account with a known username and password.</li>
<li>Have an End Device with the ability to connect to wireless networks.</li>
</ol>
<h4 id="sec:procedure-49">5.6.13.7 Procedure: <a href="#sec:procedure-49" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Perform a GetParameterValues on the root partial path listed in the parameters section to learn the existing stack hierarchy.</li>
<li>If no SSID objects exist, perform an AddObject RPC on the Device.Wifi.SSID. partial path.
<ol>
<li>Record the instance number received in the AddObjectResponse.</li>
<li>If no AccessPoint objects exist, perform an AddObject RPC on the Device.Wifi.AccessPoint. partial path</li>
<li>Record the instance number received in the AddObjectResponse</li>
<li>Configure the Wifi settings on the CPE using a single SetParameterValues.</li>
<li>Reboot the CPE.</li>
<li>Perform a GetParameterValues on the Stats object listed in the Parameters section and note the values.</li>
<li>The End Device connects to the CPE’s newly created wifi access point.</li>
<li>Stimulate network traffic across the Wifi connection</li>
<li>Perform a GetParameterValues on the Stats object listed in the Parameters section and note the values.</li>
</ol></li>
</ol>
<h4 id="sec:test-metrics-49">5.6.13.8 Test Metrics: <a href="#sec:test-metrics-49" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the SetParameterValuesResponse is valid.</li>
<li>Settings persist across reboot.</li>
<li>The End Device can connect to the wifi connection.</li>
<li>The End Device has appropriate network access through the wifi connection.</li>
<li>The Stats object has updated to reflect the network traffic across the wifi connection.</li>
</ol>
<h3 id="sec:wi-fi-setup-wpa3-personal-device2-only">5.6.14 Wi-Fi Setup WPA3 Personal (Device:2 only) <a href="#sec:wi-fi-setup-wpa3-personal-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-51">5.6.14.1 Purpose: <a href="#sec:purpose-51" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<p>To verify that an ACS can set a valid Wi-Fi configuration on the CPE using WPA3- Personal encryption.</p>
<h4 id="sec:references-51">5.6.14.2 References: <a href="#sec:references-51" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<p>Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></p>
<h4 id="sec:profiles-50">5.6.14.3 Profiles: <a href="#sec:profiles-50" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">WiFiRadio:1, WiFiSSID:1, WiFiAccessPoint:1</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-50">5.6.14.4 Optional Features: <a href="#sec:optional-features-50" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<p>ModesSupported includes “WPA3-Personal”</p>
<h4 id="sec:parameters-50">5.6.14.5 Parameters: <a href="#sec:parameters-50" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.Radio.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Channel</td>
<td style="text-align: left;">&lt;unsignedInt&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">OperatingFrequencyBand</td>
<td style="text-align: left;">2.4GHz or 5GHz</td>
</tr>
<tr class="even even">
<td style="text-align: left;">OperatingStandards</td>
<td style="text-align: left;">Auto</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.SSID.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SSID</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">LowerLayers</td>
<td style="text-align: left;">Device.WiFi.Radio.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.AccessPoint.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SSIDAdvertisementEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">SSIDReference</td>
<td style="text-align: left;">Device.WiFi.SSID.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.AccessPoint.{i}.Security.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">ModeEnabled</td>
<td style="text-align: left;">WPA3-Personal</td>
</tr>
<tr class="even even">
<td style="text-align: left;">ModesSupported</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">SAEPassphrase</td>
<td style="text-align: left;">hexadecimal string</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.Radio.{i}.Stats</th>
<th style="text-align: left;"></th>
</tr>
</thead>

</table>
<h4 id="sec:test-setup-51">5.6.14.6 Test Setup: <a href="#sec:test-setup-51" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to Section 4.2.1, Common Test Setup, for setup steps.</li>
<li>Have an End Device with the ability to connect to wireless networks.</li>
</ol>
<h4 id="sec:procedure-50">5.6.14.7 Procedure: <a href="#sec:procedure-50" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Perform a GetParameterValues on the root partial path listed in the parameters section to learn the existing stack hierarchy.</li>
<li>If no SSID objects exist, perform an AddObject RPC on the Device.Wifi.SSID. partial path.</li>
</ol>
<ol>
<li>Record the instance number received in the AddObjectResponse.</li>
</ol>
<ol>
<li>If no AccessPoint objects exist, perform an AddObject RPC on the Device.Wifi.AccessPoint. partial path</li>
</ol>
<ol>
<li>Record the instance number received in the the AddObjectResponse</li>
</ol>
<ol>
<li>Configure the Wifi settings on the CPE using a single SetParameterValues.</li>
<li>Reboot the CPE.</li>
<li>Perform a GetParameterValues on the Stats object listed in the Parameters section and note the values.</li>
<li>The End Device connects to the CPE’s newly created wifi access point.</li>
<li>Stimulate network traffic across the Wifi connection</li>
<li>Perform a GetParameterValues on the Stats object listed in the Parameters section and note the values</li>
</ol>
<h4 id="sec:test-metrics-50">5.6.14.8 Test Metrics: <a href="#sec:test-metrics-50" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the SetParameterValuesResponse is valid.</li>
<li>Settings persist across reboot.</li>
<li>The End Device can connect to the wifi connection.</li>
<li>The End Device has appropriate network access through the wifi connection.</li>
<li>The Stats object has updated to reflect the network traffic across the wifi connection.</li>
</ol>
<h3 id="sec:wi-fi-setup-wpa3-personal-transition-device2-only">5.6.15 Wi-Fi Setup WPA3-Personal-Transition (Device:2 only) <a href="#sec:wi-fi-setup-wpa3-personal-transition-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-52">5.6.15.1 Purpose: <a href="#sec:purpose-52" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<p>To verify that an ACS can set a valid Wi-Fi configuration on the CPE using WPA3- Personal-Transition encryption.</p>
<h4 id="sec:references-52">5.6.15.2 References: <a href="#sec:references-52" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<p>Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></p>
<h4 id="sec:profiles-51">5.6.15.3 Profiles: <a href="#sec:profiles-51" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">WiFiRadio:1, WiFiSSID:1, WiFiAccessPoint:1</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-51">5.6.15.4 Optional Features: <a href="#sec:optional-features-51" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<p>ModesSupported includes “WPA3-Personal-Transition”</p>
<h4 id="sec:parameters-51">5.6.15.5 Parameters: <a href="#sec:parameters-51" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.Radio.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Channel</td>
<td style="text-align: left;">&lt;unsignedInt&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">OperatingFrequencyBand</td>
<td style="text-align: left;">2.4GHz or 5GHz</td>
</tr>
<tr class="even even">
<td style="text-align: left;">OperatingStandards</td>
<td style="text-align: left;">Auto</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.SSID.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SSID</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">LowerLayers</td>
<td style="text-align: left;">Device.WiFi.Radio.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.AccessPoint.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SSIDAdvertisementEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">SSIDReference</td>
<td style="text-align: left;">Device.WiFi.SSID.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.AccessPoint.{i}.Security.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">ModeEnabled</td>
<td style="text-align: left;">WPA3-Personal-Transition</td>
</tr>
<tr class="even even">
<td style="text-align: left;">ModesSupported</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">SAEPassphrase</td>
<td style="text-align: left;">hexadecimal string</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.Radio.{i}.Stats</th>
<th style="text-align: left;"></th>
</tr>
</thead>

</table>
<h4 id="sec:test-setup-52">5.6.15.6 Test Setup: <a href="#sec:test-setup-52" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to Section 4.2.1, Common Test Setup, for setup steps.</li>
<li>Have an End Device with the ability to connect to wireless networks.</li>
</ol>
<h4 id="sec:procedure-51">5.6.15.7 Procedure: <a href="#sec:procedure-51" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Perform a GetParameterValues on the root partial path listed in the parameters section to learn the existing stack hierarchy.</li>
<li>If no SSID objects exist, perform an AddObject RPC on the Device.Wifi.SSID. partial path.</li>
</ol>
<ol>
<li>Record the instance number received in the AddObjectResponse.</li>
</ol>
<ol>
<li>If no AccessPoint objects exist, perform an AddObject RPC on the Device.Wifi.AccessPoint. partial path</li>
</ol>
<ol>
<li>Record the instance number received in the the AddObjectResponse</li>
</ol>
<ol>
<li>Configure the Wifi settings on the CPE using a single SetParameterValues.</li>
<li>Reboot the CPE.</li>
<li>Perform a GetParameterValues on the Stats object listed in the Parameters section and note the values.</li>
<li>The End Device connects to the CPE’s newly created wifi access point.</li>
<li>Stimulate network traffic across the Wifi connection</li>
<li>Perform a GetParameterValues on the Stats object listed in the Parameters section and note the values</li>
</ol>
<h4 id="sec:test-metrics-51">5.6.15.8 Test Metrics: <a href="#sec:test-metrics-51" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the SetParameterValuesResponse is valid.</li>
<li>Settings persist across reboot.</li>
<li>The End Device can connect to the wifi connection.</li>
<li>The End Device has appropriate network access through the wifi connection.</li>
<li>The Stats object has updated to reflect the network traffic across the wifi connection.</li>
</ol>
<h3 id="sec:wi-fi-setup-wpa3-enterprise-device2-only">5.6.16 Wi-Fi Setup WPA3-Enterprise (Device:2 only) <a href="#sec:wi-fi-setup-wpa3-enterprise-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-53">5.6.16.1 Purpose: <a href="#sec:purpose-53" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<p>To verify that an ACS can set a valid Wi-Fi configuration on the CPE using WPA3- Enterprise encryption.</p>
<h4 id="sec:references-53">5.6.16.2 References: <a href="#sec:references-53" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<p>Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></p>
<h4 id="sec:profiles-52">5.6.16.3 Profiles: <a href="#sec:profiles-52" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">WiFiRadio:1, WiFiSSID:1, WiFiAccessPoint:1</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-52">5.6.16.4 Optional Features: <a href="#sec:optional-features-52" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<p>ModesSupported includes “WPA3-Enterprise”</p>
<h4 id="sec:parameters-52">5.6.16.5 Parameters: <a href="#sec:parameters-52" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.Radio.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Channel</td>
<td style="text-align: left;">&lt;unsignedInt&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">OperatingFrequencyBand</td>
<td style="text-align: left;">2.4GHz or 5GHz</td>
</tr>
<tr class="even even">
<td style="text-align: left;">OperatingStandards</td>
<td style="text-align: left;">Auto</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.SSID.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SSID</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">LowerLayers</td>
<td style="text-align: left;">Device.WiFi.Radio.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.AccessPoint.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SSIDAdvertisementEnabled</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">SSIDReference</td>
<td style="text-align: left;">Device.WiFi.SSID.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.AccessPoint.{i}.Security.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">ModeEnabled</td>
<td style="text-align: left;">WPA3-Enterprise</td>
</tr>
<tr class="even even">
<td style="text-align: left;">RadiusServerIPAddr</td>
<td style="text-align: left;">&lt;IP address of RADIUS server&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">RadiusServerPort</td>
<td style="text-align: left;">&lt;Port of RADIUS server&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">RadiusSecret</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.Radio.{i}.Stats</th>
<th style="text-align: left;"></th>
</tr>
</thead>

</table>
<h4 id="sec:test-setup-53">5.6.16.6 Test Setup: <a href="#sec:test-setup-53" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to Section 4.2.1, Common Test Setup, for setup steps.</li>
<li>Have a RADIUS Server set up configured with a secret and a user account with a known username and password.</li>
<li>Have an End Device with the ability to connect to wireless networks.</li>
</ol>
<h4 id="sec:procedure-52">5.6.16.7 Procedure: <a href="#sec:procedure-52" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Perform a GetParameterValues on the root partial path listed in the parameters section to learn the existing stack hierarchy.</li>
<li>If no SSID objects exist, perform an AddObject RPC on the Device.Wifi.SSID. partial path.</li>
</ol>
<ol>
<li>Record the instance number received in the AddObjectResponse.</li>
</ol>
<ol>
<li>If no AccessPoint objects exist, perform an AddObject RPC on the Device.Wifi.AccessPoint. partial path</li>
</ol>
<ol>
<li>Record the instance number received in the the AddObjectResponse</li>
</ol>
<ol>
<li>Configure the Wifi settings on the CPE using a single SetParameterValues.</li>
<li>Reboot the CPE.</li>
<li>Perform a GetParameterValues on the Stats object listed in the Parameters section and note the values.</li>
<li>The End Device connects to the CPE’s newly created wifi access point, authenticated from the RADIUS Server.</li>
<li>Stimulate network traffic across the Wifi connection</li>
<li>Perform a GetParameterValues on the Stats object listed in the Parameters section and note the values</li>
</ol>
<h4 id="sec:test-metrics-52">5.6.16.8 Test Metrics: <a href="#sec:test-metrics-52" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the SetParameterValuesResponse is valid.</li>
<li>Settings persist across reboot.</li>
<li>Verify CPE sends a Radius request on End Device connection to the Radius server and receives a valid response.</li>
<li>The End Device has appropriate network access through the wifi connection.</li>
<li>The Stats object has updated to reflect the network traffic across the wifi connection.</li>
</ol>
<h3 id="sec:wi-fi-setup-add-ssid-device2-only">5.6.17 Wi-Fi Setup – Add SSID (Device:2 Only) <a href="#sec:wi-fi-setup-add-ssid-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-54">5.6.17.1 Purpose: <a href="#sec:purpose-54" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can add an SSID object successfully to a preexisting Wifi configuration and that the new SSID is able to be successfully used to gain appropriate network access.</div>
<h4 id="sec:references-54">5.6.17.2 References: <a href="#sec:references-54" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-53">5.6.17.3 Profiles: <a href="#sec:profiles-53" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">WiFiRadio:1, WiFiSSID:1, WiFiAccessPoint:1</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-53">5.6.17.4 Optional Features: <a href="#sec:optional-features-53" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-53">5.6.17.5 Parameters: <a href="#sec:parameters-53" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test.</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.SSID.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">SSID</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">LowerLayers</td>
<td style="text-align: left;">Device.WiFi.Radio.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.AccessPoint.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SSIDReference</td>
<td style="text-align: left;">Device.WiFi.SSID.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.SSID.{i}.Stats.</th>
<th style="text-align: left;"></th>
</tr>
</thead>

</table>
<h4 id="sec:test-setup-54">5.6.17.6 Test Setup: <a href="#sec:test-setup-54" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have a pre-existing, working Wi-Fi Configuration on the CPE.</li>
<li>Have an End Device with the ability to connect to existing wireless networks.</li>
</ol>
<h4 id="sec:procedure-53">5.6.17.7 Procedure: <a href="#sec:procedure-53" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Perform a GetParameterValues on the root partial path listed in the parameters section to learn the existing stack hierarchy. Take special note of the existing SSID object’s LowerLayers parameter (Device.Wifi.SSID.{j}.LowerLayers)</li>
<li>Perform an AddObject RPC on “Device.Wifi.SSID.” and record the instance number and status returned.</li>
<li>If the status of the Add Object RPC returned a 1, reboot the device.</li>
<li>Perform a Get Parameter Values RPC on the path from Procedure step 2 and confirm the object was added successfully.</li>
<li>Peform an AddObject RPC on “Device.WiFi.AccessPoint.” and record the instance number and status returned.</li>
<li>If the status of the Add Object RPC returned a 1, reboot the device.</li>
<li>Perform a Get Parameter Values RPC on the path from Procedure step 5 and confirm the object was added successfully.</li>
<li>Configure the Wifi settings on the CPE to utilize the new SSID object using the SetParameterValues RPC:
<ol>
<li>Device.Wifi.SSID.{i}.LowerLayers = &lt;Value returned in Procedure step 1&gt;</li>
<li>Device.Wifi.SSID.{i}.Enable = true</li>
<li>Device.Wifi.SSID.{i}.SSID = &lt;Value different from Device.Wifi.SSID.{j}.SSID&gt;</li>
<li>Device.Wifi.AccessPoint.{k}.SSIDReference = Device.Wifi.SSID.{i}</li>
<li>The End Device connects to the CPE’s newly created Wi-Fi SSID using the same authentication method and credentials that the preexisting configuration uses.</li>
<li>Reboot the CPE</li>
<li>Perform a GetParameterValues on the Stats object listed in the Parameters section and note the values.</li>
<li>The End Device connects to the CPE’s newly created wifi SSID using the same authentication method and credentials that the preexisting configuration uses.</li>
<li>Stimulate network traffic across the Wifi connection.</li>
<li>Perform a GetParameterValues on the Stats object listed in the Parameters section and note the values.</li>
</ol></li>
</ol>
<h4 id="sec:test-metrics-53">5.6.17.8 Test Metrics: <a href="#sec:test-metrics-53" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the SetParameterValuesResponse is valid.</li>
<li>Settings persist across reboot.</li>
<li>The End Device can connect to the new SSID.</li>
<li>The End Device has appropriate network access using the new SSID.</li>
<li>The Stats object has updated to reflect the network traffic across the Wi-Fi connection.</li>
</ol>
<h3 id="sec:wi-fi-setup-remove-ssid-device2-only">5.6.18 Wi-Fi Setup – Remove SSID (Device:2 Only) <a href="#sec:wi-fi-setup-remove-ssid-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-55">5.6.18.1 Purpose: <a href="#sec:purpose-55" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can remove an SSID object successfully from a preexisting Wifi configuration and that the new SSID is able to be successfully used to gain appropriate network access.</div>
<h4 id="sec:references-55">5.6.18.2 References: <a href="#sec:references-55" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:profiles-54">5.6.18.3 Profiles: <a href="#sec:profiles-54" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">WiFiRadio:1, WiFiSSID:1, WiFiAccessPoint:1</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-54">5.6.18.4 Optional Features: <a href="#sec:optional-features-54" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-54">5.6.18.5 Parameters: <a href="#sec:parameters-54" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test.</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.SSID.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">SSID</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">LowerLayers</td>
<td style="text-align: left;">Device.WiFi.Radio.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.AccessPoint.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">SSIDReference</td>
<td style="text-align: left;">Device.WiFi.SSID.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.WiFi.SSID.{i}.Stats.</th>
<th style="text-align: left;"></th>
</tr>
</thead>

</table>
<h4 id="sec:test-setup-55">5.6.18.6 Test Setup: <a href="#sec:test-setup-55" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have a preexisting, working Wifi configuration on the CPE.</li>
<li>Have an End Device (Laptop) with the ability to connect to wireless networks.</li>
</ol>
<h4 id="sec:procedure-54">5.6.18.7 Procedure: <a href="#sec:procedure-54" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the existing Wifi configuration is operating correctly by connecting the End Device to it. Note the SSID that was connected to.</li>
<li>Perform a GetParameterValues on the root partial path listed in the parameters section to learn the existing stack hierarchy. Note the instance number of the SSID object with the SSID field matching the one connected to in Procedure Step 1 as well as the instance number of the AccessPoint with the SSIDReference field mapped to the appropriate SSID.</li>
<li>Peform a DeleteObject RPC on the Device.Wifi.SSID.{instance noted in Procedure Step 2} and Device.Wifi.AccessPoint.{instance noted in Procedure Step 2}, noting the returned value.</li>
<li>If the status returned is 1, reboot the CPE.</li>
<li>Perform a GetParameterValues on Device.Wifi.SSID. And Device.Wifi.AccessPoint. to confirm deletion.</li>
<li>Attempt to re-connect the End Device to the removed SSID.</li>
<li>If status returned in the DeleteObject was 0, reboot the CPE and then perform a GetParameterValues on Device.Wifi.SSID. And Device.Wifi.AccessPoint. to confirm deletion persisted across reboot.</li>
</ol>
<h4 id="sec:test-metrics-54">5.6.18.8 Test Metrics: <a href="#sec:test-metrics-54" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>End Device can initially connect to the SSID</li>
<li>Deletion of SSID object persists across reboot.</li>
<li>The End Device cannot connect to the deleted SSID.</li>
</ol>
<h2 id="sec:localized-strings">5.7 Localized Strings <a href="#sec:localized-strings" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h3 id="sec:non-printable-ascii-characters-in-setparametervalues-rpc-device2-only">5.7.1 Non-Printable ASCII Characters in SetParameterValues RPC (Device:2 Only) <a href="#sec:non-printable-ascii-characters-in-setparametervalues-rpc-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-56">5.7.1.1 Purpose: <a href="#sec:purpose-56" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can configure localized strings in the device.</div>
<h4 id="sec:references-56">5.7.1.2 References: <a href="#sec:references-56" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<div class="line-block">REC-xml Section 4.4 <span class="cite" data-citation-ids="REC-xml"><a href="#ref-REC-xml">[3]</a></span></div>
<h4 id="sec:profiles-55">5.7.1.3 Profiles: <a href="#sec:profiles-55" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Baseline:1</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-55">5.7.1.4 Optional Features: <a href="#sec:optional-features-55" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-55">5.7.1.5 Parameters: <a href="#sec:parameters-55" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test:</div>
<div class="line-block">For CPE that implement the Device:2 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.DeviceInfo.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">ProvisioningCode</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-56">5.7.1.6 Test Setup: <a href="#sec:test-setup-56" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
</ol>
<h4 id="sec:procedure-55">5.7.1.7 Procedure: <a href="#sec:procedure-55" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS triggers a new session with the CPE</li>
<li>The CPE establishes the session</li>
<li>ACS performs a SPV on the above parameter and sets a new value, which is randomly generated and fulfills these criteria:</li>
<li>The string contains non-printable ASCII characters</li>
<li>The string contains XML characters, which have to be escaped like “&lt;,&gt;, &amp;”</li>
<li>ACS ends the session</li>
<li>ACS triggers a new session with the CPE</li>
<li>The CPE establishes the session</li>
<li>ACS performs a GPV on the above parameter</li>
<li>ACS ends the session</li>
<li>Repeat steps 1-8 with a new randomly generated string.</li>
<li>Repeat steps 1-8 with a new randomly generated string.</li>
</ol>
<h4 id="sec:test-metrics-55">5.7.1.8 Test Metrics: <a href="#sec:test-metrics-55" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Validate that both session can be successfully executed</li>
<li>Validate that the GPV and SPV are successful</li>
<li>Validate that the string returned in step 7 matches the string set in step 3</li>
<li>Validate that the string is properly encoded in step 3 and step 7</li>
</ol>
<h3 id="sec:multi-byte-encoding-in-setparametervalues-rpc-device2-only">5.7.2 Multi-Byte Encoding in SetParameterValues RPC (Device:2 Only) <a href="#sec:multi-byte-encoding-in-setparametervalues-rpc-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-57">5.7.2.1 Purpose: <a href="#sec:purpose-57" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can configure strings in the CPE that are 64 characters but more than 64 bytes.</div>
<h4 id="sec:references-57">5.7.2.2 References: <a href="#sec:references-57" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<div class="line-block">REC-xml Section 4.3.3 <span class="cite" data-citation-ids="REC-xml"><a href="#ref-REC-xml">[3]</a></span></div>
<h4 id="sec:profiles-56">5.7.2.3 Profiles: <a href="#sec:profiles-56" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Baseline:1</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-56">5.7.2.4 Optional Features: <a href="#sec:optional-features-56" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-56">5.7.2.5 Parameters: <a href="#sec:parameters-56" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test:</div>
<div class="line-block">For CPE that implement the Device:2 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.DeviceInfo.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">ProvisioningCode</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-57">5.7.2.6 Test Setup: <a href="#sec:test-setup-57" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
</ol>
<h4 id="sec:procedure-56">5.7.2.7 Procedure: <a href="#sec:procedure-56" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS triggers a new session with the CPE</li>
<li>The CPE establishes the session</li>
<li>ACS performs a SPV on the above parameter and sets a new value, which is randomly generated and fulfills these criteria:</li>
<li>The string uses a multi-byte encoding</li>
<li>The string contains 64 characters</li>
<li>ACS ends the session</li>
<li>ACS triggers a new session with the CPE</li>
<li>The CPE establishes the session</li>
<li>ACS performs a GPV on the above parameter</li>
<li>ACS ends the session</li>
</ol>
<h4 id="sec:test-metrics-56">5.7.2.8 Test Metrics: <a href="#sec:test-metrics-56" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Validate that both session can be successfully executed</li>
<li>Validate that the GPV and SPV are successful</li>
<li>Validate that the string returned in step 7 matches the string set in step 3</li>
<li>Validate that the string is properly encoded in step 3 and step 7</li>
</ol>
<h3 id="sec:non-ascii-characters-in-parameterkey-device2-only">5.7.3 Non-ASCII Characters in ParameterKey (Device:2 Only) <a href="#sec:non-ascii-characters-in-parameterkey-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-58">5.7.3.1 Purpose: <a href="#sec:purpose-58" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can configure localized strings in the device.</div>
<h4 id="sec:references-58">5.7.3.2 References: <a href="#sec:references-58" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<div class="line-block">REC-xml Section 4.4 <span class="cite" data-citation-ids="REC-xml"><a href="#ref-REC-xml">[3]</a></span></div>
<h4 id="sec:profiles-57">5.7.3.3 Profiles: <a href="#sec:profiles-57" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Baseline:1</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-57">5.7.3.4 Optional Features: <a href="#sec:optional-features-57" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-57">5.7.3.5 Parameters: <a href="#sec:parameters-57" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test:</div>
<div class="line-block">For CPE that implement the Device:2 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.DeviceInfo.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">ProvisioningCode</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.ManagementServer.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">ParameterKey</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-58">5.7.3.6 Test Setup: <a href="#sec:test-setup-58" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
</ol>
<h4 id="sec:procedure-57">5.7.3.7 Procedure: <a href="#sec:procedure-57" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS triggers a new session with the CPE.</li>
<li>The CPE establishes the session.</li>
<li>ACS performs a SetParameterValues RPC on the ProvisioningCode and sets a new value. In the SPV the ACS uses a ParameterKey, which is randomly generated and fulfills these criteria:</li>
<li>The string contains non-printable ASCII characters</li>
<li>The string contains XML characters, which have to be escaped like “&lt;,&gt;, &amp;”.</li>
<li>ACS ends the session.</li>
<li>ACS triggers a new session with the CPE.</li>
<li>The CPE establishes the session.</li>
<li>ACS performs a GetParameterValues on ParameterKey.</li>
<li>ACS ends the session.</li>
<li>Repeat steps 1-8 with a new randomly generated string.</li>
<li>Repeat steps 1-8 with a new randomly generated string.</li>
</ol>
<h4 id="sec:test-metrics-57">5.7.3.8 Test Metrics: <a href="#sec:test-metrics-57" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Validate that both session can be successfully executed.</li>
<li>Validate that the GetParameterValues RPC and the SetParameterValues RPC are successful.</li>
<li>Validate that the string returned in step 7 matches the string set in step 3.</li>
<li>Validate that the string is properly encoded in step 3 and step 7.</li>
</ol>
<h3 id="sec:multi-byte-encoding-in-parameterkey-device2-only">5.7.4 Multi-Byte Encoding in ParameterKey (Device:2 Only) <a href="#sec:multi-byte-encoding-in-parameterkey-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-59">5.7.4.1 Purpose: <a href="#sec:purpose-59" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can configure strings in the CPE that are 32 characters but more than 32 bytes.</div>
<h4 id="sec:references-59">5.7.4.2 References: <a href="#sec:references-59" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<div class="line-block">REC-xml Section 4.3.3 <span class="cite" data-citation-ids="REC-xml"><a href="#ref-REC-xml">[3]</a></span></div>
<h4 id="sec:profiles-58">5.7.4.3 Profiles: <a href="#sec:profiles-58" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Baseline:1</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-58">5.7.4.4 Optional Features: <a href="#sec:optional-features-58" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-58">5.7.4.5 Parameters: <a href="#sec:parameters-58" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test:</div>
<div class="line-block">For CPE that implement the Device:2 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.DeviceInfo.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">ProvisioningCode</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.ManagementServer.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">ParameterKey</td>
<td style="text-align: left;">&lt;string&gt;</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-59">5.7.4.6 Test Setup: <a href="#sec:test-setup-59" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
</ol>
<h4 id="sec:procedure-58">5.7.4.7 Procedure: <a href="#sec:procedure-58" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS triggers a new session with the CPE</li>
<li>The CPE establishes the session</li>
<li>ACS performs a SetParameterValues RPC on the ProvisioningCode and sets a new value. In the SPV the ACS uses a ParameterKey, which is randomly generated and fulfills these criteria:</li>
<li>The string uses a multi-byte encoding</li>
<li>The string contains 32 characters</li>
<li>ACS ends the session</li>
<li>ACS triggers a new session with the CPE</li>
<li>The CPE establishes the session</li>
<li>ACS performs a GetParameterValues RPC on ParameterKey.</li>
<li>ACS ends the session</li>
</ol>
<h4 id="sec:test-metrics-58">5.7.4.8 Test Metrics: <a href="#sec:test-metrics-58" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Validate that both session can be successfully executed</li>
<li>Validate that the GetParameterValues RPC and the SetParameterValues RPC are successful</li>
<li>Validate that the string returned in step 7 matches the string set in step 3</li>
<li>Validate that the string is properly encoded in step 3 and step 7</li>
</ol>
<h3 id="sec:non-ascii-characters-in-commandkey-device2-only">5.7.5 Non-ASCII Characters in CommandKey (Device:2 Only) <a href="#sec:non-ascii-characters-in-commandkey-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-60">5.7.5.1 Purpose: <a href="#sec:purpose-60" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can configure localized strings in the device.</div>
<h4 id="sec:references-60">5.7.5.2 References: <a href="#sec:references-60" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<div class="line-block">REC-xml Section 4.4 <span class="cite" data-citation-ids="REC-xml"><a href="#ref-REC-xml">[3]</a></span></div>
<h4 id="sec:profiles-59">5.7.5.3 Profiles: <a href="#sec:profiles-59" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Baseline:1</th>
<th style="text-align: left;">N/A</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Device:2</td>
<td style="text-align: left;">InternetGatewayDevice:1</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-59">5.7.5.4 Optional Features: <a href="#sec:optional-features-59" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-59">5.7.5.5 Parameters: <a href="#sec:parameters-59" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None.</div>
<h4 id="sec:test-setup-60">5.7.5.6 Test Setup: <a href="#sec:test-setup-60" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
</ol>
<h4 id="sec:procedure-59">5.7.5.7 Procedure: <a href="#sec:procedure-59" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS triggers a new session with the CPE</li>
<li>The CPE establishes the session</li>
<li>ACS performs a Reboot RPC with a Commandkey parameter which is randomly generated and fulfills these criteria:</li>
<li>The string contains non-printable ASCII characters.</li>
<li>The string contains XML characters, which have to be escaped like “&lt;,&gt;, &amp;”</li>
<li>ACS ends the session</li>
<li>The CPE performs a reboot and reports the CommandKey to the ACS.</li>
<li>Repeat steps 1-5 with a new randomly generated string.</li>
<li>Repeat steps 1-5 with a new randomly generated string.</li>
</ol>
<h4 id="sec:test-metrics-59">5.7.5.8 Test Metrics: <a href="#sec:test-metrics-59" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Validate that both session can be successfully executed</li>
<li>Validate that the Reboot RPC is successful.</li>
<li>Validate that the string returned in step 5 matches the string set in step 3 after escaping.</li>
<li>Validate that the string is properly encoded in step 3 and step 5</li>
</ol>
<h3 id="sec:multi-byte-encoding-in-commandkey-device2-only">5.7.6 Multi-Byte Encoding in CommandKey (Device:2 Only) <a href="#sec:multi-byte-encoding-in-commandkey-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<h4 id="sec:purpose-61">5.7.6.1 Purpose: <a href="#sec:purpose-61" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can configure strings in the CPE that are 32 characters but more than 32 bytes.</div>
<h4 id="sec:references-61">5.7.6.2 References: <a href="#sec:references-61" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<div class="line-block">REC-xml Section 4.3.3 <span class="cite" data-citation-ids="REC-xml"><a href="#ref-REC-xml">[3]</a></span></div>
<h4 id="sec:profiles-60">5.7.6.3 Profiles: <a href="#sec:profiles-60" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Baseline:1</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
<h4 id="sec:optional-features-60">5.7.6.4 Optional Features: <a href="#sec:optional-features-60" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None</div>
<h4 id="sec:parameters-60">5.7.6.5 Parameters: <a href="#sec:parameters-60" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">None.</div>
<h4 id="sec:test-setup-61">5.7.6.6 Test Setup: <a href="#sec:test-setup-61" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
</ol>
<h4 id="sec:procedure-60">5.7.6.7 Procedure: <a href="#sec:procedure-60" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS triggers a new session with the CPE</li>
<li>The CPE establishes the session</li>
<li>ACS performs a Reboot RPC with a Commandkey parameter which is randomly generated and fulfills these criteria:</li>
<li>The string uses a multi-byte encoding using UTF-8.</li>
<li>The string contains 32 characters</li>
<li>ACS ends the session</li>
<li>The CPE performs a reboot and reports the CommandKey to the ACS.</li>
</ol>
<h4 id="sec:test-metrics-60">5.7.6.8 Test Metrics: <a href="#sec:test-metrics-60" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Validate that both session can be successfully executed</li>
<li>Validate that the Reboot RPC is successful</li>
<li>Validate that the string returned in step 5 matches the string set in step 3 after escaping.</li>
<li>Validate that the string is properly encoded in step 3 and step 5</li>
</ol>
<h2 class="new-page" id="sec:configuration-backup-and-restore-incorrect-backup-file">5.8 Configuration Backup and Restore – Incorrect Backup File <a href="#sec:configuration-backup-and-restore-incorrect-backup-file" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h4 id="sec:purpose-62">5.8.0.1 Purpose: <a href="#sec:purpose-62" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<p>This test is designed to verify that the CPE responds to invalid restoration of a configuration with a correct fault code.</p>
<h4 id="sec:references-62">5.8.0.2 References: <a href="#sec:references-62" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<p>Section A.4.1.5/TR-069a1 or later <span class="cite" data-citation-ids="TR-069"><a href="#ref-TR-069">[8]</a></span></p>
<h4 id="sec:parameters-61">5.8.0.3 Parameters: <a href="#sec:parameters-61" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<p>These parameters are for the Download RPC:</p>
<pre><code>Download parameters:

CommandKey: a unique value

FileType: &quot;3 Vendor Configuration File&quot;

URL:  location of the invalid file

Username: used to authenticate CPE with file server

Password: used to authenticate CPE with file server

FileSize: size of the file in bytes

TargetFileName: name of file

DelaySeconds: 0

SuccessURL: Empty string

FailureURL: Empty string</code></pre>
<h4 id="sec:test-setup-62">5.8.0.4 Test Setup: <a href="#sec:test-setup-62" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS connected to the network</li>
<li>CPE connected to the network and configured with an ACS URL that corresponds to the ACS in #1</li>
<li>Have device to capture traffic between the device and both the file server and ACS</li>
<li>Establish a server to download files.</li>
</ol>
<h4 id="sec:procedure-61">5.8.0.5 Procedure: <a href="#sec:procedure-61" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS schedules a download RPC on the CPE with the parameters above</li>
<li>Allow CPE to respond DownloadResponse or TransferComplete</li>
</ol>
<h4 id="sec:test-metrics-61">5.8.0.6 Test Metrics: <a href="#sec:test-metrics-61" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the CPE responds to the Download RPC with a DownloadResponse or TransferComplete with one of the following fault codes: 9003 (Invalid argument),</li>
</ol>
<h2 class="new-page" id="sec:dhcp-provisioning-disable-dhcp">5.9 DHCP Provisioning – Disable DHCP <a href="#sec:dhcp-provisioning-disable-dhcp" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h4 id="sec:purpose-63">5.9.0.1 Purpose: <a href="#sec:purpose-63" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can configure the basic DHCPv4 configuration required on a CPE device.</div>
<h4 id="sec:references-63">5.9.0.2 References: <a href="#sec:references-63" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">TR-181i2a7</div>
<h4 id="sec:parameters-62">5.9.0.3 Parameters: <a href="#sec:parameters-62" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters within the InternetGatewayDevice.LANDevice.{i}.LANHostConfigManagement. table (for devices that implement the InternetGatewayDevice:1 root data model) and Device.DHCPv4.Server.Pool.{i}. table (for devices that implement the Device:2 root data model) are required to be implemented for this test:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Name</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Server Configurable</td>
<td style="text-align: left;">DHCPServerConfigurable</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Server Enable</td>
<td style="text-align: left;">DHCPServerEnable</td>
<td style="text-align: left;">Disable</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from Device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Minimum Address</td>
<td style="text-align: left;">MinAddress</td>
<td style="text-align: left;">MinAddress</td>
<td style="text-align: left;">&lt;minimum address&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Maximum Address</td>
<td style="text-align: left;">MaxAddress</td>
<td style="text-align: left;">MaxAddress</td>
<td style="text-align: left;">&lt;maximum address&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Lease Time</td>
<td style="text-align: left;">DHCPLeaseTime</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">60</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-63">5.9.0.4 Test Setup: <a href="#sec:test-setup-63" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS connected to the network</li>
<li>CPE connected to the network and configured with an ACS URL that corresponds to the ACS in #1</li>
<li>CPE supports the appropriate DHCP parameters in the parameters section</li>
<li>If a Device CPE, verify that the Interface parameter is a valid path name in the IP Interface table.</li>
<li>Have an end system that can attempt to connect to the CPE via DHCP.</li>
</ol>
<h4 id="sec:procedure-62">5.9.0.5 Procedure: <a href="#sec:procedure-62" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>If the DUT implements the Device:2 root data model, perform an AddObject RPC on Device.Server.Pool., recording the InstanceNumber value returned in the AddObjectResponse</li>
<li>On the ACS schedule a SetParameterValues RPC on the appropriate Configurable parameters in the Parameters Section</li>
<li>Allow the end system to connect to the CPE via DHCP.</li>
<li>Perform a reboot of the CPE</li>
<li>Allow the end system to attempt connect to the CPE via DHCP</li>
</ol>
<h4 id="sec:test-metrics-62">5.9.0.6 Test Metrics: <a href="#sec:test-metrics-62" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the SetParameterValuesResponse RPC is correct for all parameters</li>
<li>Verify that the end system doesn’t connect to the CPE within the designated range.</li>
<li>Verify that that end system doesn’t connects to the CPE within the designated range after the reboot</li>
</ol>
<h2 class="new-page" id="sec:diagnostics-ipping-error-condition">5.10 Diagnostics IPPing – Error Condition <a href="#sec:diagnostics-ipping-error-condition" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h4 id="sec:purpose-64">5.10.0.1 Purpose: <a href="#sec:purpose-64" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can perform an IP Ping Diagnostics test on the CPE where the CPE returns a Error_NoRouteToHost.</div>
<h4 id="sec:references-64">5.10.0.2 References: <a href="#sec:references-64" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice:1.6 and Device:2.6</div>
<h4 id="sec:parameters-63">5.10.0.3 Parameters: <a href="#sec:parameters-63" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters within the InternetGatewayDevice.IPPingDiagnostics. table (for devices that implement the InternetGatewayDevice:1 data model) or Device.IP.Diagnostics.IPPing. table (for devices that implement the Device:2 data model) are required to be implemented for this test:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Name</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Diagnostics State</td>
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">Requested</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Return from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Host</td>
<td style="text-align: left;">Host</td>
<td style="text-align: left;">Host</td>
<td style="text-align: left;">Unknown Host</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Number of Repetitions</td>
<td style="text-align: left;">NumberOfRepetitions</td>
<td style="text-align: left;">NumberOfRepetitions</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Time out</td>
<td style="text-align: left;">Timeout</td>
<td style="text-align: left;">Timeout</td>
<td style="text-align: left;">1000</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Data block size</td>
<td style="text-align: left;">DataBlockSize</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">128</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">DSCP</td>
<td style="text-align: left;">DSCP</td>
<td style="text-align: left;">DSCP</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even even">
<td style="text-align: left;">TimeZone</td>
<td style="text-align: left;">LocalTimeZone</td>
<td style="text-align: left;">LocalTimeZone</td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
<div class="line-block">The following WAN Interface parameters are to determine the WAN interface of the CPE, InternetGatewayDevice.Layer3Forwarding.Default and Device.IP.Interface:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Name</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Connection</td>
<td style="text-align: left;">DefaultConnectionService</td>
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from Device</td>
</tr>
</tbody>
</table>
<div class="line-block">The following Diagnostics parameters are to determine the state of the IP ping test of the CPE, InternetGatewayDevice.IPPingDiagnostics and Device.IP.Diagnostics.IPPing:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Name</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">Returned from Device</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-64">5.10.0.4 Test Setup: <a href="#sec:test-setup-64" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS connected to the network</li>
<li>CPE connected to the network and configured with an ACS URL that corresponds to the ACS in Setup #1</li>
<li>Wireshark running between ACS and CPE.</li>
</ol>
<h4 id="sec:procedure-63">5.10.0.5 Procedure: <a href="#sec:procedure-63" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS performs a GetParameterValues RPC on the WAN Interface parameter to determine the current interface in the parameter section above.</li>
<li>ACS performs a SetParameterValues RPC on the ping diagnostics parameters in the parameter section above.</li>
<li>ACS performs a GetParameterValues on the InternetGatewayDevice.IPPingDiagnostics or Device.IP.Diagnostics.IPPing to determine results of ping test</li>
</ol>
<h4 id="sec:test-metrics-63">5.10.0.6 Test Metrics: <a href="#sec:test-metrics-63" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Validate that an Inform RPC is sent from the ACS with Event Code “8 DIAGNOSTICS COMPLETE”</li>
<li>Validate that the DiagnosticsState is set to Error_NoRouteToHost.</li>
</ol>
<h2 class="new-page" id="sec:traceroute-diagnostics-error-condition">5.11 TraceRoute Diagnostics – Error Condition <a href="#sec:traceroute-diagnostics-error-condition" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h4 id="sec:purpose-65">5.11.0.1 Purpose: <a href="#sec:purpose-65" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">This test is designed to validate that the CPE supports TraceRoute diagnostics test and reports results appropriately to the ACS.</div>
<h4 id="sec:references-65">5.11.0.2 References: <a href="#sec:references-65" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice:1.6 and Device:2.6</div>
<h4 id="sec:parameters-64">5.11.0.3 Parameters: <a href="#sec:parameters-64" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters with the InternetGatewayDevice.TraceRouteDiagnostics. table (for devices that implement the InternetGatewayDevice:1 data model) and Device.IP.Diagnostics.TraceRoute. (for devices that implement the Device:2 data model) are required to be implemented for this test:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Name</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Interface</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Return from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Host</td>
<td style="text-align: left;">Host</td>
<td style="text-align: left;">Host</td>
<td style="text-align: left;">Ping host</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Number of Tries</td>
<td style="text-align: left;">NumberOfTries</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even even">
<td style="text-align: left;">Time out</td>
<td style="text-align: left;">Timeout</td>
<td style="text-align: left;">Timeout</td>
<td style="text-align: left;">5000</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Data block size</td>
<td style="text-align: left;">DataBlockSize</td>
<td style="text-align: left;">DataBlockSize</td>
<td style="text-align: left;">128</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DSCP</td>
<td style="text-align: left;">DSCP</td>
<td style="text-align: left;">DSCP</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Max Hop Count</td>
<td style="text-align: left;">MaxHopCount</td>
<td style="text-align: left;">MaxHopCount</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even even">
<td style="text-align: left;">Diagnostic State</td>
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-65">5.11.0.4 Test Setup: <a href="#sec:test-setup-65" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS connected to the network</li>
<li>CPE connected to the network and configured with an ACS URL that corresponds to the ACS in Setup #1</li>
<li>Wireshark running between ACS and CPE.</li>
<li>Ensure there are at least 2 hops between the CPE and Host</li>
</ol>
<h4 id="sec:procedure-64">5.11.0.5 Procedure: <a href="#sec:procedure-64" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Establish a CWMP session between the CWMP Analyzer and DUT with successful Inform exchanges.</li>
<li>Schedule a GetParameterValues RPC on the current WAN interface.</li>
<li>Schedule a SetParameterValues RPC on the DUT on the trace route diagnostic parameters listed above.</li>
<li>Schedule a GetParameterValues RPC on the DUT on Diagnostic State.</li>
</ol>
<h4 id="sec:test-metrics-64">5.11.0.6 Test Metrics: <a href="#sec:test-metrics-64" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>The DUT can properly respond to the GetParameterValues request on WAN interface.</li>
<li>The DUT is able to properly respond to the SetParameterValues for diagnostics parameter.</li>
<li>Validate that the DiagnosticsState is set to “Error_MaxHopCountExceeded”</li>
</ol>
<h2 class="new-page" id="sec:ipping-diagnostics-periodic-inform">5.12 IPPing Diagnostics – Periodic Inform <a href="#sec:ipping-diagnostics-periodic-inform" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h4 id="sec:purpose-66">5.12.0.1 Purpose: <a href="#sec:purpose-66" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS can perform an IP Ping Diagnostics test on the CPE and receive a periodic inform without an Diagnostic complete event before the diagnostic completes.</div>
<h4 id="sec:references-66">5.12.0.2 References: <a href="#sec:references-66" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice:1.6 and Device:2.6</div>
<h4 id="sec:parameters-65">5.12.0.3 Parameters: <a href="#sec:parameters-65" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters within the InternetGatewayDevice.IPPingDiagnostics. table (for devices that implement the InternetGatewayDevice:1 data model) or Device.IP.Diagnostics.IPPing. table (for devices that implement the Device:2 data model) are required to be implemented for this test:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Name</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Diagnostics State</td>
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">Requested</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Return from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Host</td>
<td style="text-align: left;">Host</td>
<td style="text-align: left;">Host</td>
<td style="text-align: left;">Unknown Host</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Number of Repetitions</td>
<td style="text-align: left;">NumberOfRepetitions</td>
<td style="text-align: left;">NumberOfRepetitions</td>
<td style="text-align: left;">10000</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Time out</td>
<td style="text-align: left;">Timeout</td>
<td style="text-align: left;">Timeout</td>
<td style="text-align: left;">100000</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Data block size</td>
<td style="text-align: left;">DataBlockSize</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">128</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">DSCP</td>
<td style="text-align: left;">DSCP</td>
<td style="text-align: left;">DSCP</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even even">
<td style="text-align: left;">TimeZone</td>
<td style="text-align: left;">LocalTimeZone</td>
<td style="text-align: left;">LocalTimeZone</td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
<div class="line-block">The following WAN Interface parameters are to determine the WAN interface of the CPE, InternetGatewayDevice.Layer3Forwarding.Default and Device.IP.Interface:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Name</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Connection</td>
<td style="text-align: left;">DefaultConnectionService</td>
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from Device</td>
</tr>
</tbody>
</table>
<div class="line-block">The following Diagnostics parameters are to determine the state of the IP ping test of the CPE, InternetGatewayDevice.IPPingDiagnostics and Device.IP.Diagnostics.IPPing:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Name</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">Returned from Device</td>
</tr>
</tbody>
</table>
<div class="line-block">The following parameters are to set to ensure the CPE performs a periodic inform prior to the completion of Diagnostic, InternetGatewayDevice.ManagementServer and Device.IP.Diagnostics.ManagementServer:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Name</th>
<th style="text-align: left;">InternetGatewayDevice:1</th>
<th style="text-align: left;">Device:2</th>
<th style="text-align: left;">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">PeriodicInformInterval</td>
<td style="text-align: left;">PeriodicInformInterval</td>
<td style="text-align: left;">PeriodicInformInterval</td>
<td style="text-align: left;">30</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-66">5.12.0.4 Test Setup: <a href="#sec:test-setup-66" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS connected to the network</li>
<li>CPE connected to the network and configured with an ACS URL that corresponds to the ACS in Setup #1</li>
<li>Wireshark running between ACS and CPE.</li>
</ol>
<h4 id="sec:procedure-65">5.12.0.5 Procedure: <a href="#sec:procedure-65" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>ACS performs a SetParameterValues RPC on the ManagementServer parameters in the parameter section above.</li>
<li>ACS performs a GetParameterValues RPC on the WAN Interface parameter to determine the current interface in the parameter section above.</li>
<li>ACS performs a SetParameterValues RPC on the ping diagnostics parameters in the parameter section above.</li>
<li>ACS performs a GetParameterValues on the InternetGatewayDevice.IPPingDiagnostics or Device.IP.Diagnostics.IPPing to determine results of ping test</li>
</ol>
<h4 id="sec:test-metrics-65">5.12.0.6 Test Metrics: <a href="#sec:test-metrics-65" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>During diagnostic: Validate that the Inform RPC does not have a “8 DIAGNOSTICS COMPLETE” Event Code</li>
<li>After diagnostic:-Validate that an Inform RPC is sent from the ACS with Event Code “8 DIAGNOSTICS COMPLETE”</li>
</ol>
<h2 class="new-page" id="sec:denyallow-inbound-ipv6-device2-only">5.13 Deny/Allow Inbound IPv6 (Device:2 Only) <a href="#sec:denyallow-inbound-ipv6-device2-only" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h4 id="sec:purpose-67">5.13.0.1 Purpose: <a href="#sec:purpose-67" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify the ACS can configure a firewall on the CPE that allows certain IPv6 traffic from the WAN side.</div>
<h4 id="sec:references-67">5.13.0.2 References: <a href="#sec:references-67" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">Device:2.2</div>
<h4 id="sec:parameters-66">5.13.0.3 Parameters: <a href="#sec:parameters-66" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Config</td>
<td style="text-align: left;">Advanced</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">AdvancedLevel</td>
<td style="text-align: left;">Device.Firewall.Level.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Level.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Chain</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DefaultPolicy</td>
<td style="text-align: left;">Drop</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.Rule.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Target</td>
<td style="text-align: left;">Accept</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DestInterface</td>
<td style="text-align: left;">Default WAN Interface</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">DestIP</td>
<td style="text-align: left;">IPv6 Address</td>
</tr>
<tr class="even even">
<td style="text-align: left;">SourceIP</td>
<td style="text-align: left;">IPv6 Address</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Protocol</td>
<td style="text-align: left;">int[-1:255]</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DestPort</td>
<td style="text-align: left;">int[-1:65535]</td>
</tr>
</tbody>
</table>
<h4 id="sec:test-setup-67">5.13.0.4 Test Setup: <a href="#sec:test-setup-67" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Refer to <a href="#sec:determine-wan-interface" class="heading">Determine WAN Interface</a> to determine the WAN interface.</li>
<li>Two Devices that can send and receive TCP and UDP connections over IPv6 connected to the LAN side of the CPE (End Device 1 and End Device 2)</li>
<li>Device that can send and receive TCP and UDP connections over IPv6 connected on the WAN side of the CPE (WAN Device)</li>
<li>Have a Network Analyzer to capture traffic between the CPE and the End Device.</li>
</ol>
<h4 id="sec:procedure-66">5.13.0.5 Procedure: <a href="#sec:procedure-66" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li><p>Configure ACS to send an AddObject RPC for Device.Firewall.Level and record the returned instance number.</p></li>
<li><p>Configure ACS to send a GetParameterValues RPC for Device.Firewall.Level.{i}.Chain.</p></li>
<li><p>Configure ACS to send an AddObject RPC for Device.Firewall.Chain.{i}.Rule using the path returned in step 2 and record the returned instance number.</p></li>
<li><p>ACS performs a SetParameterValues RPC on the following parameters using the instance numbers returned in steps 1-3.</p>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Config</td>
<td style="text-align: left;">Advanced</td>
</tr>
<tr class="even even">
<td style="text-align: left;">AdvancedLevel</td>
<td style="text-align: left;">Device.Firewall.Level.{i}.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Level.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Chain</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DefaultPolicy</td>
<td style="text-align: left;">Drop</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.Rule.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Target</td>
<td style="text-align: left;">Accept</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DestIP</td>
<td style="text-align: left;">&lt;Unused IP Address&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">SourceIP</td>
<td style="text-align: left;">&lt;Unused IP Address&gt;</td>
</tr>
</tbody>
</table></li>
<li><p>ACS enables the Firewall by sending a SetParameterValues RPC for Device.Firewall.Enable with the value set to “true.”</p></li>
<li><p>WAN Device attempts to open a TCP connection over IPv6, destination port 25, with End Device 1.</p></li>
<li><p>WAN Device attempts to open a TCP connection over IPv6, destination port 25, with End Device 2.</p></li>
<li><p>Configure ACS to send an AddObject RPC for Device.Firewall.Chain.{i}.Rule and record the returned instance number.</p></li>
<li><p>ACS Configures the new Firewall Rule by sending a SetParameterValues RPC with the following name/value pairs using the instance number returned in step 8.</p>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.Rule.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Target</td>
<td style="text-align: left;">Accept</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DestInterface</td>
<td style="text-align: left;">Default WAN Interface</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Protocol</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even even">
<td style="text-align: left;">DestPort</td>
<td style="text-align: left;">25</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">DestIP</td>
<td style="text-align: left;">End Device1 IP</td>
</tr>
</tbody>
</table></li>
<li><p>WAN Device attempts to open a TCP connection over IPv6, destination port 25, with End Device 1.</p></li>
<li><p>WAN Device attempts to open a TCP connection over IPv6, destination port 25, with End Device 2.</p></li>
<li><p>Configure ACS to send an AddObject RPC for Device.Firewall.Chain.{i}.Rule and record the returned instance number.</p></li>
<li><p>ACS Configures the new Firewall Rule by sending a SetParameterValues RPC with the following name/value pairs using the instance number returned in step 12.</p>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Enable</td>
<td style="text-align: left;">true</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.Firewall.Chain.{i}.Rule.{i}.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Target</td>
<td style="text-align: left;">Accept</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DestInterface</td>
<td style="text-align: left;">Default WAN Interface</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">Protocol</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even even">
<td style="text-align: left;">DestPort</td>
<td style="text-align: left;">25</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">DestIP</td>
<td style="text-align: left;">End Device2 IP</td>
</tr>
</tbody>
</table></li>
<li><p>WAN Device attempts to open a TCP connection over IPv6, destination port 25, with End Device 1.</p></li>
<li><p>WAN Device attempts to open a TCP connection over IPv6, destination port 25, with End Device 2.</p></li>
</ol>
<h4 id="sec:test-metrics-66">5.13.0.6 Test Metrics: <a href="#sec:test-metrics-66" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>In Step 6, CPE does not forward TCP traffic from WAN Device to End Device1.</li>
<li>In Step 7, CPE does not forward TCP traffic from WAN Device to End Device2.</li>
<li>In Step 10, CPE forwards TCP traffic from WAN Device to End Device1.</li>
<li>In Step 11, CPE does not forward TCP traffic from WAN Device to End Device2.</li>
<li>In Step 14, CPE forwards TCP traffic from WAN Device to End Device1.</li>
<li>In Step 15, CPE forwards TCP traffic from WAN Device to End Device2.</li>
</ol>
<h2 class="new-page" id="sec:download-diagnostics-over-https-totalbytesreceived">5.14 Download Diagnostics over HTTPS – TotalBytesReceived <a href="#sec:download-diagnostics-over-https-totalbytesreceived" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h4 id="sec:purpose-68">5.14.0.1 Purpose: <a href="#sec:purpose-68" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS and CPE can interoperate while performing the download diagnostics function over HTTPS. This test will be run if supported on the CPE.</div>
<h4 id="sec:references-68">5.14.0.2 References: <a href="#sec:references-68" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice.1.3</div>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:parameters-67">5.14.0.3 Parameters: <a href="#sec:parameters-67" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test:</div>
<div class="line-block">For CPE that implement the Device:2 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.IP.Diagnostics.DownloadDiagnostics.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">Requested</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">DownloadURL</td>
<td style="text-align: left;">&lt;HTTPS URL of file on server&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">TestBytesReceived</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">TotalBytesReceived</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">DownloadTransports</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<div class="line-block">For CPE that implement the InternetGatewayDevice:1 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.DownloadDiagnostics.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">Requested</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">DownloadURL</td>
<td style="text-align: left;">&lt;HTTPS URL of file on server&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">TestBytesReceived</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">TotalBytesReceived</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.Capabilities.PerformanceDiagnostics.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">DownloadTransports</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<div class="line-block">The DownloadTransports parameter MUST include HTTP for this test to be executed.</div>
<h4 id="sec:test-setup-68">5.14.0.4 Test Setup: <a href="#sec:test-setup-68" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have an HTTP server and file to perform the download over HTTPS. The file should be big enough for the file transfer to last at least 30 seconds.</li>
</ol>
<h4 id="sec:procedure-67">5.14.0.5 Procedure: <a href="#sec:procedure-67" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>On the ACS schedule a SetParameterValues RPC on the Interface, DownloadURL and DiagnosticsState parameters listed in the parameters section.</li>
<li>Allow the CPE to perform the specific diagnostic tests and send an Inform message with an event code of “8 DIAGNOSTICS COMPLETE”.</li>
<li>On the ACS schedule a GetParameterValues RPC on the DownloadDiagnostics object.</li>
<li>Perform a reboot of the CPE.</li>
<li>On the ACS schedule a GetParameterValues RPC on the DownloadDiagnostics object.</li>
</ol>
<h4 id="sec:test-metrics-67">5.14.0.6 Test Metrics: <a href="#sec:test-metrics-67" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the SetParameterValuesResponse RPC is correct</li>
<li>Verify that an Inform message is received with an event code of “8 DIAGNOSTICS COMPLETE”</li>
<li>Verify that the GetParameterValuesResponse contains a valid value for the DiagnosticsState parameter.</li>
<li>Verify that TestBytesReceived is correct.</li>
<li>Verify that EOMTime – BOMTime is within 1 second of the time that the file server reports the transfer took.</li>
<li>Verify that the GetParameterValuesResponse contains a valid value for the DiagnosticsState parameter.
<ol>
<li>If the value is “Completed” verify that the values in the DownloadDiagnostic object are the same as they were before the reboot.</li>
<li>Verify that TotalBytesReceived is within 1% of the measured traffic.</li>
</ol></li>
</ol>
<h2 class="new-page" id="sec:upload-diagnostics-over-http---totalbytessent">5.15 Upload Diagnostics over HTTP - TotalBytesSent <a href="#sec:upload-diagnostics-over-http---totalbytessent" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h4 id="sec:purpose-69">5.15.0.1 Purpose: <a href="#sec:purpose-69" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">To verify that an ACS and CPE can inter-operate while performing the upload diagnostics function over HTTP. This test will be run if supported on the CPE.</div>
<h4 id="sec:references-69">5.15.0.2 References: <a href="#sec:references-69" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">InternetGatewayDevice.1.3</div>
<div class="line-block">Device:2 <span class="cite" data-citation-ids="TR-181"><a href="#ref-TR-181">[10]</a></span></div>
<h4 id="sec:parameters-68">5.15.0.3 Parameters: <a href="#sec:parameters-68" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<div class="line-block">The following parameters are required to be implemented for this test:</div>
<div class="line-block">For CPE that implement the Device:2 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Device.IP.Diagnostics.UploadDiagnostics.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">Requested</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">UploadURL</td>
<td style="text-align: left;">&lt;HTTPS URL of server&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">TestFileLength</td>
<td style="text-align: left;">&lt;value long enough for the upload to last 30 seconds&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">TotalBytesSent</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="even even">
<td style="text-align: left;">UploadTransports</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<div class="line-block">For CPE that implement the InternetGatewayDevice:1 root data model:</div>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.UploadDiagnostics.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">DiagnosticsState</td>
<td style="text-align: left;">Requested</td>
</tr>
<tr class="even even">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Returned from device</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">UploadURL</td>
<td style="text-align: left;">&lt;HTTPS URL of server&gt;</td>
</tr>
<tr class="even even">
<td style="text-align: left;">TestFileLength</td>
<td style="text-align: left;">&lt;value long enough for the upload to last 30 seconds&gt;</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;">TotalBytesSent</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">InternetGatewayDevice.Capabilities.PerformanceDiagnostics.</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">UploadTransports</td>
<td style="text-align: left;">Returned from device</td>
</tr>
</tbody>
</table>
<div class="line-block">The UploadTransports parameter MUST include HTTP for this test to be executed.</div>
<h4 id="sec:test-setup-69">5.15.0.4 Test Setup: <a href="#sec:test-setup-69" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Refer to <a href="#sec:common-test-setup" class="heading">Common Test Setup</a> for setup steps.</li>
<li>Have an HTTP server to perform the Upload over HTTPS.</li>
<li>Wireshark running between ACS and CPE.</li>
</ol>
<h4 id="sec:procedure-68">5.15.0.5 Procedure: <a href="#sec:procedure-68" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>On the ACS schedule a SetParameterValues RPC on the Interface, UploadURL and DiagnosticsState parameters listed in the parameters section.</li>
<li>Allow the CPE to perform the specific diagnostic tests and send an Inform message with an event code of “8 DIAGNOSTICS COMPLETE”.</li>
<li>On the ACS schedule a GetParameterValues RPC on the UploadDiagnostics object.</li>
<li>Perform a reboot of the CPE</li>
<li>On the ACS schedule a GetParameterValues RPC on the UploadDiagnostics object.</li>
</ol>
<h4 id="sec:test-metrics-68">5.15.0.6 Test Metrics: <a href="#sec:test-metrics-68" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<ol>
<li>Verify that the SetParameterValuesResponse RPC is correct</li>
<li>Verify that an Inform message is received with an event code of “8 DIAGNOSTICS COMPLETE”</li>
<li>Verify that the GetParameterValuesResponse contains a valid value for the DiagnosticsState parameter.</li>
<li>Verify that the test server received a file of TestLengthBytes size.</li>
<li>Verify that EOMTime – BOMTime is within 1 second of the time that the file server reports the transfer took.</li>
<li>Verify that the GetParameterValuesResponse contains a valid value for the DiagnosticsState parameter.
<ol>
<li>If the value is “Completed” verify that the values in the UploadDiagnostic object are the same as they were before the reboot.</li>
<li>Verify that TotalBytesSent is within 1% of the measured traffic.</li>
</ol></li>
</ol>
<h1 class="new-page" id="sec:open-issues">6 Open Issues <a href="#sec:open-issues" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h1>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Item #</th>
<th style="text-align: left;">Item Description</th>
<th style="text-align: left;">Reference(s)</th>
<th style="text-align: left;">Status</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;">Item x</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
<div class="note">
<p>End of Broadband Forum Test Plan TP-181</p>
</div>
</div>
</body>
</html>
